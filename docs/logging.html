<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.7.0"/>
    <title>logging API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="index.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;
                Module Index
            </a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#BASIC_FORMAT">BASIC_FORMAT</a>
            </li>
            <li>
                    <a class="class" href="#BufferingFormatter">BufferingFormatter</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#BufferingFormatter.__init__">BufferingFormatter</a>
                        </li>
                        <li>
                                <a class="function" href="#BufferingFormatter.formatHeader">formatHeader</a>
                        </li>
                        <li>
                                <a class="function" href="#BufferingFormatter.formatFooter">formatFooter</a>
                        </li>
                        <li>
                                <a class="function" href="#BufferingFormatter.format">format</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#CRITICAL">CRITICAL</a>
            </li>
            <li>
                    <a class="variable" href="#DEBUG">DEBUG</a>
            </li>
            <li>
                    <a class="variable" href="#ERROR">ERROR</a>
            </li>
            <li>
                    <a class="variable" href="#FATAL">FATAL</a>
            </li>
            <li>
                    <a class="class" href="#FileHandler">FileHandler</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FileHandler.__init__">FileHandler</a>
                        </li>
                        <li>
                                <a class="variable" href="#FileHandler.baseFilename">baseFilename</a>
                        </li>
                        <li>
                                <a class="variable" href="#FileHandler.mode">mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#FileHandler.encoding">encoding</a>
                        </li>
                        <li>
                                <a class="variable" href="#FileHandler.errors">errors</a>
                        </li>
                        <li>
                                <a class="variable" href="#FileHandler.delay">delay</a>
                        </li>
                        <li>
                                <a class="function" href="#FileHandler.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#FileHandler.emit">emit</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Filter">Filter</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Filter.__init__">Filter</a>
                        </li>
                        <li>
                                <a class="variable" href="#Filter.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Filter.nlen">nlen</a>
                        </li>
                        <li>
                                <a class="function" href="#Filter.filter">filter</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Formatter">Formatter</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Formatter.__init__">Formatter</a>
                        </li>
                        <li>
                                <a class="function" href="#Formatter.converter">converter</a>
                        </li>
                        <li>
                                <a class="variable" href="#Formatter.datefmt">datefmt</a>
                        </li>
                        <li>
                                <a class="variable" href="#Formatter.default_time_format">default_time_format</a>
                        </li>
                        <li>
                                <a class="variable" href="#Formatter.default_msec_format">default_msec_format</a>
                        </li>
                        <li>
                                <a class="function" href="#Formatter.formatTime">formatTime</a>
                        </li>
                        <li>
                                <a class="function" href="#Formatter.formatException">formatException</a>
                        </li>
                        <li>
                                <a class="function" href="#Formatter.usesTime">usesTime</a>
                        </li>
                        <li>
                                <a class="function" href="#Formatter.formatMessage">formatMessage</a>
                        </li>
                        <li>
                                <a class="function" href="#Formatter.formatStack">formatStack</a>
                        </li>
                        <li>
                                <a class="function" href="#Formatter.format">format</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Handler">Handler</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Handler.__init__">Handler</a>
                        </li>
                        <li>
                                <a class="variable" href="#Handler.level">level</a>
                        </li>
                        <li>
                                <a class="variable" href="#Handler.formatter">formatter</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.get_name">get_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.set_name">set_name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Handler.name">name</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.createLock">createLock</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.acquire">acquire</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.release">release</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.setLevel">setLevel</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.format">format</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.emit">emit</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.handle">handle</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.setFormatter">setFormatter</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.flush">flush</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#Handler.handleError">handleError</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#INFO">INFO</a>
            </li>
            <li>
                    <a class="class" href="#LogRecord">LogRecord</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LogRecord.__init__">LogRecord</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.msg">msg</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.args">args</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.levelname">levelname</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.levelno">levelno</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.pathname">pathname</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.exc_info">exc_info</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.exc_text">exc_text</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.stack_info">stack_info</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.lineno">lineno</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.funcName">funcName</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.created">created</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.msecs">msecs</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.relativeCreated">relativeCreated</a>
                        </li>
                        <li>
                                <a class="variable" href="#LogRecord.taskName">taskName</a>
                        </li>
                        <li>
                                <a class="function" href="#LogRecord.getMessage">getMessage</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Logger">Logger</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Logger.__init__">Logger</a>
                        </li>
                        <li>
                                <a class="variable" href="#Logger.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Logger.level">level</a>
                        </li>
                        <li>
                                <a class="variable" href="#Logger.parent">parent</a>
                        </li>
                        <li>
                                <a class="variable" href="#Logger.propagate">propagate</a>
                        </li>
                        <li>
                                <a class="variable" href="#Logger.handlers">handlers</a>
                        </li>
                        <li>
                                <a class="variable" href="#Logger.disabled">disabled</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.setLevel">setLevel</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.debug">debug</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.info">info</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.warning">warning</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.warn">warn</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.error">error</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.exception">exception</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.critical">critical</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.fatal">fatal</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.log">log</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.findCaller">findCaller</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.makeRecord">makeRecord</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.handle">handle</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.addHandler">addHandler</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.removeHandler">removeHandler</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.hasHandlers">hasHandlers</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.callHandlers">callHandlers</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.getEffectiveLevel">getEffectiveLevel</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.isEnabledFor">isEnabledFor</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.getChild">getChild</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.getChildren">getChildren</a>
                        </li>
                        <li>
                                <a class="variable" href="#Logger.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#Logger.manager">manager</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.warning_advice">warning_advice</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.warning_once">warning_once</a>
                        </li>
                        <li>
                                <a class="function" href="#Logger.info_once">info_once</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LoggerAdapter">LoggerAdapter</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LoggerAdapter.__init__">LoggerAdapter</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoggerAdapter.logger">logger</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoggerAdapter.extra">extra</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.process">process</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.debug">debug</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.info">info</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.warning">warning</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.warn">warn</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.error">error</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.exception">exception</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.critical">critical</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.log">log</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.isEnabledFor">isEnabledFor</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.setLevel">setLevel</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.getEffectiveLevel">getEffectiveLevel</a>
                        </li>
                        <li>
                                <a class="function" href="#LoggerAdapter.hasHandlers">hasHandlers</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoggerAdapter.manager">manager</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoggerAdapter.name">name</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#NOTSET">NOTSET</a>
            </li>
            <li>
                    <a class="class" href="#NullHandler">NullHandler</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#NullHandler.handle">handle</a>
                        </li>
                        <li>
                                <a class="function" href="#NullHandler.emit">emit</a>
                        </li>
                        <li>
                                <a class="function" href="#NullHandler.createLock">createLock</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#StreamHandler">StreamHandler</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#StreamHandler.__init__">StreamHandler</a>
                        </li>
                        <li>
                                <a class="variable" href="#StreamHandler.terminator">terminator</a>
                        </li>
                        <li>
                                <a class="variable" href="#StreamHandler.stream">stream</a>
                        </li>
                        <li>
                                <a class="function" href="#StreamHandler.flush">flush</a>
                        </li>
                        <li>
                                <a class="function" href="#StreamHandler.emit">emit</a>
                        </li>
                        <li>
                                <a class="function" href="#StreamHandler.setStream">setStream</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#WARN">WARN</a>
            </li>
            <li>
                    <a class="variable" href="#WARNING">WARNING</a>
            </li>
            <li>
                    <a class="function" href="#addLevelName">addLevelName</a>
            </li>
            <li>
                    <a class="function" href="#basicConfig">basicConfig</a>
            </li>
            <li>
                    <a class="function" href="#captureWarnings">captureWarnings</a>
            </li>
            <li>
                    <a class="function" href="#critical">critical</a>
            </li>
            <li>
                    <a class="function" href="#debug">debug</a>
            </li>
            <li>
                    <a class="function" href="#disable">disable</a>
            </li>
            <li>
                    <a class="function" href="#error">error</a>
            </li>
            <li>
                    <a class="function" href="#exception">exception</a>
            </li>
            <li>
                    <a class="function" href="#fatal">fatal</a>
            </li>
            <li>
                    <a class="function" href="#getLevelName">getLevelName</a>
            </li>
            <li>
                    <a class="function" href="#getLogger">getLogger</a>
            </li>
            <li>
                    <a class="function" href="#getLoggerClass">getLoggerClass</a>
            </li>
            <li>
                    <a class="function" href="#info">info</a>
            </li>
            <li>
                    <a class="function" href="#log">log</a>
            </li>
            <li>
                    <a class="function" href="#makeLogRecord">makeLogRecord</a>
            </li>
            <li>
                    <a class="function" href="#setLoggerClass">setLoggerClass</a>
            </li>
            <li>
                    <a class="function" href="#shutdown">shutdown</a>
            </li>
            <li>
                    <a class="function" href="#warn">warn</a>
            </li>
            <li>
                    <a class="function" href="#warning">warning</a>
            </li>
            <li>
                    <a class="function" href="#getLogRecordFactory">getLogRecordFactory</a>
            </li>
            <li>
                    <a class="function" href="#setLogRecordFactory">setLogRecordFactory</a>
            </li>
            <li>
                    <a class="variable" href="#lastResort">lastResort</a>
            </li>
            <li>
                    <a class="variable" href="#raiseExceptions">raiseExceptions</a>
            </li>
            <li>
                    <a class="function" href="#getLevelNamesMapping">getLevelNamesMapping</a>
            </li>
            <li>
                    <a class="function" href="#getHandlerByName">getHandlerByName</a>
            </li>
            <li>
                    <a class="function" href="#getHandlerNames">getHandlerNames</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
logging    </h1>

                        <div class="docstring"><p>Logging package for Python. Based on PEP 282 and comments thereto in
comp.lang.python.</p>

<p>Copyright (C) 2001-2022 Vinay Sajip. All Rights Reserved.</p>

<p>To use, simply 'import logging' and log away!</p>
</div>

                        <input id="mod-logging-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-logging-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="c1"># Copyright 2001-2022 by Vinay Sajip. All Rights Reserved.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="c1">#</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="c1"># Permission to use, copy, modify, and distribute this software and its</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="c1"># documentation for any purpose and without fee is hereby granted,</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="c1"># provided that the above copyright notice appear in all copies and that</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="c1"># both that copyright notice and this permission notice appear in</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="c1"># supporting documentation, and that the name of Vinay Sajip</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="c1"># not be used in advertising or publicity pertaining to distribution</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="c1"># of the software without specific, written prior permission.</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="c1"># VINAY SAJIP DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="c1"># ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a><span class="c1"># VINAY SAJIP BE LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a><span class="c1"># ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="c1"># IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="c1"># OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="sd">Logging package for Python. Based on PEP 282 and comments thereto in</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="sd">comp.lang.python.</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="sd">Copyright (C) 2001-2022 Vinay Sajip. All Rights Reserved.</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="sd">To use, simply &#39;import logging&#39; and log away!</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">io</span><span class="o">,</span> <span class="nn">re</span><span class="o">,</span> <span class="nn">traceback</span><span class="o">,</span> <span class="nn">warnings</span><span class="o">,</span> <span class="nn">weakref</span><span class="o">,</span> <span class="nn">collections.abc</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">GenericAlias</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">Template</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a><span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">Formatter</span> <span class="k">as</span> <span class="n">StrFormatter</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;BASIC_FORMAT&#39;</span><span class="p">,</span> <span class="s1">&#39;BufferingFormatter&#39;</span><span class="p">,</span> <span class="s1">&#39;CRITICAL&#39;</span><span class="p">,</span> <span class="s1">&#39;DEBUG&#39;</span><span class="p">,</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a>           <span class="s1">&#39;FATAL&#39;</span><span class="p">,</span> <span class="s1">&#39;FileHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;Filter&#39;</span><span class="p">,</span> <span class="s1">&#39;Formatter&#39;</span><span class="p">,</span> <span class="s1">&#39;Handler&#39;</span><span class="p">,</span> <span class="s1">&#39;INFO&#39;</span><span class="p">,</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a>           <span class="s1">&#39;LogRecord&#39;</span><span class="p">,</span> <span class="s1">&#39;Logger&#39;</span><span class="p">,</span> <span class="s1">&#39;LoggerAdapter&#39;</span><span class="p">,</span> <span class="s1">&#39;NOTSET&#39;</span><span class="p">,</span> <span class="s1">&#39;NullHandler&#39;</span><span class="p">,</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a>           <span class="s1">&#39;StreamHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;WARN&#39;</span><span class="p">,</span> <span class="s1">&#39;WARNING&#39;</span><span class="p">,</span> <span class="s1">&#39;addLevelName&#39;</span><span class="p">,</span> <span class="s1">&#39;basicConfig&#39;</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a>           <span class="s1">&#39;captureWarnings&#39;</span><span class="p">,</span> <span class="s1">&#39;critical&#39;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="s1">&#39;disable&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a>           <span class="s1">&#39;exception&#39;</span><span class="p">,</span> <span class="s1">&#39;fatal&#39;</span><span class="p">,</span> <span class="s1">&#39;getLevelName&#39;</span><span class="p">,</span> <span class="s1">&#39;getLogger&#39;</span><span class="p">,</span> <span class="s1">&#39;getLoggerClass&#39;</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a>           <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;log&#39;</span><span class="p">,</span> <span class="s1">&#39;makeLogRecord&#39;</span><span class="p">,</span> <span class="s1">&#39;setLoggerClass&#39;</span><span class="p">,</span> <span class="s1">&#39;shutdown&#39;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a>           <span class="s1">&#39;warn&#39;</span><span class="p">,</span> <span class="s1">&#39;warning&#39;</span><span class="p">,</span> <span class="s1">&#39;getLogRecordFactory&#39;</span><span class="p">,</span> <span class="s1">&#39;setLogRecordFactory&#39;</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a>           <span class="s1">&#39;lastResort&#39;</span><span class="p">,</span> <span class="s1">&#39;raiseExceptions&#39;</span><span class="p">,</span> <span class="s1">&#39;getLevelNamesMapping&#39;</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a>           <span class="s1">&#39;getHandlerByName&#39;</span><span class="p">,</span> <span class="s1">&#39;getHandlerNames&#39;</span><span class="p">]</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a><span class="kn">import</span> <span class="nn">threading</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a><span class="n">__author__</span>  <span class="o">=</span> <span class="s2">&quot;Vinay Sajip &lt;vinay_sajip@red-dove.com&gt;&quot;</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a><span class="n">__status__</span>  <span class="o">=</span> <span class="s2">&quot;production&quot;</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a><span class="c1"># The following module attributes are no longer updated.</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a><span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;0.5.1.2&quot;</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a><span class="n">__date__</span>    <span class="o">=</span> <span class="s2">&quot;07 February 2010&quot;</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a><span class="c1">#   Miscellaneous module data</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a><span class="c1">#</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a><span class="c1">#_startTime is used as the base when calculating the relative time of events</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a><span class="c1">#</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a><span class="n">_startTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a><span class="c1">#</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a><span class="c1">#raiseExceptions is used to see if exceptions during handling should be</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a><span class="c1">#propagated</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a><span class="c1">#</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a><span class="n">raiseExceptions</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a><span class="c1">#</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a><span class="c1"># If you don&#39;t want threading information in the log, set this to False</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a><span class="c1">#</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a><span class="n">logThreads</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a><span class="c1">#</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a><span class="c1"># If you don&#39;t want multiprocessing information in the log, set this to False</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="c1">#</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a><span class="n">logMultiprocessing</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a><span class="c1">#</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a><span class="c1"># If you don&#39;t want process information in the log, set this to False</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a><span class="c1">#</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a><span class="n">logProcesses</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a><span class="c1">#</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a><span class="c1"># If you don&#39;t want asyncio task information in the log, set this to False</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a><span class="c1">#</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a><span class="n">logAsyncioTasks</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a><span class="c1">#   Level related stuff</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a><span class="c1">#</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a><span class="c1"># Default levels and level names, these can be replaced with any positive set</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a><span class="c1"># of values having corresponding names. There is a pseudo-level, NOTSET, which</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a><span class="c1"># is only really there as a lower limit for user-defined levels. Handlers and</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a><span class="c1"># loggers are initialized with NOTSET so that they will log all messages, even</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a><span class="c1"># at user-defined levels.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a><span class="c1">#</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a><span class="n">CRITICAL</span> <span class="o">=</span> <span class="mi">50</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a><span class="n">FATAL</span> <span class="o">=</span> <span class="n">CRITICAL</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a><span class="n">ERROR</span> <span class="o">=</span> <span class="mi">40</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a><span class="n">WARNING</span> <span class="o">=</span> <span class="mi">30</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a><span class="n">WARN</span> <span class="o">=</span> <span class="n">WARNING</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a><span class="n">INFO</span> <span class="o">=</span> <span class="mi">20</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a><span class="n">DEBUG</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a><span class="n">NOTSET</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a><span class="n">_levelToName</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>    <span class="n">CRITICAL</span><span class="p">:</span> <span class="s1">&#39;CRITICAL&#39;</span><span class="p">,</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>    <span class="n">ERROR</span><span class="p">:</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">,</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>    <span class="n">WARNING</span><span class="p">:</span> <span class="s1">&#39;WARNING&#39;</span><span class="p">,</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>    <span class="n">INFO</span><span class="p">:</span> <span class="s1">&#39;INFO&#39;</span><span class="p">,</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>    <span class="n">DEBUG</span><span class="p">:</span> <span class="s1">&#39;DEBUG&#39;</span><span class="p">,</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>    <span class="n">NOTSET</span><span class="p">:</span> <span class="s1">&#39;NOTSET&#39;</span><span class="p">,</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a><span class="p">}</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a><span class="n">_nameToLevel</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>    <span class="s1">&#39;CRITICAL&#39;</span><span class="p">:</span> <span class="n">CRITICAL</span><span class="p">,</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>    <span class="s1">&#39;FATAL&#39;</span><span class="p">:</span> <span class="n">FATAL</span><span class="p">,</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>    <span class="s1">&#39;ERROR&#39;</span><span class="p">:</span> <span class="n">ERROR</span><span class="p">,</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>    <span class="s1">&#39;WARN&#39;</span><span class="p">:</span> <span class="n">WARNING</span><span class="p">,</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>    <span class="s1">&#39;WARNING&#39;</span><span class="p">:</span> <span class="n">WARNING</span><span class="p">,</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>    <span class="s1">&#39;INFO&#39;</span><span class="p">:</span> <span class="n">INFO</span><span class="p">,</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>    <span class="s1">&#39;DEBUG&#39;</span><span class="p">:</span> <span class="n">DEBUG</span><span class="p">,</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>    <span class="s1">&#39;NOTSET&#39;</span><span class="p">:</span> <span class="n">NOTSET</span><span class="p">,</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a><span class="p">}</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a><span class="k">def</span> <span class="nf">getLevelNamesMapping</span><span class="p">():</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>    <span class="k">return</span> <span class="n">_nameToLevel</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a><span class="k">def</span> <span class="nf">getLevelName</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a><span class="sd">    Return the textual or numeric representation of logging level &#39;level&#39;.</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a><span class="sd">    If the level is one of the predefined levels (CRITICAL, ERROR, WARNING,</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a><span class="sd">    INFO, DEBUG) then you get the corresponding string. If you have</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a><span class="sd">    associated levels with names using addLevelName then the name you have</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a><span class="sd">    associated with &#39;level&#39; is returned.</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a><span class="sd">    If a numeric value corresponding to one of the defined levels is passed</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a><span class="sd">    in, the corresponding string representation is returned.</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a><span class="sd">    If a string representation of the level is passed in, the corresponding</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a><span class="sd">    numeric value is returned.</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a><span class="sd">    If no matching numeric or string value is passed in, the string</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a><span class="sd">    &#39;Level %s&#39; % level is returned.</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>    <span class="c1"># See Issues #22386, #27937 and #29220 for why it&#39;s this way</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">_levelToName</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">_nameToLevel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>    <span class="k">return</span> <span class="s2">&quot;Level </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">level</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a><span class="k">def</span> <span class="nf">addLevelName</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">levelName</span><span class="p">):</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a><span class="sd">    Associate &#39;levelName&#39; with &#39;level&#39;.</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a><span class="sd">    This is used when converting levels to text during message formatting.</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>    <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>    <span class="k">try</span><span class="p">:</span>    <span class="c1">#unlikely to cause an exception, but you never know...</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>        <span class="n">_levelToName</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">=</span> <span class="n">levelName</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>        <span class="n">_nameToLevel</span><span class="p">[</span><span class="n">levelName</span><span class="p">]</span> <span class="o">=</span> <span class="n">level</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>        <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a><span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s2">&quot;_getframe&quot;</span><span class="p">):</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>    <span class="n">currentframe</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a><span class="k">else</span><span class="p">:</span> <span class="c1">#pragma: no cover</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>    <span class="k">def</span> <span class="nf">currentframe</span><span class="p">():</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the frame object for the caller&#39;s stack frame.&quot;&quot;&quot;</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a>            <span class="k">raise</span> <span class="ne">Exception</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>            <span class="k">return</span> <span class="n">exc</span><span class="o">.</span><span class="n">__traceback__</span><span class="o">.</span><span class="n">tb_frame</span><span class="o">.</span><span class="n">f_back</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a><span class="c1">#</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a><span class="c1"># _srcfile is used when walking the stack to check when we&#39;ve got the first</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a><span class="c1"># caller stack frame, by skipping frames whose filename is that of this</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a><span class="c1"># module&#39;s source. It therefore should contain the filename of this module&#39;s</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a><span class="c1"># source file.</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a><span class="c1">#</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a><span class="c1"># Ordinarily we would use __file__ for this, but frozen modules don&#39;t always</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a><span class="c1"># have __file__ set, for some reason (see Issue #21736). Thus, we get the</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a><span class="c1"># filename from a handy code object from a function defined in this module.</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a><span class="c1"># (There&#39;s no particular reason for picking addLevelName.)</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a><span class="c1">#</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a><span class="n">_srcfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normcase</span><span class="p">(</span><span class="n">addLevelName</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_filename</span><span class="p">)</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a><span class="c1"># _srcfile is only used in conjunction with sys._getframe().</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a><span class="c1"># Setting _srcfile to None will prevent findCaller() from being called. This</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a><span class="c1"># way, you can avoid the overhead of fetching caller information.</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a><span class="c1"># The following is based on warnings._is_internal_frame. It makes sure that</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a><span class="c1"># frames of the import mechanism are skipped when logging at module level and</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a><span class="c1"># using a stacklevel value greater than one.</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a><span class="k">def</span> <span class="nf">_is_internal_frame</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Signal whether the frame is a CPython or logging module internal.&quot;&quot;&quot;</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>    <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normcase</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span><span class="p">)</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>    <span class="k">return</span> <span class="n">filename</span> <span class="o">==</span> <span class="n">_srcfile</span> <span class="ow">or</span> <span class="p">(</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a>        <span class="s2">&quot;importlib&quot;</span> <span class="ow">in</span> <span class="n">filename</span> <span class="ow">and</span> <span class="s2">&quot;_bootstrap&quot;</span> <span class="ow">in</span> <span class="n">filename</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a>    <span class="p">)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a><span class="k">def</span> <span class="nf">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="n">level</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>    <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="o">==</span> <span class="n">level</span><span class="p">:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>        <span class="k">if</span> <span class="n">level</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_nameToLevel</span><span class="p">:</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unknown level: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">level</span><span class="p">)</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="n">_nameToLevel</span><span class="p">[</span><span class="n">level</span><span class="p">]</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Level not an integer or a valid string: </span><span class="si">%r</span><span class="s2">&quot;</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a>                        <span class="o">%</span> <span class="p">(</span><span class="n">level</span><span class="p">,))</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>    <span class="k">return</span> <span class="n">rv</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a><span class="c1">#   Thread-related stuff</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a><span class="c1">#</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a><span class="c1">#_lock is used to serialize access to shared data structures in this module.</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a><span class="c1">#This needs to be an RLock because fileConfig() creates and configures</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a><span class="c1">#Handlers, and so might arbitrary user threads. Since Handler code updates the</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a><span class="c1">#shared dictionary _handlers, it needs to acquire the lock. But if configuring,</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a><span class="c1">#the lock would already have been acquired - so we need an RLock.</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a><span class="c1">#The same argument applies to Loggers and Manager.loggerDict.</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a><span class="c1">#</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a><span class="k">def</span> <span class="nf">_acquireLock</span><span class="p">():</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a><span class="sd">    Acquire the module-level lock for serializing access to shared data.</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a><span class="sd">    This should be released with _releaseLock().</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>    <span class="k">if</span> <span class="n">_lock</span><span class="p">:</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a>        <span class="n">_lock</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a><span class="k">def</span> <span class="nf">_releaseLock</span><span class="p">():</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a><span class="sd">    Release the module-level lock acquired by calling _acquireLock().</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>    <span class="k">if</span> <span class="n">_lock</span><span class="p">:</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a>        <span class="n">_lock</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a><span class="c1"># Prevent a held logging lock from blocking a child from logging.</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a><span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s1">&#39;register_at_fork&#39;</span><span class="p">):</span>  <span class="c1"># Windows and friends.</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a>    <span class="k">def</span> <span class="nf">_register_at_fork_reinit_lock</span><span class="p">(</span><span class="n">instance</span><span class="p">):</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a>        <span class="k">pass</span>  <span class="c1"># no-op when os.register_at_fork does not exist.</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a><span class="k">else</span><span class="p">:</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a>    <span class="c1"># A collection of instances with a _at_fork_reinit method (logging.Handler)</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a>    <span class="c1"># to be called in the child after forking.  The weakref avoids us keeping</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>    <span class="c1"># discarded Handler instances alive.</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a>    <span class="n">_at_fork_reinit_lock_weakset</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">WeakSet</span><span class="p">()</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>    <span class="k">def</span> <span class="nf">_register_at_fork_reinit_lock</span><span class="p">(</span><span class="n">instance</span><span class="p">):</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a>            <span class="n">_at_fork_reinit_lock_weakset</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a>    <span class="k">def</span> <span class="nf">_after_at_fork_child_reinit_locks</span><span class="p">():</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>        <span class="k">for</span> <span class="n">handler</span> <span class="ow">in</span> <span class="n">_at_fork_reinit_lock_weakset</span><span class="p">:</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a>            <span class="n">handler</span><span class="o">.</span><span class="n">_at_fork_reinit</span><span class="p">()</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>        <span class="c1"># _acquireLock() was called in the parent before forking.</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>        <span class="c1"># The lock is reinitialized to unlocked state.</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>        <span class="n">_lock</span><span class="o">.</span><span class="n">_at_fork_reinit</span><span class="p">()</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>    <span class="n">os</span><span class="o">.</span><span class="n">register_at_fork</span><span class="p">(</span><span class="n">before</span><span class="o">=</span><span class="n">_acquireLock</span><span class="p">,</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>                        <span class="n">after_in_child</span><span class="o">=</span><span class="n">_after_at_fork_child_reinit_locks</span><span class="p">,</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>                        <span class="n">after_in_parent</span><span class="o">=</span><span class="n">_releaseLock</span><span class="p">)</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a><span class="c1">#   The logging record</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a><span class="k">class</span> <span class="nc">LogRecord</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a><span class="sd">    A LogRecord instance represents an event being logged.</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a><span class="sd">    LogRecord instances are created every time something is logged. They</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a><span class="sd">    contain all the information pertinent to the event being logged. The</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a><span class="sd">    main information passed in is in msg and args, which are combined</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a><span class="sd">    using str(msg) % args to create the message field of the record. The</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a><span class="sd">    record also includes information such as when the record was created,</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a><span class="sd">    the source line where the logging call was made, and any exception</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a><span class="sd">    information to be logged.</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">pathname</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>                 <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a><span class="sd">        Initialize a logging record with interesting information.</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>        <span class="n">ct</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>        <span class="c1">#</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>        <span class="c1"># The following statement allows passing of a dictionary as a sole</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>        <span class="c1"># argument, so that you can do something like</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>        <span class="c1">#  logging.debug(&quot;a %(a)d b %(b)s&quot;, {&#39;a&#39;:1, &#39;b&#39;:2})</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>        <span class="c1"># Suggested by Stefan Behnel.</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>        <span class="c1"># Note that without the test for args[0], we get a problem because</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a>        <span class="c1"># during formatting, we test to see if the arg is present using</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a>        <span class="c1"># &#39;if self.args:&#39;. If the event being logged is e.g. &#39;Value is %d&#39;</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>        <span class="c1"># and if the passed arg fails &#39;if self.args:&#39; then no formatting</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>        <span class="c1"># is done. For example, logger.warning(&#39;Value is %d&#39;, 0) would log</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>        <span class="c1"># &#39;Value is %d&#39; instead of &#39;Value is 0&#39;.</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>        <span class="c1"># For the use case of passing a dictionary, this should not be a</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a>        <span class="c1"># problem.</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>        <span class="c1"># Issue #21172: a request was made to relax the isinstance check</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>        <span class="c1"># to hasattr(args[0], &#39;__getitem__&#39;). However, the docs on string</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>        <span class="c1"># formatting still seem to suggest a mapping object is required.</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>        <span class="c1"># Thus, while not removing the isinstance check, it does now look</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>        <span class="c1"># for collections.abc.Mapping rather than, as before, dict.</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">args</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Mapping</span><span class="p">)</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>            <span class="ow">and</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">levelname</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">levelno</span> <span class="o">=</span> <span class="n">level</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pathname</span> <span class="o">=</span> <span class="n">pathname</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">pathname</span><span class="p">)</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">pathname</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="s2">&quot;Unknown module&quot;</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exc_info</span> <span class="o">=</span> <span class="n">exc_info</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exc_text</span> <span class="o">=</span> <span class="kc">None</span>      <span class="c1"># used to cache the traceback text</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stack_info</span> <span class="o">=</span> <span class="n">sinfo</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">lineno</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">funcName</span> <span class="o">=</span> <span class="n">func</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">ct</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">msecs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">ct</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">ct</span><span class="p">))</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.0</span>  <span class="c1"># see gh-89047</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">relativeCreated</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">-</span> <span class="n">_startTime</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>        <span class="k">if</span> <span class="n">logThreads</span><span class="p">:</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">get_ident</span><span class="p">()</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">threadName</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>        <span class="k">else</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">threadName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">logMultiprocessing</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="s1">&#39;MainProcess&#39;</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>            <span class="n">mp</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;multiprocessing&#39;</span><span class="p">)</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>            <span class="k">if</span> <span class="n">mp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>                <span class="c1"># Errors may occur if multiprocessing has not finished loading</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>                <span class="c1"># yet - e.g. if a custom import hook causes third-party code</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>                <span class="c1"># to run when multiprocessing calls import. See issue 8200</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>                <span class="c1"># for an example</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">current_process</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span> <span class="c1">#pragma: no cover</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a>                    <span class="k">pass</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a>        <span class="k">if</span> <span class="n">logProcesses</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s1">&#39;getpid&#39;</span><span class="p">):</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">taskName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a>        <span class="k">if</span> <span class="n">logAsyncioTasks</span><span class="p">:</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>            <span class="n">asyncio</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;asyncio&#39;</span><span class="p">)</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>            <span class="k">if</span> <span class="n">asyncio</span><span class="p">:</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">taskName</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">current_task</span><span class="p">()</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>                    <span class="k">pass</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;LogRecord: </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">, &quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">levelno</span><span class="p">,</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pathname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>    <span class="k">def</span> <span class="nf">getMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a><span class="sd">        Return the message for this LogRecord.</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a><span class="sd">        Return the message for this LogRecord after merging any user-supplied</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a><span class="sd">        arguments with the message.</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a>        <span class="k">return</span> <span class="n">msg</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a><span class="c1">#</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a><span class="c1">#   Determine which class to use when instantiating log records.</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a><span class="c1">#</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a><span class="n">_logRecordFactory</span> <span class="o">=</span> <span class="n">LogRecord</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a><span class="k">def</span> <span class="nf">setLogRecordFactory</span><span class="p">(</span><span class="n">factory</span><span class="p">):</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a><span class="sd">    Set the factory to be used when instantiating a log record.</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a><span class="sd">    :param factory: A callable which will be called to instantiate</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a><span class="sd">    a log record.</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>    <span class="k">global</span> <span class="n">_logRecordFactory</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>    <span class="n">_logRecordFactory</span> <span class="o">=</span> <span class="n">factory</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a><span class="k">def</span> <span class="nf">getLogRecordFactory</span><span class="p">():</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a><span class="sd">    Return the factory to be used when instantiating a log record.</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a>    <span class="k">return</span> <span class="n">_logRecordFactory</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a><span class="k">def</span> <span class="nf">makeLogRecord</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a><span class="sd">    Make a LogRecord whose attributes are defined by the specified dictionary,</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a><span class="sd">    This function is useful for converting a logging event received over</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a><span class="sd">    a socket connection (which is sent as a dictionary) into a LogRecord</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a><span class="sd">    instance.</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a>    <span class="n">rv</span> <span class="o">=</span> <span class="n">_logRecordFactory</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>    <span class="n">rv</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a>    <span class="k">return</span> <span class="n">rv</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a><span class="c1">#   Formatter classes and functions</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a><span class="n">_str_formatter</span> <span class="o">=</span> <span class="n">StrFormatter</span><span class="p">()</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a><span class="k">del</span> <span class="n">StrFormatter</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a><span class="k">class</span> <span class="nc">PercentStyle</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a>    <span class="n">default_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%(message)s</span><span class="s1">&#39;</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a>    <span class="n">asctime_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1">&#39;</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>    <span class="n">asctime_search</span> <span class="o">=</span> <span class="s1">&#39;%(asctime)&#39;</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a>    <span class="n">validation_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;%\(\w+\)[#0+ -]*(\*|\d+)?(\.(\*|\d+))?[diouxefgcrsa%]&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span> <span class="o">=</span> <span class="n">fmt</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_format</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span> <span class="o">=</span> <span class="n">defaults</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>    <span class="k">def</span> <span class="nf">usesTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">asctime_search</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the input format, ensure it matches the correct style&quot;&quot;&quot;</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">validation_pattern</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span><span class="p">):</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid format &#39;</span><span class="si">%s</span><span class="s2">&#39; for &#39;</span><span class="si">%s</span><span class="s2">&#39; style&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_format</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a>    <span class="k">def</span> <span class="nf">_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a>        <span class="k">if</span> <span class="n">defaults</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span><span class="p">:</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>            <span class="n">values</span> <span class="o">=</span> <span class="n">defaults</span> <span class="o">|</span> <span class="n">record</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a>            <span class="n">values</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span> <span class="o">%</span> <span class="n">values</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a>        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Formatting field not found in record: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="k">class</span> <span class="nc">StrFormatStyle</span><span class="p">(</span><span class="n">PercentStyle</span><span class="p">):</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a>    <span class="n">default_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{message}</span><span class="s1">&#39;</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a>    <span class="n">asctime_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{asctime}</span><span class="s1">&#39;</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a>    <span class="n">asctime_search</span> <span class="o">=</span> <span class="s1">&#39;{asctime&#39;</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>    <span class="n">fmt_spec</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^(.?[&lt;&gt;=^])?[+ -]?#?0?(\d+|{\w+})?[,_]?(\.(\d+|{\w+}))?[bcdefgnosx%]?$&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>    <span class="n">field_spec</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^(\d+|\w+)(\.\w+|\[[^]]+\])*$&#39;</span><span class="p">)</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a>    <span class="k">def</span> <span class="nf">_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>        <span class="k">if</span> <span class="n">defaults</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span><span class="p">:</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a>            <span class="n">values</span> <span class="o">=</span> <span class="n">defaults</span> <span class="o">|</span> <span class="n">record</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a>            <span class="n">values</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the input format, ensure it is the correct string formatting style&quot;&quot;&quot;</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>        <span class="n">fields</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a>            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">conversion</span> <span class="ow">in</span> <span class="n">_str_formatter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span><span class="p">):</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a>                <span class="k">if</span> <span class="n">fieldname</span><span class="p">:</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_spec</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">fieldname</span><span class="p">):</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;invalid field name/expression: </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">fieldname</span><span class="p">)</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>                    <span class="n">fields</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fieldname</span><span class="p">)</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a>                <span class="k">if</span> <span class="n">conversion</span> <span class="ow">and</span> <span class="n">conversion</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s1">&#39;rsa&#39;</span><span class="p">:</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;invalid conversion: </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">conversion</span><span class="p">)</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>                <span class="k">if</span> <span class="n">spec</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">fmt_spec</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">spec</span><span class="p">):</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;bad specifier: </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">spec</span><span class="p">)</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;invalid format: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;invalid format: no fields&#39;</span><span class="p">)</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a><span class="k">class</span> <span class="nc">StringTemplateStyle</span><span class="p">(</span><span class="n">PercentStyle</span><span class="p">):</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>    <span class="n">default_format</span> <span class="o">=</span> <span class="s1">&#39;$</span><span class="si">{message}</span><span class="s1">&#39;</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>    <span class="n">asctime_format</span> <span class="o">=</span> <span class="s1">&#39;$</span><span class="si">{asctime}</span><span class="s1">&#39;</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>    <span class="n">asctime_search</span> <span class="o">=</span> <span class="s1">&#39;$</span><span class="si">{asctime}</span><span class="s1">&#39;</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tpl</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span><span class="p">)</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a>    <span class="k">def</span> <span class="nf">usesTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a>        <span class="n">fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a>        <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;$asctime&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">fmt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">asctime_search</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a>        <span class="n">pattern</span> <span class="o">=</span> <span class="n">Template</span><span class="o">.</span><span class="n">pattern</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a>        <span class="n">fields</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a>        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span><span class="p">):</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>            <span class="n">d</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a>            <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;named&#39;</span><span class="p">]:</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a>                <span class="n">fields</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;named&#39;</span><span class="p">])</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>            <span class="k">elif</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;braced&#39;</span><span class="p">]:</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a>                <span class="n">fields</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;braced&#39;</span><span class="p">])</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a>            <span class="k">elif</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;$&#39;</span><span class="p">:</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;invalid format: bare </span><span class="se">\&#39;</span><span class="s1">$</span><span class="se">\&#39;</span><span class="s1"> not allowed&#39;</span><span class="p">)</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;invalid format: no fields&#39;</span><span class="p">)</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a>    <span class="k">def</span> <span class="nf">_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>        <span class="k">if</span> <span class="n">defaults</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span><span class="p">:</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a>            <span class="n">values</span> <span class="o">=</span> <span class="n">defaults</span> <span class="o">|</span> <span class="n">record</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a>            <span class="n">values</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tpl</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a><span class="n">BASIC_FORMAT</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%(levelname)s</span><span class="s2">:</span><span class="si">%(name)s</span><span class="s2">:</span><span class="si">%(message)s</span><span class="s2">&quot;</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a><span class="n">_STYLES</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>    <span class="s1">&#39;%&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">PercentStyle</span><span class="p">,</span> <span class="n">BASIC_FORMAT</span><span class="p">),</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>    <span class="s1">&#39;{&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">StrFormatStyle</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{levelname}</span><span class="s1">:</span><span class="si">{name}</span><span class="s1">:</span><span class="si">{message}</span><span class="s1">&#39;</span><span class="p">),</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>    <span class="s1">&#39;$&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">StringTemplateStyle</span><span class="p">,</span> <span class="s1">&#39;$</span><span class="si">{levelname}</span><span class="s1">:$</span><span class="si">{name}</span><span class="s1">:$</span><span class="si">{message}</span><span class="s1">&#39;</span><span class="p">),</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a><span class="p">}</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a><span class="k">class</span> <span class="nc">Formatter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a><span class="sd">    Formatter instances are used to convert a LogRecord to text.</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a><span class="sd">    Formatters need to know how a LogRecord is constructed. They are</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a><span class="sd">    responsible for converting a LogRecord to (usually) a string which can</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a><span class="sd">    be interpreted by either a human or an external system. The base Formatter</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a><span class="sd">    allows a formatting string to be specified. If none is supplied, the</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a><span class="sd">    style-dependent default value, &quot;%(message)s&quot;, &quot;{message}&quot;, or</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a><span class="sd">    &quot;${message}&quot;, is used.</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a><span class="sd">    The Formatter can be initialized with a format string which makes use of</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a><span class="sd">    knowledge of the LogRecord attributes - e.g. the default value mentioned</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a><span class="sd">    above makes use of the fact that the user&#39;s message and arguments are pre-</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a><span class="sd">    formatted into a LogRecord&#39;s message attribute. Currently, the useful</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a><span class="sd">    attributes in a LogRecord are described by:</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a><span class="sd">    %(name)s            Name of the logger (logging channel)</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a><span class="sd">    %(levelno)s         Numeric logging level for the message (DEBUG, INFO,</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a><span class="sd">                        WARNING, ERROR, CRITICAL)</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a><span class="sd">    %(levelname)s       Text logging level for the message (&quot;DEBUG&quot;, &quot;INFO&quot;,</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a><span class="sd">                        &quot;WARNING&quot;, &quot;ERROR&quot;, &quot;CRITICAL&quot;)</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a><span class="sd">    %(pathname)s        Full pathname of the source file where the logging</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a><span class="sd">                        call was issued (if available)</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a><span class="sd">    %(filename)s        Filename portion of pathname</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a><span class="sd">    %(module)s          Module (name portion of filename)</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a><span class="sd">    %(lineno)d          Source line number where the logging call was issued</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a><span class="sd">                        (if available)</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a><span class="sd">    %(funcName)s        Function name</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a><span class="sd">    %(created)f         Time when the LogRecord was created (time.time()</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a><span class="sd">                        return value)</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a><span class="sd">    %(asctime)s         Textual time when the LogRecord was created</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a><span class="sd">    %(msecs)d           Millisecond portion of the creation time</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a><span class="sd">    %(relativeCreated)d Time in milliseconds when the LogRecord was created,</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a><span class="sd">                        relative to the time the logging module was loaded</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a><span class="sd">                        (typically at application startup time)</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a><span class="sd">    %(thread)d          Thread ID (if available)</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a><span class="sd">    %(threadName)s      Thread name (if available)</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a><span class="sd">    %(taskName)s        Task name (if available)</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="sd">    %(process)d         Process ID (if available)</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a><span class="sd">    %(message)s         The result of record.getMessage(), computed just as</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a><span class="sd">                        the record is emitted</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a>    <span class="n">converter</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">datefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;%&#39;</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>                 <span class="n">defaults</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a><span class="sd">        Initialize the formatter with specified format strings.</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a><span class="sd">        Initialize the formatter either with the specified format string, or a</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a><span class="sd">        default as described above. Allow for specialized date formatting with</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a><span class="sd">        the optional datefmt argument. If datefmt is omitted, you get an</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a><span class="sd">        ISO8601-like (or RFC 3339-like) format.</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a><span class="sd">        Use a style parameter of &#39;%&#39;, &#39;{&#39; or &#39;$&#39; to specify that you want to</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a><span class="sd">        use one of %-formatting, :meth:`str.format` (``{}``) formatting or</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a><span class="sd">        :class:`string.Template` formatting in your format string.</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a><span class="sd">        .. versionchanged:: 3.2</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a><span class="sd">           Added the ``style`` parameter.</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>        <span class="k">if</span> <span class="n">style</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_STYLES</span><span class="p">:</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Style must be one of: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>                             <span class="n">_STYLES</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_style</span> <span class="o">=</span> <span class="n">_STYLES</span><span class="p">[</span><span class="n">style</span><span class="p">][</span><span class="mi">0</span><span class="p">](</span><span class="n">fmt</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="n">defaults</span><span class="p">)</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>        <span class="k">if</span> <span class="n">validate</span><span class="p">:</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">_fmt</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">datefmt</span> <span class="o">=</span> <span class="n">datefmt</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>    <span class="n">default_time_format</span> <span class="o">=</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>    <span class="n">default_msec_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">,</span><span class="si">%03d</span><span class="s1">&#39;</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>    <span class="k">def</span> <span class="nf">formatTime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">,</span> <span class="n">datefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a><span class="sd">        Return the creation time of the specified LogRecord as formatted text.</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a><span class="sd">        This method should be called from format() by a formatter which</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a><span class="sd">        wants to make use of a formatted time. This method can be overridden</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a><span class="sd">        in formatters to provide for any specific requirement, but the</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a><span class="sd">        basic behaviour is as follows: if datefmt (a string) is specified,</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a><span class="sd">        it is used with time.strftime() to format the creation time of the</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a><span class="sd">        record. Otherwise, an ISO8601-like (or RFC 3339-like) format is used.</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a><span class="sd">        The resulting string is returned. This function uses a user-configurable</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a><span class="sd">        function to convert the creation time to a tuple. By default,</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a><span class="sd">        time.localtime() is used; to change this for a particular formatter</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a><span class="sd">        instance, set the &#39;converter&#39; attribute to a function with the same</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a><span class="sd">        signature as time.localtime() or time.gmtime(). To change it for all</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a><span class="sd">        formatters, for example if you want all logging times to be shown in GMT,</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a><span class="sd">        set the &#39;converter&#39; attribute in the Formatter class.</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>        <span class="n">ct</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">converter</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">created</span><span class="p">)</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>        <span class="k">if</span> <span class="n">datefmt</span><span class="p">:</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">datefmt</span><span class="p">,</span> <span class="n">ct</span><span class="p">)</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_time_format</span><span class="p">,</span> <span class="n">ct</span><span class="p">)</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_msec_format</span><span class="p">:</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_msec_format</span> <span class="o">%</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">record</span><span class="o">.</span><span class="n">msecs</span><span class="p">)</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>        <span class="k">return</span> <span class="n">s</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a>    <span class="k">def</span> <span class="nf">formatException</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ei</span><span class="p">):</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a><span class="sd">        Format and return the specified exception information as a string.</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a><span class="sd">        This default implementation just uses</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a><span class="sd">        traceback.print_exception()</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>        <span class="n">sio</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a>        <span class="n">tb</span> <span class="o">=</span> <span class="n">ei</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a>        <span class="c1"># See issues #9427, #1553375. Commented out for now.</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>        <span class="c1">#if getattr(self, &#39;fullstack&#39;, False):</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a>        <span class="c1">#    traceback.print_stack(tb.tb_frame.f_back, file=sio)</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a>        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exception</span><span class="p">(</span><span class="n">ei</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ei</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tb</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sio</span><span class="p">)</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a>        <span class="n">sio</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a>        <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a>        <span class="k">return</span> <span class="n">s</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>    <span class="k">def</span> <span class="nf">usesTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a><span class="sd">        Check if the format uses the creation time of the record.</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">usesTime</span><span class="p">()</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a>    <span class="k">def</span> <span class="nf">formatMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a>    <span class="k">def</span> <span class="nf">formatStack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_info</span><span class="p">):</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a><span class="sd">        This method is provided as an extension point for specialized</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a><span class="sd">        formatting of stack information.</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a><span class="sd">        The input data is a string as returned from a call to</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a><span class="sd">        :func:`traceback.print_stack`, but with the last trailing newline</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a><span class="sd">        removed.</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a><span class="sd">        The base implementation just returns the value passed in.</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>        <span class="k">return</span> <span class="n">stack_info</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a><span class="sd">        Format the specified record as text.</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a><span class="sd">        The record&#39;s attribute dictionary is used as the operand to a</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a><span class="sd">        string formatting operation which yields the returned string.</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a><span class="sd">        Before formatting the dictionary, a couple of preparatory steps</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a><span class="sd">        are carried out. The message attribute of the record is computed</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a><span class="sd">        using LogRecord.getMessage(). If the formatting string uses the</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a><span class="sd">        time (as determined by a call to usesTime(), formatTime() is</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a><span class="sd">        called to format the event time. If there is exception information,</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a><span class="sd">        it is formatted using formatException() and appended to the message.</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>        <span class="n">record</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">getMessage</span><span class="p">()</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">usesTime</span><span class="p">():</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>            <span class="n">record</span><span class="o">.</span><span class="n">asctime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatTime</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">datefmt</span><span class="p">)</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatMessage</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_info</span><span class="p">:</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>            <span class="c1"># Cache the traceback text to avoid converting it multiple times</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>            <span class="c1"># (it&#39;s constant anyway)</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span><span class="p">:</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a>                <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatException</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">exc_info</span><span class="p">)</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span><span class="p">:</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">stack_info</span><span class="p">:</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatStack</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">stack_info</span><span class="p">)</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>        <span class="k">return</span> <span class="n">s</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a><span class="c1">#</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a><span class="c1">#   The default formatter to use when no other is specified</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a><span class="c1">#</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a><span class="n">_defaultFormatter</span> <span class="o">=</span> <span class="n">Formatter</span><span class="p">()</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a><span class="k">class</span> <span class="nc">BufferingFormatter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a><span class="sd">    A formatter suitable for formatting a number of records.</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a><span class="sd">        Optionally specify a formatter which will be used to format each</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a><span class="sd">        individual record.</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>        <span class="k">if</span> <span class="n">linefmt</span><span class="p">:</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span> <span class="o">=</span> <span class="n">linefmt</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span> <span class="o">=</span> <span class="n">_defaultFormatter</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a>    <span class="k">def</span> <span class="nf">formatHeader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a><span class="sd">        Return the header string for the specified records.</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a>    <span class="k">def</span> <span class="nf">formatFooter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a><span class="sd">        Return the footer string for the specified records.</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a><span class="sd">        Format the specified records and return the result as a string.</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">records</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatHeader</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>            <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a>                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a>            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatFooter</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="c1">#   Filter classes and functions</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a><span class="k">class</span> <span class="nc">Filter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a><span class="sd">    Filter instances are used to perform arbitrary filtering of LogRecords.</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a><span class="sd">    Loggers and Handlers can optionally use Filter instances to filter</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a><span class="sd">    records as desired. The base filter class only allows events which are</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a><span class="sd">    below a certain point in the logger hierarchy. For example, a filter</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a><span class="sd">    initialized with &quot;A.B&quot; will allow events logged by loggers &quot;A.B&quot;,</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a><span class="sd">    &quot;A.B.C&quot;, &quot;A.B.C.D&quot;, &quot;A.B.D&quot; etc. but not &quot;A.BB&quot;, &quot;B.A.B&quot; etc. If</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a><span class="sd">    initialized with the empty string, all events are passed.</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a><span class="sd">        Initialize a filter.</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a><span class="sd">        Initialize with the name of the logger which, together with its</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a><span class="sd">        children, will have its events allowed through the filter. If no</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a><span class="sd">        name is specified, allow every event.</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a>    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a><span class="sd">        Determine if the specified record is to be logged.</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a><span class="sd">        Returns True if the record should be logged, or False otherwise.</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a><span class="sd">        If deemed appropriate, the record may be modified in-place.</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>        <span class="k">elif</span> <span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nlen</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a><span class="k">class</span> <span class="nc">Filterer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a><span class="sd">    A base class for loggers and handlers which allows them to share</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a><span class="sd">    common code.</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a><span class="sd">        Initialize the list of filters to be an empty list.</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filters</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>    <span class="k">def</span> <span class="nf">addFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="p">):</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a><span class="sd">        Add the specified filter to this handler.</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">filter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="p">):</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">filter</span><span class="p">)</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>    <span class="k">def</span> <span class="nf">removeFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="p">):</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a><span class="sd">        Remove the specified filter from this handler.</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>        <span class="k">if</span> <span class="nb">filter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="p">:</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="nb">filter</span><span class="p">)</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a><span class="sd">        Determine if a record is loggable by consulting all the filters.</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a><span class="sd">        The default is to allow the record to be logged; any filter can veto</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a><span class="sd">        this by returning a false value.</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a><span class="sd">        If a filter attached to a handler returns a log record instance,</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a><span class="sd">        then that instance is used in place of the original log record in</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a><span class="sd">        any further processing of the event by that handler.</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a><span class="sd">        If a filter returns any other true value, the original log record</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a><span class="sd">        is used in any further processing of the event by that handler.</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a><span class="sd">        If none of the filters return false values, this method returns</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a><span class="sd">        a log record.</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a><span class="sd">        If any of the filters return a false value, this method returns</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a><span class="sd">        a false value.</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a><span class="sd">        .. versionchanged:: 3.2</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a><span class="sd">           Allow filters to be just callables.</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a><span class="sd">        .. versionchanged:: 3.12</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a><span class="sd">           Allow filters to return a LogRecord instead of</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a><span class="sd">           modifying it in place.</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a>        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="p">:</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;filter&#39;</span><span class="p">):</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">record</span><span class="p">)</span> <span class="c1"># assume callable - will raise if not</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">LogRecord</span><span class="p">):</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>                <span class="n">record</span> <span class="o">=</span> <span class="n">result</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>        <span class="k">return</span> <span class="n">record</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a><span class="c1">#   Handler classes and functions</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a><span class="n">_handlers</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">WeakValueDictionary</span><span class="p">()</span>  <span class="c1">#map of handler names to handlers</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a><span class="n">_handlerList</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># added to allow handlers to be removed in reverse of order initialized</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a><span class="k">def</span> <span class="nf">_removeHandlerRef</span><span class="p">(</span><span class="n">wr</span><span class="p">):</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a><span class="sd">    Remove a handler reference from the internal cleanup list.</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>    <span class="c1"># This function can be called during module teardown, when globals are</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>    <span class="c1"># set to None. It can also be called from another thread. So we need to</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>    <span class="c1"># pre-emptively grab the necessary globals and check if they&#39;re None,</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>    <span class="c1"># to prevent race conditions and failures during interpreter shutdown.</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>    <span class="n">acquire</span><span class="p">,</span> <span class="n">release</span><span class="p">,</span> <span class="n">handlers</span> <span class="o">=</span> <span class="n">_acquireLock</span><span class="p">,</span> <span class="n">_releaseLock</span><span class="p">,</span> <span class="n">_handlerList</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>    <span class="k">if</span> <span class="n">acquire</span> <span class="ow">and</span> <span class="n">release</span> <span class="ow">and</span> <span class="n">handlers</span><span class="p">:</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>        <span class="n">acquire</span><span class="p">()</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>            <span class="n">handlers</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wr</span><span class="p">)</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>            <span class="k">pass</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>            <span class="n">release</span><span class="p">()</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a><span class="k">def</span> <span class="nf">_addHandlerRef</span><span class="p">(</span><span class="n">handler</span><span class="p">):</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a><span class="sd">    Add a handler to the internal cleanup list using a weak reference.</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>    <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>        <span class="n">_handlerList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">weakref</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="n">_removeHandlerRef</span><span class="p">))</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>        <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a><span class="k">def</span> <span class="nf">getHandlerByName</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a><span class="sd">    Get a handler with the specified *name*, or None if there isn&#39;t one with</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a><span class="sd">    that name.</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>    <span class="k">return</span> <span class="n">_handlers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a><span class="k">def</span> <span class="nf">getHandlerNames</span><span class="p">():</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a><span class="sd">    Return all known handler names as an immutable set.</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">_handlers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>    <span class="k">return</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a><span class="k">class</span> <span class="nc">Handler</span><span class="p">(</span><span class="n">Filterer</span><span class="p">):</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a><span class="sd">    Handler instances dispatch logging events to specific destinations.</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a><span class="sd">    The base handler class. Acts as a placeholder which defines the Handler</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a><span class="sd">    interface. Handlers can optionally use Formatter instances to format</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a><span class="sd">    records as desired. By default, no formatter is specified; in this case,</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a><span class="sd">    the &#39;raw&#39; message as determined by record.message is logged.</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">NOTSET</span><span class="p">):</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a><span class="sd">        Initializes the instance - basically setting the formatter to None</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a><span class="sd">        and the filter list to empty.</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a>        <span class="n">Filterer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a>        <span class="c1"># Add the handler to the global _handlerList (for cleanup on shutdown)</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a>        <span class="n">_addHandlerRef</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">createLock</span><span class="p">()</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a>    <span class="k">def</span> <span class="nf">set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="n">_handlers</span><span class="p">:</span>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a>                <span class="k">del</span> <span class="n">_handlers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a>            <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a>                <span class="n">_handlers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a>    <span class="n">name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_name</span><span class="p">,</span> <span class="n">set_name</span><span class="p">)</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a>    <span class="k">def</span> <span class="nf">createLock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a><span class="sd">        Acquire a thread lock for serializing access to the underlying I/O.</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>        <span class="n">_register_at_fork_reinit_lock</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>    <span class="k">def</span> <span class="nf">_at_fork_reinit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">_at_fork_reinit</span><span class="p">()</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>    <span class="k">def</span> <span class="nf">acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a><span class="sd">        Acquire the I/O thread lock.</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a>    <span class="k">def</span> <span class="nf">release</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a><span class="sd">        Release the I/O thread lock.</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a><span class="sd">        Set the logging level of this handler.  level must be an int or a str.</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a><span class="sd">        Format the specified record.</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a><span class="sd">        If a formatter is set, use it. Otherwise, use the default formatter</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a><span class="sd">        for the module.</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span><span class="p">:</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>            <span class="n">fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a>            <span class="n">fmt</span> <span class="o">=</span> <span class="n">_defaultFormatter</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>        <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a><span class="sd">        Do whatever it takes to actually log the specified logging record.</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a><span class="sd">        This version is intended to be implemented by subclasses and so</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a><span class="sd">        raises a NotImplementedError.</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;emit must be implemented &#39;</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>                                  <span class="s1">&#39;by Handler subclasses&#39;</span><span class="p">)</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a><span class="sd">        Conditionally emit the specified logging record.</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a><span class="sd">        Emission depends on filters which may have been added to the handler.</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a><span class="sd">        Wrap the actual emission of the record with acquisition/release of</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a><span class="sd">        the I/O thread lock.</span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a><span class="sd">        Returns an instance of the log record that was emitted</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a><span class="sd">        if it passed all filters, otherwise a false value is returned.</span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">LogRecord</span><span class="p">):</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a>            <span class="n">record</span> <span class="o">=</span> <span class="n">rv</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a>        <span class="k">if</span> <span class="n">rv</span><span class="p">:</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a>    <span class="k">def</span> <span class="nf">setFormatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="p">):</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a><span class="sd">        Set the formatter for this handler.</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">fmt</span>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a><span class="sd">        Ensure all logging output has been flushed.</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a><span class="sd">        This version does nothing and is intended to be implemented by</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a><span class="sd">        subclasses.</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a>        <span class="k">pass</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a><span class="sd">        Tidy up any resources used by the handler.</span>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a><span class="sd">        This version removes the handler from an internal map of handlers,</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a><span class="sd">        _handlers, which is used for handler lookup by name. Subclasses</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a><span class="sd">        should ensure that this gets called from overridden close()</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a><span class="sd">        methods.</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a>        <span class="c1">#get the module data lock, as we&#39;re updating a shared structure.</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a>        <span class="k">try</span><span class="p">:</span>    <span class="c1">#unlikely to raise an exception, but you never know...</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="n">_handlers</span><span class="p">:</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a>                <span class="k">del</span> <span class="n">_handlers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a>    <span class="k">def</span> <span class="nf">handleError</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a><span class="sd">        Handle errors which occur during an emit() call.</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a><span class="sd">        This method should be called from handlers when an exception is</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a><span class="sd">        encountered during an emit() call. If raiseExceptions is false,</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a><span class="sd">        exceptions get silently ignored. This is what is mostly wanted</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a><span class="sd">        for a logging system - most users will not care about errors in</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a><span class="sd">        the logging system, they are more interested in application errors.</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a><span class="sd">        You could, however, replace this with a custom handler if you wish.</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a><span class="sd">        The record which was being processed is passed in to this method.</span>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>        <span class="k">if</span> <span class="n">raiseExceptions</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">:</span>  <span class="c1"># see issue 13807</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>            <span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;--- Logging error ---</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a>                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exception</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Call stack:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a>                <span class="c1"># Walk the stack frame up until we&#39;re out of logging,</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a>                <span class="c1"># so as to print the calling context.</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a>                <span class="n">frame</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">tb_frame</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>                <span class="k">while</span> <span class="p">(</span><span class="n">frame</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span><span class="p">)</span> <span class="o">==</span>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>                       <span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a>                    <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_back</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a>                <span class="k">if</span> <span class="n">frame</span><span class="p">:</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a>                    <span class="n">traceback</span><span class="o">.</span><span class="n">print_stack</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a>                    <span class="c1"># couldn&#39;t find the right stack frame, for some reason</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Logged from file </span><span class="si">%s</span><span class="s1">, line </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>                                     <span class="n">record</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="n">record</span><span class="o">.</span><span class="n">lineno</span><span class="p">))</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a>                <span class="c1"># Issue 18671: output logging message and arguments</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Message: </span><span class="si">%r</span><span class="se">\n</span><span class="s1">&#39;</span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a>                                     <span class="s1">&#39;Arguments: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">msg</span><span class="p">,</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a>                                                          <span class="n">record</span><span class="o">.</span><span class="n">args</span><span class="p">))</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a>                <span class="k">except</span> <span class="ne">RecursionError</span><span class="p">:</span>  <span class="c1"># See issue 36272</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a>                    <span class="k">raise</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Unable to print the message and arguments&#39;</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a>                                     <span class="s1">&#39; - possible formatting error.</span><span class="se">\n</span><span class="s1">Use the&#39;</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a>                                     <span class="s1">&#39; traceback above to help find the error.</span><span class="se">\n</span><span class="s1">&#39;</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a>                                    <span class="p">)</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a>            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span> <span class="c1">#pragma: no cover</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a>                <span class="k">pass</span>    <span class="c1"># see issue 5971</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a>                <span class="k">del</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a><span class="k">class</span> <span class="nc">StreamHandler</span><span class="p">(</span><span class="n">Handler</span><span class="p">):</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a><span class="sd">    A handler class which writes logging records, appropriately formatted,</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a><span class="sd">    to a stream. Note that this class does not close the stream, as</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a><span class="sd">    sys.stdout or sys.stderr may be used.</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a>    <span class="n">terminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a><span class="sd">        Initialize the handler.</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a><span class="sd">        If stream is not specified, sys.stderr is used.</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a>        <span class="n">Handler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a>        <span class="k">if</span> <span class="n">stream</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a>            <span class="n">stream</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">stream</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a>    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a><span class="sd">        Flushes the stream.</span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="s2">&quot;flush&quot;</span><span class="p">):</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a><span class="sd">        Emit a record.</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a><span class="sd">        If a formatter is specified, it is used to format the record.</span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a><span class="sd">        The record is then written to the stream with a trailing newline.  If</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a><span class="sd">        exception information is present, it is formatted using</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a><span class="sd">        traceback.print_exception and appended to the stream.  If the stream</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a><span class="sd">        has an &#39;encoding&#39; attribute, it is used to determine how to do the</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a><span class="sd">        output to the stream.</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a>            <span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>            <span class="c1"># issue 35046: merged two stream.writes into one.</span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a>            <span class="n">stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">terminator</span><span class="p">)</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a>        <span class="k">except</span> <span class="ne">RecursionError</span><span class="p">:</span>  <span class="c1"># See issue 36272</span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a>            <span class="k">raise</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">handleError</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a>    <span class="k">def</span> <span class="nf">setStream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a><span class="sd">        Sets the StreamHandler&#39;s stream to the specified value,</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a><span class="sd">        if it is different.</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a><span class="sd">        Returns the old stream, if the stream was changed, or None</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a><span class="sd">        if it wasn&#39;t.</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a>        <span class="k">if</span> <span class="n">stream</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">stream</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a>        <span class="n">name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a>        <span class="c1">#  bpo-36015: name can be an int</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>        <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a>        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a>            <span class="n">name</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a>    <span class="n">__class_getitem__</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">GenericAlias</span><span class="p">)</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a><span class="k">class</span> <span class="nc">FileHandler</span><span class="p">(</span><span class="n">StreamHandler</span><span class="p">):</span>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a><span class="sd">    A handler class which writes formatted logging records to disk files.</span>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a><span class="sd">        Open the specified file and use it as the stream for logging.</span>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a>        <span class="c1"># Issue #27493: add support for Path objects to be passed in</span>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a>        <span class="c1">#keep the absolute path, otherwise derived classes which use this</span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a>        <span class="c1">#may come a cropper when the current directory changes</span>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">baseFilename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a>        <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">text_encoding</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">errors</span>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a>        <span class="c1"># bpo-26789: FileHandler keeps a reference to the builtin open()</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a>        <span class="c1"># function to be able to open or reopen the file during Python</span>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a>        <span class="c1"># finalization.</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_builtin_open</span> <span class="o">=</span> <span class="nb">open</span>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a>        <span class="k">if</span> <span class="n">delay</span><span class="p">:</span>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a>            <span class="c1">#We don&#39;t open the stream, but we still need to call the</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a>            <span class="c1">#Handler constructor to set level, formatter, lock etc.</span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a>            <span class="n">Handler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a>            <span class="n">StreamHandler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">())</span>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a><span class="sd">        Closes the stream.</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a>                    <span class="k">try</span><span class="p">:</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a>                    <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a>                        <span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a>                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="s2">&quot;close&quot;</span><span class="p">):</span>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a>                            <span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a>                <span class="c1"># Issue #19523: call unconditionally to</span>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a>                <span class="c1"># prevent a handler leak when delay is set</span>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a>                <span class="c1"># Also see Issue #42378: we also rely on</span>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a>                <span class="c1"># self._closed being set to True there</span>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a>                <span class="n">StreamHandler</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a>    <span class="k">def</span> <span class="nf">_open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a><span class="sd">        Open the current base file with the (original) mode and encoding.</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a><span class="sd">        Return the resulting stream.</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a>        <span class="n">open_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builtin_open</span>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a>        <span class="k">return</span> <span class="n">open_func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baseFilename</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a>                         <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a><span class="sd">        Emit a record.</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a><span class="sd">        If the stream was not opened because &#39;delay&#39; was specified in the</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a><span class="sd">        constructor, open it before calling the superclass&#39;s emit.</span>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a><span class="sd">        If stream is not open, current mode is &#39;w&#39; and `_closed=True`, record</span>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a><span class="sd">        will not be emitted (see Issue #42378).</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="s1">&#39;w&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span><span class="p">:</span>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">()</span>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a>            <span class="n">StreamHandler</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">)</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseFilename</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a><span class="k">class</span> <span class="nc">_StderrHandler</span><span class="p">(</span><span class="n">StreamHandler</span><span class="p">):</span>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a><span class="sd">    This class is like a StreamHandler using sys.stderr, but always uses</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a><span class="sd">    whatever sys.stderr is currently set to rather than the value of</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a><span class="sd">    sys.stderr at handler construction time.</span>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">NOTSET</span><span class="p">):</span>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a><span class="sd">        Initialize the handler.</span>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a>        <span class="n">Handler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a>    <span class="nd">@property</span>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a>    <span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a>        <span class="k">return</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a><span class="n">_defaultLastResort</span> <span class="o">=</span> <span class="n">_StderrHandler</span><span class="p">(</span><span class="n">WARNING</span><span class="p">)</span>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a><span class="n">lastResort</span> <span class="o">=</span> <span class="n">_defaultLastResort</span>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a><span class="c1">#   Manager classes and functions</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a><span class="k">class</span> <span class="nc">PlaceHolder</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a><span class="sd">    PlaceHolder instances are used in the Manager logger hierarchy to take</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a><span class="sd">    the place of nodes for which no loggers have been defined. This class is</span>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a><span class="sd">    intended for internal use only and not as part of the public API.</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alogger</span><span class="p">):</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a><span class="sd">        Initialize with the specified logger being a child of this placeholder.</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">loggerMap</span> <span class="o">=</span> <span class="p">{</span> <span class="n">alogger</span> <span class="p">:</span> <span class="kc">None</span> <span class="p">}</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alogger</span><span class="p">):</span>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a><span class="sd">        Add the specified logger as a child of this placeholder.</span>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a>        <span class="k">if</span> <span class="n">alogger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">loggerMap</span><span class="p">:</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">loggerMap</span><span class="p">[</span><span class="n">alogger</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a><span class="c1">#</span>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a><span class="c1">#   Determine which class to use when instantiating loggers.</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a><span class="c1">#</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a><span class="k">def</span> <span class="nf">setLoggerClass</span><span class="p">(</span><span class="n">klass</span><span class="p">):</span>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a><span class="sd">    Set the class to be used when instantiating a logger. The class should</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a><span class="sd">    define __init__() such that only a name argument is required, and the</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a><span class="sd">    __init__() should call Logger.__init__()</span>
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a>    <span class="k">if</span> <span class="n">klass</span> <span class="o">!=</span> <span class="n">Logger</span><span class="p">:</span>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">Logger</span><span class="p">):</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;logger not derived from logging.Logger: &quot;</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a>                            <span class="o">+</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a>    <span class="k">global</span> <span class="n">_loggerClass</span>
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a>    <span class="n">_loggerClass</span> <span class="o">=</span> <span class="n">klass</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a><span class="k">def</span> <span class="nf">getLoggerClass</span><span class="p">():</span>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a><span class="sd">    Return the class to be used when instantiating a logger.</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a>    <span class="k">return</span> <span class="n">_loggerClass</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a><span class="k">class</span> <span class="nc">Manager</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a><span class="sd">    There is [under normal circumstances] just one Manager instance, which</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a><span class="sd">    holds the hierarchy of loggers.</span>
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rootnode</span><span class="p">):</span>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a><span class="sd">        Initialize the manager with the root node of the logger hierarchy.</span>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">rootnode</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disable</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">emittedNoHandlerWarning</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">loggerClass</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logRecordFactory</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a>    <span class="nd">@property</span>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a>    <span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_disable</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a>    <span class="nd">@disable</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a>    <span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_disable</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a>    <span class="k">def</span> <span class="nf">getLogger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a><span class="sd">        Get a logger with the specified name (channel name), creating it</span>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a><span class="sd">        if it doesn&#39;t yet exist. This name is a dot-separated hierarchical</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a><span class="sd">        name, such as &quot;a&quot;, &quot;a.b&quot;, &quot;a.b.c&quot; or similar.</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a><span class="sd">        If a PlaceHolder existed for the specified name [i.e. the logger</span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a><span class="sd">        didn&#39;t exist but a child of it did], replace it with the created</span>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a><span class="sd">        logger and fix up the parent/child references which pointed to the</span>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a><span class="sd">        placeholder to now point to the logger.</span>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;A logger name must be a string&#39;</span><span class="p">)</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">:</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a>                <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">PlaceHolder</span><span class="p">):</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a>                    <span class="n">ph</span> <span class="o">=</span> <span class="n">rv</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a>                    <span class="n">rv</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loggerClass</span> <span class="ow">or</span> <span class="n">_loggerClass</span><span class="p">)(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a>                    <span class="n">rv</span><span class="o">.</span><span class="n">manager</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">rv</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_fixupChildren</span><span class="p">(</span><span class="n">ph</span><span class="p">,</span> <span class="n">rv</span><span class="p">)</span>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_fixupParents</span><span class="p">(</span><span class="n">rv</span><span class="p">)</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a>                <span class="n">rv</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loggerClass</span> <span class="ow">or</span> <span class="n">_loggerClass</span><span class="p">)(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a>                <span class="n">rv</span><span class="o">.</span><span class="n">manager</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">rv</span>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_fixupParents</span><span class="p">(</span><span class="n">rv</span><span class="p">)</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>    <span class="k">def</span> <span class="nf">setLoggerClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">klass</span><span class="p">):</span>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a><span class="sd">        Set the class to be used when instantiating a logger with this Manager.</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a>        <span class="k">if</span> <span class="n">klass</span> <span class="o">!=</span> <span class="n">Logger</span><span class="p">:</span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">Logger</span><span class="p">):</span>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;logger not derived from logging.Logger: &quot;</span>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a>                                <span class="o">+</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">loggerClass</span> <span class="o">=</span> <span class="n">klass</span>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a>    <span class="k">def</span> <span class="nf">setLogRecordFactory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factory</span><span class="p">):</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a><span class="sd">        Set the factory to be used when instantiating a log record with this</span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a><span class="sd">        Manager.</span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logRecordFactory</span> <span class="o">=</span> <span class="n">factory</span>
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a>    <span class="k">def</span> <span class="nf">_fixupParents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alogger</span><span class="p">):</span>
</span><span id="L-1429"><a href="#L-1429"><span class="linenos">1429</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1430"><a href="#L-1430"><span class="linenos">1430</span></a><span class="sd">        Ensure that there are either loggers or placeholders all the way</span>
</span><span id="L-1431"><a href="#L-1431"><span class="linenos">1431</span></a><span class="sd">        from the specified logger to the root of the logger hierarchy.</span>
</span><span id="L-1432"><a href="#L-1432"><span class="linenos">1432</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1433"><a href="#L-1433"><span class="linenos">1433</span></a>        <span class="n">name</span> <span class="o">=</span> <span class="n">alogger</span><span class="o">.</span><span class="n">name</span>
</span><span id="L-1434"><a href="#L-1434"><span class="linenos">1434</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
</span><span id="L-1435"><a href="#L-1435"><span class="linenos">1435</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1436"><a href="#L-1436"><span class="linenos">1436</span></a>        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">rv</span><span class="p">:</span>
</span><span id="L-1437"><a href="#L-1437"><span class="linenos">1437</span></a>            <span class="n">substr</span> <span class="o">=</span> <span class="n">name</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span>
</span><span id="L-1438"><a href="#L-1438"><span class="linenos">1438</span></a>            <span class="k">if</span> <span class="n">substr</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">:</span>
</span><span id="L-1439"><a href="#L-1439"><span class="linenos">1439</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">[</span><span class="n">substr</span><span class="p">]</span> <span class="o">=</span> <span class="n">PlaceHolder</span><span class="p">(</span><span class="n">alogger</span><span class="p">)</span>
</span><span id="L-1440"><a href="#L-1440"><span class="linenos">1440</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1441"><a href="#L-1441"><span class="linenos">1441</span></a>                <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">[</span><span class="n">substr</span><span class="p">]</span>
</span><span id="L-1442"><a href="#L-1442"><span class="linenos">1442</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Logger</span><span class="p">):</span>
</span><span id="L-1443"><a href="#L-1443"><span class="linenos">1443</span></a>                    <span class="n">rv</span> <span class="o">=</span> <span class="n">obj</span>
</span><span id="L-1444"><a href="#L-1444"><span class="linenos">1444</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1445"><a href="#L-1445"><span class="linenos">1445</span></a>                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">PlaceHolder</span><span class="p">)</span>
</span><span id="L-1446"><a href="#L-1446"><span class="linenos">1446</span></a>                    <span class="n">obj</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alogger</span><span class="p">)</span>
</span><span id="L-1447"><a href="#L-1447"><span class="linenos">1447</span></a>            <span class="n">i</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-1448"><a href="#L-1448"><span class="linenos">1448</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">rv</span><span class="p">:</span>
</span><span id="L-1449"><a href="#L-1449"><span class="linenos">1449</span></a>            <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
</span><span id="L-1450"><a href="#L-1450"><span class="linenos">1450</span></a>        <span class="n">alogger</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">rv</span>
</span><span id="L-1451"><a href="#L-1451"><span class="linenos">1451</span></a>
</span><span id="L-1452"><a href="#L-1452"><span class="linenos">1452</span></a>    <span class="k">def</span> <span class="nf">_fixupChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ph</span><span class="p">,</span> <span class="n">alogger</span><span class="p">):</span>
</span><span id="L-1453"><a href="#L-1453"><span class="linenos">1453</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1454"><a href="#L-1454"><span class="linenos">1454</span></a><span class="sd">        Ensure that children of the placeholder ph are connected to the</span>
</span><span id="L-1455"><a href="#L-1455"><span class="linenos">1455</span></a><span class="sd">        specified logger.</span>
</span><span id="L-1456"><a href="#L-1456"><span class="linenos">1456</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1457"><a href="#L-1457"><span class="linenos">1457</span></a>        <span class="n">name</span> <span class="o">=</span> <span class="n">alogger</span><span class="o">.</span><span class="n">name</span>
</span><span id="L-1458"><a href="#L-1458"><span class="linenos">1458</span></a>        <span class="n">namelen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-1459"><a href="#L-1459"><span class="linenos">1459</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">ph</span><span class="o">.</span><span class="n">loggerMap</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-1460"><a href="#L-1460"><span class="linenos">1460</span></a>            <span class="c1">#The if means ... if not c.parent.name.startswith(nm)</span>
</span><span id="L-1461"><a href="#L-1461"><span class="linenos">1461</span></a>            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span><span class="p">[:</span><span class="n">namelen</span><span class="p">]</span> <span class="o">!=</span> <span class="n">name</span><span class="p">:</span>
</span><span id="L-1462"><a href="#L-1462"><span class="linenos">1462</span></a>                <span class="n">alogger</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span>
</span><span id="L-1463"><a href="#L-1463"><span class="linenos">1463</span></a>                <span class="n">c</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">alogger</span>
</span><span id="L-1464"><a href="#L-1464"><span class="linenos">1464</span></a>
</span><span id="L-1465"><a href="#L-1465"><span class="linenos">1465</span></a>    <span class="k">def</span> <span class="nf">_clear_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1466"><a href="#L-1466"><span class="linenos">1466</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1467"><a href="#L-1467"><span class="linenos">1467</span></a><span class="sd">        Clear the cache for all loggers in loggerDict</span>
</span><span id="L-1468"><a href="#L-1468"><span class="linenos">1468</span></a><span class="sd">        Called when level changes are made</span>
</span><span id="L-1469"><a href="#L-1469"><span class="linenos">1469</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1470"><a href="#L-1470"><span class="linenos">1470</span></a>
</span><span id="L-1471"><a href="#L-1471"><span class="linenos">1471</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-1472"><a href="#L-1472"><span class="linenos">1472</span></a>        <span class="k">for</span> <span class="n">logger</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">loggerDict</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="L-1473"><a href="#L-1473"><span class="linenos">1473</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="n">Logger</span><span class="p">):</span>
</span><span id="L-1474"><a href="#L-1474"><span class="linenos">1474</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1475"><a href="#L-1475"><span class="linenos">1475</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1476"><a href="#L-1476"><span class="linenos">1476</span></a>        <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-1477"><a href="#L-1477"><span class="linenos">1477</span></a>
</span><span id="L-1478"><a href="#L-1478"><span class="linenos">1478</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-1479"><a href="#L-1479"><span class="linenos">1479</span></a><span class="c1">#   Logger classes and functions</span>
</span><span id="L-1480"><a href="#L-1480"><span class="linenos">1480</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-1481"><a href="#L-1481"><span class="linenos">1481</span></a>
</span><span id="L-1482"><a href="#L-1482"><span class="linenos">1482</span></a><span class="k">class</span> <span class="nc">Logger</span><span class="p">(</span><span class="n">Filterer</span><span class="p">):</span>
</span><span id="L-1483"><a href="#L-1483"><span class="linenos">1483</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1484"><a href="#L-1484"><span class="linenos">1484</span></a><span class="sd">    Instances of the Logger class represent a single logging channel. A</span>
</span><span id="L-1485"><a href="#L-1485"><span class="linenos">1485</span></a><span class="sd">    &quot;logging channel&quot; indicates an area of an application. Exactly how an</span>
</span><span id="L-1486"><a href="#L-1486"><span class="linenos">1486</span></a><span class="sd">    &quot;area&quot; is defined is up to the application developer. Since an</span>
</span><span id="L-1487"><a href="#L-1487"><span class="linenos">1487</span></a><span class="sd">    application can have any number of areas, logging channels are identified</span>
</span><span id="L-1488"><a href="#L-1488"><span class="linenos">1488</span></a><span class="sd">    by a unique string. Application areas can be nested (e.g. an area</span>
</span><span id="L-1489"><a href="#L-1489"><span class="linenos">1489</span></a><span class="sd">    of &quot;input processing&quot; might include sub-areas &quot;read CSV files&quot;, &quot;read</span>
</span><span id="L-1490"><a href="#L-1490"><span class="linenos">1490</span></a><span class="sd">    XLS files&quot; and &quot;read Gnumeric files&quot;). To cater for this natural nesting,</span>
</span><span id="L-1491"><a href="#L-1491"><span class="linenos">1491</span></a><span class="sd">    channel names are organized into a namespace hierarchy where levels are</span>
</span><span id="L-1492"><a href="#L-1492"><span class="linenos">1492</span></a><span class="sd">    separated by periods, much like the Java or Python package namespace. So</span>
</span><span id="L-1493"><a href="#L-1493"><span class="linenos">1493</span></a><span class="sd">    in the instance given above, channel names might be &quot;input&quot; for the upper</span>
</span><span id="L-1494"><a href="#L-1494"><span class="linenos">1494</span></a><span class="sd">    level, and &quot;input.csv&quot;, &quot;input.xls&quot; and &quot;input.gnu&quot; for the sub-levels.</span>
</span><span id="L-1495"><a href="#L-1495"><span class="linenos">1495</span></a><span class="sd">    There is no arbitrary limit to the depth of nesting.</span>
</span><span id="L-1496"><a href="#L-1496"><span class="linenos">1496</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1497"><a href="#L-1497"><span class="linenos">1497</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">NOTSET</span><span class="p">):</span>
</span><span id="L-1498"><a href="#L-1498"><span class="linenos">1498</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1499"><a href="#L-1499"><span class="linenos">1499</span></a><span class="sd">        Initialize the logger with a name and an optional level.</span>
</span><span id="L-1500"><a href="#L-1500"><span class="linenos">1500</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1501"><a href="#L-1501"><span class="linenos">1501</span></a>        <span class="n">Filterer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1502"><a href="#L-1502"><span class="linenos">1502</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-1503"><a href="#L-1503"><span class="linenos">1503</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-1504"><a href="#L-1504"><span class="linenos">1504</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1505"><a href="#L-1505"><span class="linenos">1505</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1506"><a href="#L-1506"><span class="linenos">1506</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1507"><a href="#L-1507"><span class="linenos">1507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1508"><a href="#L-1508"><span class="linenos">1508</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1509"><a href="#L-1509"><span class="linenos">1509</span></a>
</span><span id="L-1510"><a href="#L-1510"><span class="linenos">1510</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="L-1511"><a href="#L-1511"><span class="linenos">1511</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1512"><a href="#L-1512"><span class="linenos">1512</span></a><span class="sd">        Set the logging level of this logger.  level must be an int or a str.</span>
</span><span id="L-1513"><a href="#L-1513"><span class="linenos">1513</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1514"><a href="#L-1514"><span class="linenos">1514</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-1515"><a href="#L-1515"><span class="linenos">1515</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">_clear_cache</span><span class="p">()</span>
</span><span id="L-1516"><a href="#L-1516"><span class="linenos">1516</span></a>
</span><span id="L-1517"><a href="#L-1517"><span class="linenos">1517</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1518"><a href="#L-1518"><span class="linenos">1518</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1519"><a href="#L-1519"><span class="linenos">1519</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;DEBUG&#39;.</span>
</span><span id="L-1520"><a href="#L-1520"><span class="linenos">1520</span></a>
</span><span id="L-1521"><a href="#L-1521"><span class="linenos">1521</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="L-1522"><a href="#L-1522"><span class="linenos">1522</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="L-1523"><a href="#L-1523"><span class="linenos">1523</span></a>
</span><span id="L-1524"><a href="#L-1524"><span class="linenos">1524</span></a><span class="sd">        logger.debug(&quot;Houston, we have a %s&quot;, &quot;thorny problem&quot;, exc_info=True)</span>
</span><span id="L-1525"><a href="#L-1525"><span class="linenos">1525</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1526"><a href="#L-1526"><span class="linenos">1526</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">):</span>
</span><span id="L-1527"><a href="#L-1527"><span class="linenos">1527</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1528"><a href="#L-1528"><span class="linenos">1528</span></a>
</span><span id="L-1529"><a href="#L-1529"><span class="linenos">1529</span></a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1530"><a href="#L-1530"><span class="linenos">1530</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1531"><a href="#L-1531"><span class="linenos">1531</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;INFO&#39;.</span>
</span><span id="L-1532"><a href="#L-1532"><span class="linenos">1532</span></a>
</span><span id="L-1533"><a href="#L-1533"><span class="linenos">1533</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="L-1534"><a href="#L-1534"><span class="linenos">1534</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="L-1535"><a href="#L-1535"><span class="linenos">1535</span></a>
</span><span id="L-1536"><a href="#L-1536"><span class="linenos">1536</span></a><span class="sd">        logger.info(&quot;Houston, we have a %s&quot;, &quot;notable problem&quot;, exc_info=True)</span>
</span><span id="L-1537"><a href="#L-1537"><span class="linenos">1537</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1538"><a href="#L-1538"><span class="linenos">1538</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">INFO</span><span class="p">):</span>
</span><span id="L-1539"><a href="#L-1539"><span class="linenos">1539</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1540"><a href="#L-1540"><span class="linenos">1540</span></a>
</span><span id="L-1541"><a href="#L-1541"><span class="linenos">1541</span></a>    <span class="k">def</span> <span class="nf">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1542"><a href="#L-1542"><span class="linenos">1542</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1543"><a href="#L-1543"><span class="linenos">1543</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;WARNING&#39;.</span>
</span><span id="L-1544"><a href="#L-1544"><span class="linenos">1544</span></a>
</span><span id="L-1545"><a href="#L-1545"><span class="linenos">1545</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="L-1546"><a href="#L-1546"><span class="linenos">1546</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="L-1547"><a href="#L-1547"><span class="linenos">1547</span></a>
</span><span id="L-1548"><a href="#L-1548"><span class="linenos">1548</span></a><span class="sd">        logger.warning(&quot;Houston, we have a %s&quot;, &quot;bit of a problem&quot;, exc_info=True)</span>
</span><span id="L-1549"><a href="#L-1549"><span class="linenos">1549</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1550"><a href="#L-1550"><span class="linenos">1550</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">WARNING</span><span class="p">):</span>
</span><span id="L-1551"><a href="#L-1551"><span class="linenos">1551</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1552"><a href="#L-1552"><span class="linenos">1552</span></a>
</span><span id="L-1553"><a href="#L-1553"><span class="linenos">1553</span></a>    <span class="k">def</span> <span class="nf">warn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1554"><a href="#L-1554"><span class="linenos">1554</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The &#39;warn&#39; method is deprecated, &quot;</span>
</span><span id="L-1555"><a href="#L-1555"><span class="linenos">1555</span></a>            <span class="s2">&quot;use &#39;warning&#39; instead&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-1556"><a href="#L-1556"><span class="linenos">1556</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1557"><a href="#L-1557"><span class="linenos">1557</span></a>
</span><span id="L-1558"><a href="#L-1558"><span class="linenos">1558</span></a>    <span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1559"><a href="#L-1559"><span class="linenos">1559</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1560"><a href="#L-1560"><span class="linenos">1560</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;ERROR&#39;.</span>
</span><span id="L-1561"><a href="#L-1561"><span class="linenos">1561</span></a>
</span><span id="L-1562"><a href="#L-1562"><span class="linenos">1562</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="L-1563"><a href="#L-1563"><span class="linenos">1563</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="L-1564"><a href="#L-1564"><span class="linenos">1564</span></a>
</span><span id="L-1565"><a href="#L-1565"><span class="linenos">1565</span></a><span class="sd">        logger.error(&quot;Houston, we have a %s&quot;, &quot;major problem&quot;, exc_info=True)</span>
</span><span id="L-1566"><a href="#L-1566"><span class="linenos">1566</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1567"><a href="#L-1567"><span class="linenos">1567</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">ERROR</span><span class="p">):</span>
</span><span id="L-1568"><a href="#L-1568"><span class="linenos">1568</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1569"><a href="#L-1569"><span class="linenos">1569</span></a>
</span><span id="L-1570"><a href="#L-1570"><span class="linenos">1570</span></a>    <span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1571"><a href="#L-1571"><span class="linenos">1571</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1572"><a href="#L-1572"><span class="linenos">1572</span></a><span class="sd">        Convenience method for logging an ERROR with exception information.</span>
</span><span id="L-1573"><a href="#L-1573"><span class="linenos">1573</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1574"><a href="#L-1574"><span class="linenos">1574</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">exc_info</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1575"><a href="#L-1575"><span class="linenos">1575</span></a>
</span><span id="L-1576"><a href="#L-1576"><span class="linenos">1576</span></a>    <span class="k">def</span> <span class="nf">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1577"><a href="#L-1577"><span class="linenos">1577</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1578"><a href="#L-1578"><span class="linenos">1578</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;CRITICAL&#39;.</span>
</span><span id="L-1579"><a href="#L-1579"><span class="linenos">1579</span></a>
</span><span id="L-1580"><a href="#L-1580"><span class="linenos">1580</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="L-1581"><a href="#L-1581"><span class="linenos">1581</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="L-1582"><a href="#L-1582"><span class="linenos">1582</span></a>
</span><span id="L-1583"><a href="#L-1583"><span class="linenos">1583</span></a><span class="sd">        logger.critical(&quot;Houston, we have a %s&quot;, &quot;major disaster&quot;, exc_info=True)</span>
</span><span id="L-1584"><a href="#L-1584"><span class="linenos">1584</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1585"><a href="#L-1585"><span class="linenos">1585</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">):</span>
</span><span id="L-1586"><a href="#L-1586"><span class="linenos">1586</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1587"><a href="#L-1587"><span class="linenos">1587</span></a>
</span><span id="L-1588"><a href="#L-1588"><span class="linenos">1588</span></a>    <span class="k">def</span> <span class="nf">fatal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1589"><a href="#L-1589"><span class="linenos">1589</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1590"><a href="#L-1590"><span class="linenos">1590</span></a><span class="sd">        Don&#39;t use this method, use critical() instead.</span>
</span><span id="L-1591"><a href="#L-1591"><span class="linenos">1591</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1592"><a href="#L-1592"><span class="linenos">1592</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1593"><a href="#L-1593"><span class="linenos">1593</span></a>
</span><span id="L-1594"><a href="#L-1594"><span class="linenos">1594</span></a>    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1595"><a href="#L-1595"><span class="linenos">1595</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1596"><a href="#L-1596"><span class="linenos">1596</span></a><span class="sd">        Log &#39;msg % args&#39; with the integer severity &#39;level&#39;.</span>
</span><span id="L-1597"><a href="#L-1597"><span class="linenos">1597</span></a>
</span><span id="L-1598"><a href="#L-1598"><span class="linenos">1598</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="L-1599"><a href="#L-1599"><span class="linenos">1599</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="L-1600"><a href="#L-1600"><span class="linenos">1600</span></a>
</span><span id="L-1601"><a href="#L-1601"><span class="linenos">1601</span></a><span class="sd">        logger.log(level, &quot;We have a %s&quot;, &quot;mysterious problem&quot;, exc_info=True)</span>
</span><span id="L-1602"><a href="#L-1602"><span class="linenos">1602</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1603"><a href="#L-1603"><span class="linenos">1603</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-1604"><a href="#L-1604"><span class="linenos">1604</span></a>            <span class="k">if</span> <span class="n">raiseExceptions</span><span class="p">:</span>
</span><span id="L-1605"><a href="#L-1605"><span class="linenos">1605</span></a>                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;level must be an integer&quot;</span><span class="p">)</span>
</span><span id="L-1606"><a href="#L-1606"><span class="linenos">1606</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1607"><a href="#L-1607"><span class="linenos">1607</span></a>                <span class="k">return</span>
</span><span id="L-1608"><a href="#L-1608"><span class="linenos">1608</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="L-1609"><a href="#L-1609"><span class="linenos">1609</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1610"><a href="#L-1610"><span class="linenos">1610</span></a>
</span><span id="L-1611"><a href="#L-1611"><span class="linenos">1611</span></a>    <span class="k">def</span> <span class="nf">findCaller</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-1612"><a href="#L-1612"><span class="linenos">1612</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1613"><a href="#L-1613"><span class="linenos">1613</span></a><span class="sd">        Find the stack frame of the caller so that we can note the source</span>
</span><span id="L-1614"><a href="#L-1614"><span class="linenos">1614</span></a><span class="sd">        file name, line number and function name.</span>
</span><span id="L-1615"><a href="#L-1615"><span class="linenos">1615</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1616"><a href="#L-1616"><span class="linenos">1616</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="n">currentframe</span><span class="p">()</span>
</span><span id="L-1617"><a href="#L-1617"><span class="linenos">1617</span></a>        <span class="c1">#On some versions of IronPython, currentframe() returns None if</span>
</span><span id="L-1618"><a href="#L-1618"><span class="linenos">1618</span></a>        <span class="c1">#IronPython isn&#39;t run with -X:Frames.</span>
</span><span id="L-1619"><a href="#L-1619"><span class="linenos">1619</span></a>        <span class="k">if</span> <span class="n">f</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1620"><a href="#L-1620"><span class="linenos">1620</span></a>            <span class="k">return</span> <span class="s2">&quot;(unknown file)&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;(unknown function)&quot;</span><span class="p">,</span> <span class="kc">None</span>
</span><span id="L-1621"><a href="#L-1621"><span class="linenos">1621</span></a>        <span class="k">while</span> <span class="n">stacklevel</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1622"><a href="#L-1622"><span class="linenos">1622</span></a>            <span class="n">next_f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">f_back</span>
</span><span id="L-1623"><a href="#L-1623"><span class="linenos">1623</span></a>            <span class="k">if</span> <span class="n">next_f</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1624"><a href="#L-1624"><span class="linenos">1624</span></a>                <span class="c1">## We&#39;ve got options here.</span>
</span><span id="L-1625"><a href="#L-1625"><span class="linenos">1625</span></a>                <span class="c1">## If we want to use the last (deepest) frame:</span>
</span><span id="L-1626"><a href="#L-1626"><span class="linenos">1626</span></a>                <span class="k">break</span>
</span><span id="L-1627"><a href="#L-1627"><span class="linenos">1627</span></a>                <span class="c1">## If we want to mimic the warnings module:</span>
</span><span id="L-1628"><a href="#L-1628"><span class="linenos">1628</span></a>                <span class="c1">#return (&quot;sys&quot;, 1, &quot;(unknown function)&quot;, None)</span>
</span><span id="L-1629"><a href="#L-1629"><span class="linenos">1629</span></a>                <span class="c1">## If we want to be pedantic:</span>
</span><span id="L-1630"><a href="#L-1630"><span class="linenos">1630</span></a>                <span class="c1">#raise ValueError(&quot;call stack is not deep enough&quot;)</span>
</span><span id="L-1631"><a href="#L-1631"><span class="linenos">1631</span></a>            <span class="n">f</span> <span class="o">=</span> <span class="n">next_f</span>
</span><span id="L-1632"><a href="#L-1632"><span class="linenos">1632</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">_is_internal_frame</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
</span><span id="L-1633"><a href="#L-1633"><span class="linenos">1633</span></a>                <span class="n">stacklevel</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="L-1634"><a href="#L-1634"><span class="linenos">1634</span></a>        <span class="n">co</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">f_code</span>
</span><span id="L-1635"><a href="#L-1635"><span class="linenos">1635</span></a>        <span class="n">sinfo</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1636"><a href="#L-1636"><span class="linenos">1636</span></a>        <span class="k">if</span> <span class="n">stack_info</span><span class="p">:</span>
</span><span id="L-1637"><a href="#L-1637"><span class="linenos">1637</span></a>            <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span> <span class="k">as</span> <span class="n">sio</span><span class="p">:</span>
</span><span id="L-1638"><a href="#L-1638"><span class="linenos">1638</span></a>                <span class="n">sio</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Stack (most recent call last):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1639"><a href="#L-1639"><span class="linenos">1639</span></a>                <span class="n">traceback</span><span class="o">.</span><span class="n">print_stack</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sio</span><span class="p">)</span>
</span><span id="L-1640"><a href="#L-1640"><span class="linenos">1640</span></a>                <span class="n">sinfo</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="L-1641"><a href="#L-1641"><span class="linenos">1641</span></a>                <span class="k">if</span> <span class="n">sinfo</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
</span><span id="L-1642"><a href="#L-1642"><span class="linenos">1642</span></a>                    <span class="n">sinfo</span> <span class="o">=</span> <span class="n">sinfo</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-1643"><a href="#L-1643"><span class="linenos">1643</span></a>        <span class="k">return</span> <span class="n">co</span><span class="o">.</span><span class="n">co_filename</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="n">co</span><span class="o">.</span><span class="n">co_name</span><span class="p">,</span> <span class="n">sinfo</span>
</span><span id="L-1644"><a href="#L-1644"><span class="linenos">1644</span></a>
</span><span id="L-1645"><a href="#L-1645"><span class="linenos">1645</span></a>    <span class="k">def</span> <span class="nf">makeRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span>
</span><span id="L-1646"><a href="#L-1646"><span class="linenos">1646</span></a>                   <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1647"><a href="#L-1647"><span class="linenos">1647</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1648"><a href="#L-1648"><span class="linenos">1648</span></a><span class="sd">        A factory method which can be overridden in subclasses to create</span>
</span><span id="L-1649"><a href="#L-1649"><span class="linenos">1649</span></a><span class="sd">        specialized LogRecords.</span>
</span><span id="L-1650"><a href="#L-1650"><span class="linenos">1650</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1651"><a href="#L-1651"><span class="linenos">1651</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="n">_logRecordFactory</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
</span><span id="L-1652"><a href="#L-1652"><span class="linenos">1652</span></a>                             <span class="n">sinfo</span><span class="p">)</span>
</span><span id="L-1653"><a href="#L-1653"><span class="linenos">1653</span></a>        <span class="k">if</span> <span class="n">extra</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1654"><a href="#L-1654"><span class="linenos">1654</span></a>            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">extra</span><span class="p">:</span>
</span><span id="L-1655"><a href="#L-1655"><span class="linenos">1655</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;asctime&quot;</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="n">rv</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">):</span>
</span><span id="L-1656"><a href="#L-1656"><span class="linenos">1656</span></a>                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Attempt to overwrite </span><span class="si">%r</span><span class="s2"> in LogRecord&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>
</span><span id="L-1657"><a href="#L-1657"><span class="linenos">1657</span></a>                <span class="n">rv</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-1658"><a href="#L-1658"><span class="linenos">1658</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span><span id="L-1659"><a href="#L-1659"><span class="linenos">1659</span></a>
</span><span id="L-1660"><a href="#L-1660"><span class="linenos">1660</span></a>    <span class="k">def</span> <span class="nf">_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stack_info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1661"><a href="#L-1661"><span class="linenos">1661</span></a>             <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-1662"><a href="#L-1662"><span class="linenos">1662</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1663"><a href="#L-1663"><span class="linenos">1663</span></a><span class="sd">        Low-level logging routine which creates a LogRecord and then calls</span>
</span><span id="L-1664"><a href="#L-1664"><span class="linenos">1664</span></a><span class="sd">        all the handlers of this logger to handle the record.</span>
</span><span id="L-1665"><a href="#L-1665"><span class="linenos">1665</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1666"><a href="#L-1666"><span class="linenos">1666</span></a>        <span class="n">sinfo</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1667"><a href="#L-1667"><span class="linenos">1667</span></a>        <span class="k">if</span> <span class="n">_srcfile</span><span class="p">:</span>
</span><span id="L-1668"><a href="#L-1668"><span class="linenos">1668</span></a>            <span class="c1">#IronPython doesn&#39;t track Python frames, so findCaller raises an</span>
</span><span id="L-1669"><a href="#L-1669"><span class="linenos">1669</span></a>            <span class="c1">#exception on some versions of IronPython. We trap it here so that</span>
</span><span id="L-1670"><a href="#L-1670"><span class="linenos">1670</span></a>            <span class="c1">#IronPython can use logging.</span>
</span><span id="L-1671"><a href="#L-1671"><span class="linenos">1671</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1672"><a href="#L-1672"><span class="linenos">1672</span></a>                <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">sinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">findCaller</span><span class="p">(</span><span class="n">stack_info</span><span class="p">,</span> <span class="n">stacklevel</span><span class="p">)</span>
</span><span id="L-1673"><a href="#L-1673"><span class="linenos">1673</span></a>            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="L-1674"><a href="#L-1674"><span class="linenos">1674</span></a>                <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">func</span> <span class="o">=</span> <span class="s2">&quot;(unknown file)&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;(unknown function)&quot;</span>
</span><span id="L-1675"><a href="#L-1675"><span class="linenos">1675</span></a>        <span class="k">else</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="L-1676"><a href="#L-1676"><span class="linenos">1676</span></a>            <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">func</span> <span class="o">=</span> <span class="s2">&quot;(unknown file)&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;(unknown function)&quot;</span>
</span><span id="L-1677"><a href="#L-1677"><span class="linenos">1677</span></a>        <span class="k">if</span> <span class="n">exc_info</span><span class="p">:</span>
</span><span id="L-1678"><a href="#L-1678"><span class="linenos">1678</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc_info</span><span class="p">,</span> <span class="ne">BaseException</span><span class="p">):</span>
</span><span id="L-1679"><a href="#L-1679"><span class="linenos">1679</span></a>                <span class="n">exc_info</span> <span class="o">=</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">exc_info</span><span class="p">),</span> <span class="n">exc_info</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">__traceback__</span><span class="p">)</span>
</span><span id="L-1680"><a href="#L-1680"><span class="linenos">1680</span></a>            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc_info</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="L-1681"><a href="#L-1681"><span class="linenos">1681</span></a>                <span class="n">exc_info</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="L-1682"><a href="#L-1682"><span class="linenos">1682</span></a>        <span class="n">record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">makeRecord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span>
</span><span id="L-1683"><a href="#L-1683"><span class="linenos">1683</span></a>                                 <span class="n">exc_info</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">extra</span><span class="p">,</span> <span class="n">sinfo</span><span class="p">)</span>
</span><span id="L-1684"><a href="#L-1684"><span class="linenos">1684</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1685"><a href="#L-1685"><span class="linenos">1685</span></a>
</span><span id="L-1686"><a href="#L-1686"><span class="linenos">1686</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-1687"><a href="#L-1687"><span class="linenos">1687</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1688"><a href="#L-1688"><span class="linenos">1688</span></a><span class="sd">        Call the handlers for the specified record.</span>
</span><span id="L-1689"><a href="#L-1689"><span class="linenos">1689</span></a>
</span><span id="L-1690"><a href="#L-1690"><span class="linenos">1690</span></a><span class="sd">        This method is used for unpickled records received from a socket, as</span>
</span><span id="L-1691"><a href="#L-1691"><span class="linenos">1691</span></a><span class="sd">        well as those created locally. Logger-level filtering is applied.</span>
</span><span id="L-1692"><a href="#L-1692"><span class="linenos">1692</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1693"><a href="#L-1693"><span class="linenos">1693</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span><span class="p">:</span>
</span><span id="L-1694"><a href="#L-1694"><span class="linenos">1694</span></a>            <span class="k">return</span>
</span><span id="L-1695"><a href="#L-1695"><span class="linenos">1695</span></a>        <span class="n">maybe_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1696"><a href="#L-1696"><span class="linenos">1696</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">maybe_record</span><span class="p">:</span>
</span><span id="L-1697"><a href="#L-1697"><span class="linenos">1697</span></a>            <span class="k">return</span>
</span><span id="L-1698"><a href="#L-1698"><span class="linenos">1698</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">maybe_record</span><span class="p">,</span> <span class="n">LogRecord</span><span class="p">):</span>
</span><span id="L-1699"><a href="#L-1699"><span class="linenos">1699</span></a>            <span class="n">record</span> <span class="o">=</span> <span class="n">maybe_record</span>
</span><span id="L-1700"><a href="#L-1700"><span class="linenos">1700</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">callHandlers</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1701"><a href="#L-1701"><span class="linenos">1701</span></a>
</span><span id="L-1702"><a href="#L-1702"><span class="linenos">1702</span></a>    <span class="k">def</span> <span class="nf">addHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdlr</span><span class="p">):</span>
</span><span id="L-1703"><a href="#L-1703"><span class="linenos">1703</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1704"><a href="#L-1704"><span class="linenos">1704</span></a><span class="sd">        Add the specified handler to this logger.</span>
</span><span id="L-1705"><a href="#L-1705"><span class="linenos">1705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1706"><a href="#L-1706"><span class="linenos">1706</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-1707"><a href="#L-1707"><span class="linenos">1707</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1708"><a href="#L-1708"><span class="linenos">1708</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">hdlr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="p">):</span>
</span><span id="L-1709"><a href="#L-1709"><span class="linenos">1709</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hdlr</span><span class="p">)</span>
</span><span id="L-1710"><a href="#L-1710"><span class="linenos">1710</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1711"><a href="#L-1711"><span class="linenos">1711</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-1712"><a href="#L-1712"><span class="linenos">1712</span></a>
</span><span id="L-1713"><a href="#L-1713"><span class="linenos">1713</span></a>    <span class="k">def</span> <span class="nf">removeHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdlr</span><span class="p">):</span>
</span><span id="L-1714"><a href="#L-1714"><span class="linenos">1714</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1715"><a href="#L-1715"><span class="linenos">1715</span></a><span class="sd">        Remove the specified handler from this logger.</span>
</span><span id="L-1716"><a href="#L-1716"><span class="linenos">1716</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1717"><a href="#L-1717"><span class="linenos">1717</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-1718"><a href="#L-1718"><span class="linenos">1718</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1719"><a href="#L-1719"><span class="linenos">1719</span></a>            <span class="k">if</span> <span class="n">hdlr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="L-1720"><a href="#L-1720"><span class="linenos">1720</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">hdlr</span><span class="p">)</span>
</span><span id="L-1721"><a href="#L-1721"><span class="linenos">1721</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1722"><a href="#L-1722"><span class="linenos">1722</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-1723"><a href="#L-1723"><span class="linenos">1723</span></a>
</span><span id="L-1724"><a href="#L-1724"><span class="linenos">1724</span></a>    <span class="k">def</span> <span class="nf">hasHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1725"><a href="#L-1725"><span class="linenos">1725</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1726"><a href="#L-1726"><span class="linenos">1726</span></a><span class="sd">        See if this logger has any handlers configured.</span>
</span><span id="L-1727"><a href="#L-1727"><span class="linenos">1727</span></a>
</span><span id="L-1728"><a href="#L-1728"><span class="linenos">1728</span></a><span class="sd">        Loop through all handlers for this logger and its parents in the</span>
</span><span id="L-1729"><a href="#L-1729"><span class="linenos">1729</span></a><span class="sd">        logger hierarchy. Return True if a handler was found, else False.</span>
</span><span id="L-1730"><a href="#L-1730"><span class="linenos">1730</span></a><span class="sd">        Stop searching up the hierarchy whenever a logger with the &quot;propagate&quot;</span>
</span><span id="L-1731"><a href="#L-1731"><span class="linenos">1731</span></a><span class="sd">        attribute set to zero is found - that will be the last logger which</span>
</span><span id="L-1732"><a href="#L-1732"><span class="linenos">1732</span></a><span class="sd">        is checked for the existence of handlers.</span>
</span><span id="L-1733"><a href="#L-1733"><span class="linenos">1733</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1734"><a href="#L-1734"><span class="linenos">1734</span></a>        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-1735"><a href="#L-1735"><span class="linenos">1735</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1736"><a href="#L-1736"><span class="linenos">1736</span></a>        <span class="k">while</span> <span class="n">c</span><span class="p">:</span>
</span><span id="L-1737"><a href="#L-1737"><span class="linenos">1737</span></a>            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="L-1738"><a href="#L-1738"><span class="linenos">1738</span></a>                <span class="n">rv</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1739"><a href="#L-1739"><span class="linenos">1739</span></a>                <span class="k">break</span>
</span><span id="L-1740"><a href="#L-1740"><span class="linenos">1740</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">propagate</span><span class="p">:</span>
</span><span id="L-1741"><a href="#L-1741"><span class="linenos">1741</span></a>                <span class="k">break</span>
</span><span id="L-1742"><a href="#L-1742"><span class="linenos">1742</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1743"><a href="#L-1743"><span class="linenos">1743</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span>
</span><span id="L-1744"><a href="#L-1744"><span class="linenos">1744</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span><span id="L-1745"><a href="#L-1745"><span class="linenos">1745</span></a>
</span><span id="L-1746"><a href="#L-1746"><span class="linenos">1746</span></a>    <span class="k">def</span> <span class="nf">callHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-1747"><a href="#L-1747"><span class="linenos">1747</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1748"><a href="#L-1748"><span class="linenos">1748</span></a><span class="sd">        Pass a record to all relevant handlers.</span>
</span><span id="L-1749"><a href="#L-1749"><span class="linenos">1749</span></a>
</span><span id="L-1750"><a href="#L-1750"><span class="linenos">1750</span></a><span class="sd">        Loop through all handlers for this logger and its parents in the</span>
</span><span id="L-1751"><a href="#L-1751"><span class="linenos">1751</span></a><span class="sd">        logger hierarchy. If no handler was found, output a one-off error</span>
</span><span id="L-1752"><a href="#L-1752"><span class="linenos">1752</span></a><span class="sd">        message to sys.stderr. Stop searching up the hierarchy whenever a</span>
</span><span id="L-1753"><a href="#L-1753"><span class="linenos">1753</span></a><span class="sd">        logger with the &quot;propagate&quot; attribute set to zero is found - that</span>
</span><span id="L-1754"><a href="#L-1754"><span class="linenos">1754</span></a><span class="sd">        will be the last logger whose handlers are called.</span>
</span><span id="L-1755"><a href="#L-1755"><span class="linenos">1755</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1756"><a href="#L-1756"><span class="linenos">1756</span></a>        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-1757"><a href="#L-1757"><span class="linenos">1757</span></a>        <span class="n">found</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1758"><a href="#L-1758"><span class="linenos">1758</span></a>        <span class="k">while</span> <span class="n">c</span><span class="p">:</span>
</span><span id="L-1759"><a href="#L-1759"><span class="linenos">1759</span></a>            <span class="k">for</span> <span class="n">hdlr</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="L-1760"><a href="#L-1760"><span class="linenos">1760</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="n">found</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-1761"><a href="#L-1761"><span class="linenos">1761</span></a>                <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">levelno</span> <span class="o">&gt;=</span> <span class="n">hdlr</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="L-1762"><a href="#L-1762"><span class="linenos">1762</span></a>                    <span class="n">hdlr</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1763"><a href="#L-1763"><span class="linenos">1763</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">propagate</span><span class="p">:</span>
</span><span id="L-1764"><a href="#L-1764"><span class="linenos">1764</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="kc">None</span>    <span class="c1">#break out</span>
</span><span id="L-1765"><a href="#L-1765"><span class="linenos">1765</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1766"><a href="#L-1766"><span class="linenos">1766</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span>
</span><span id="L-1767"><a href="#L-1767"><span class="linenos">1767</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">found</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-1768"><a href="#L-1768"><span class="linenos">1768</span></a>            <span class="k">if</span> <span class="n">lastResort</span><span class="p">:</span>
</span><span id="L-1769"><a href="#L-1769"><span class="linenos">1769</span></a>                <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">levelno</span> <span class="o">&gt;=</span> <span class="n">lastResort</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="L-1770"><a href="#L-1770"><span class="linenos">1770</span></a>                    <span class="n">lastResort</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="L-1771"><a href="#L-1771"><span class="linenos">1771</span></a>            <span class="k">elif</span> <span class="n">raiseExceptions</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">emittedNoHandlerWarning</span><span class="p">:</span>
</span><span id="L-1772"><a href="#L-1772"><span class="linenos">1772</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;No handlers could be found for logger&quot;</span>
</span><span id="L-1773"><a href="#L-1773"><span class="linenos">1773</span></a>                                 <span class="s2">&quot; </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-1774"><a href="#L-1774"><span class="linenos">1774</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">emittedNoHandlerWarning</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1775"><a href="#L-1775"><span class="linenos">1775</span></a>
</span><span id="L-1776"><a href="#L-1776"><span class="linenos">1776</span></a>    <span class="k">def</span> <span class="nf">getEffectiveLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1777"><a href="#L-1777"><span class="linenos">1777</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1778"><a href="#L-1778"><span class="linenos">1778</span></a><span class="sd">        Get the effective level for this logger.</span>
</span><span id="L-1779"><a href="#L-1779"><span class="linenos">1779</span></a>
</span><span id="L-1780"><a href="#L-1780"><span class="linenos">1780</span></a><span class="sd">        Loop through this logger and its parents in the logger hierarchy,</span>
</span><span id="L-1781"><a href="#L-1781"><span class="linenos">1781</span></a><span class="sd">        looking for a non-zero logging level. Return the first one found.</span>
</span><span id="L-1782"><a href="#L-1782"><span class="linenos">1782</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1783"><a href="#L-1783"><span class="linenos">1783</span></a>        <span class="n">logger</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-1784"><a href="#L-1784"><span class="linenos">1784</span></a>        <span class="k">while</span> <span class="n">logger</span><span class="p">:</span>
</span><span id="L-1785"><a href="#L-1785"><span class="linenos">1785</span></a>            <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="L-1786"><a href="#L-1786"><span class="linenos">1786</span></a>                <span class="k">return</span> <span class="n">logger</span><span class="o">.</span><span class="n">level</span>
</span><span id="L-1787"><a href="#L-1787"><span class="linenos">1787</span></a>            <span class="n">logger</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">parent</span>
</span><span id="L-1788"><a href="#L-1788"><span class="linenos">1788</span></a>        <span class="k">return</span> <span class="n">NOTSET</span>
</span><span id="L-1789"><a href="#L-1789"><span class="linenos">1789</span></a>
</span><span id="L-1790"><a href="#L-1790"><span class="linenos">1790</span></a>    <span class="k">def</span> <span class="nf">isEnabledFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="L-1791"><a href="#L-1791"><span class="linenos">1791</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1792"><a href="#L-1792"><span class="linenos">1792</span></a><span class="sd">        Is this logger enabled for level &#39;level&#39;?</span>
</span><span id="L-1793"><a href="#L-1793"><span class="linenos">1793</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1794"><a href="#L-1794"><span class="linenos">1794</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span><span class="p">:</span>
</span><span id="L-1795"><a href="#L-1795"><span class="linenos">1795</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-1796"><a href="#L-1796"><span class="linenos">1796</span></a>
</span><span id="L-1797"><a href="#L-1797"><span class="linenos">1797</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1798"><a href="#L-1798"><span class="linenos">1798</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span>
</span><span id="L-1799"><a href="#L-1799"><span class="linenos">1799</span></a>        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="L-1800"><a href="#L-1800"><span class="linenos">1800</span></a>            <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-1801"><a href="#L-1801"><span class="linenos">1801</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1802"><a href="#L-1802"><span class="linenos">1802</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">disable</span> <span class="o">&gt;=</span> <span class="n">level</span><span class="p">:</span>
</span><span id="L-1803"><a href="#L-1803"><span class="linenos">1803</span></a>                    <span class="n">is_enabled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1804"><a href="#L-1804"><span class="linenos">1804</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1805"><a href="#L-1805"><span class="linenos">1805</span></a>                    <span class="n">is_enabled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-1806"><a href="#L-1806"><span class="linenos">1806</span></a>                        <span class="n">level</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">()</span>
</span><span id="L-1807"><a href="#L-1807"><span class="linenos">1807</span></a>                    <span class="p">)</span>
</span><span id="L-1808"><a href="#L-1808"><span class="linenos">1808</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1809"><a href="#L-1809"><span class="linenos">1809</span></a>                <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-1810"><a href="#L-1810"><span class="linenos">1810</span></a>            <span class="k">return</span> <span class="n">is_enabled</span>
</span><span id="L-1811"><a href="#L-1811"><span class="linenos">1811</span></a>
</span><span id="L-1812"><a href="#L-1812"><span class="linenos">1812</span></a>    <span class="k">def</span> <span class="nf">getChild</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">suffix</span><span class="p">):</span>
</span><span id="L-1813"><a href="#L-1813"><span class="linenos">1813</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1814"><a href="#L-1814"><span class="linenos">1814</span></a><span class="sd">        Get a logger which is a descendant to this one.</span>
</span><span id="L-1815"><a href="#L-1815"><span class="linenos">1815</span></a>
</span><span id="L-1816"><a href="#L-1816"><span class="linenos">1816</span></a><span class="sd">        This is a convenience method, such that</span>
</span><span id="L-1817"><a href="#L-1817"><span class="linenos">1817</span></a>
</span><span id="L-1818"><a href="#L-1818"><span class="linenos">1818</span></a><span class="sd">        logging.getLogger(&#39;abc&#39;).getChild(&#39;def.ghi&#39;)</span>
</span><span id="L-1819"><a href="#L-1819"><span class="linenos">1819</span></a>
</span><span id="L-1820"><a href="#L-1820"><span class="linenos">1820</span></a><span class="sd">        is the same as</span>
</span><span id="L-1821"><a href="#L-1821"><span class="linenos">1821</span></a>
</span><span id="L-1822"><a href="#L-1822"><span class="linenos">1822</span></a><span class="sd">        logging.getLogger(&#39;abc.def.ghi&#39;)</span>
</span><span id="L-1823"><a href="#L-1823"><span class="linenos">1823</span></a>
</span><span id="L-1824"><a href="#L-1824"><span class="linenos">1824</span></a><span class="sd">        It&#39;s useful, for example, when the parent logger is named using</span>
</span><span id="L-1825"><a href="#L-1825"><span class="linenos">1825</span></a><span class="sd">        __name__ rather than a literal string.</span>
</span><span id="L-1826"><a href="#L-1826"><span class="linenos">1826</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1827"><a href="#L-1827"><span class="linenos">1827</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="L-1828"><a href="#L-1828"><span class="linenos">1828</span></a>            <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">suffix</span><span class="p">))</span>
</span><span id="L-1829"><a href="#L-1829"><span class="linenos">1829</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
</span><span id="L-1830"><a href="#L-1830"><span class="linenos">1830</span></a>
</span><span id="L-1831"><a href="#L-1831"><span class="linenos">1831</span></a>    <span class="k">def</span> <span class="nf">getChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1832"><a href="#L-1832"><span class="linenos">1832</span></a>
</span><span id="L-1833"><a href="#L-1833"><span class="linenos">1833</span></a>        <span class="k">def</span> <span class="nf">_hierlevel</span><span class="p">(</span><span class="n">logger</span><span class="p">):</span>
</span><span id="L-1834"><a href="#L-1834"><span class="linenos">1834</span></a>            <span class="k">if</span> <span class="n">logger</span> <span class="ow">is</span> <span class="n">logger</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">root</span><span class="p">:</span>
</span><span id="L-1835"><a href="#L-1835"><span class="linenos">1835</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1836"><a href="#L-1836"><span class="linenos">1836</span></a>            <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">logger</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</span><span id="L-1837"><a href="#L-1837"><span class="linenos">1837</span></a>
</span><span id="L-1838"><a href="#L-1838"><span class="linenos">1838</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">loggerDict</span>
</span><span id="L-1839"><a href="#L-1839"><span class="linenos">1839</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-1840"><a href="#L-1840"><span class="linenos">1840</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1841"><a href="#L-1841"><span class="linenos">1841</span></a>            <span class="c1"># exclude PlaceHolders - the last check is to ensure that lower-level</span>
</span><span id="L-1842"><a href="#L-1842"><span class="linenos">1842</span></a>            <span class="c1"># descendants aren&#39;t returned - if there are placeholders, a logger&#39;s</span>
</span><span id="L-1843"><a href="#L-1843"><span class="linenos">1843</span></a>            <span class="c1"># parent field might point to a grandparent or ancestor thereof.</span>
</span><span id="L-1844"><a href="#L-1844"><span class="linenos">1844</span></a>            <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</span><span id="L-1845"><a href="#L-1845"><span class="linenos">1845</span></a>                       <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Logger</span><span class="p">)</span> <span class="ow">and</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="bp">self</span> <span class="ow">and</span>
</span><span id="L-1846"><a href="#L-1846"><span class="linenos">1846</span></a>                       <span class="n">_hierlevel</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">_hierlevel</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">))</span>
</span><span id="L-1847"><a href="#L-1847"><span class="linenos">1847</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-1848"><a href="#L-1848"><span class="linenos">1848</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-1849"><a href="#L-1849"><span class="linenos">1849</span></a>
</span><span id="L-1850"><a href="#L-1850"><span class="linenos">1850</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1851"><a href="#L-1851"><span class="linenos">1851</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">())</span>
</span><span id="L-1852"><a href="#L-1852"><span class="linenos">1852</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="L-1853"><a href="#L-1853"><span class="linenos">1853</span></a>
</span><span id="L-1854"><a href="#L-1854"><span class="linenos">1854</span></a>    <span class="k">def</span> <span class="nf">__reduce__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1855"><a href="#L-1855"><span class="linenos">1855</span></a>        <span class="k">if</span> <span class="n">getLogger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="L-1856"><a href="#L-1856"><span class="linenos">1856</span></a>            <span class="kn">import</span> <span class="nn">pickle</span>
</span><span id="L-1857"><a href="#L-1857"><span class="linenos">1857</span></a>            <span class="k">raise</span> <span class="n">pickle</span><span class="o">.</span><span class="n">PicklingError</span><span class="p">(</span><span class="s1">&#39;logger cannot be pickled&#39;</span><span class="p">)</span>
</span><span id="L-1858"><a href="#L-1858"><span class="linenos">1858</span></a>        <span class="k">return</span> <span class="n">getLogger</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,)</span>
</span><span id="L-1859"><a href="#L-1859"><span class="linenos">1859</span></a>
</span><span id="L-1860"><a href="#L-1860"><span class="linenos">1860</span></a>
</span><span id="L-1861"><a href="#L-1861"><span class="linenos">1861</span></a><span class="k">class</span> <span class="nc">RootLogger</span><span class="p">(</span><span class="n">Logger</span><span class="p">):</span>
</span><span id="L-1862"><a href="#L-1862"><span class="linenos">1862</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1863"><a href="#L-1863"><span class="linenos">1863</span></a><span class="sd">    A root logger is not that different to any other logger, except that</span>
</span><span id="L-1864"><a href="#L-1864"><span class="linenos">1864</span></a><span class="sd">    it must have a logging level and there is only one instance of it in</span>
</span><span id="L-1865"><a href="#L-1865"><span class="linenos">1865</span></a><span class="sd">    the hierarchy.</span>
</span><span id="L-1866"><a href="#L-1866"><span class="linenos">1866</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1867"><a href="#L-1867"><span class="linenos">1867</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="L-1868"><a href="#L-1868"><span class="linenos">1868</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1869"><a href="#L-1869"><span class="linenos">1869</span></a><span class="sd">        Initialize the logger with the name &quot;root&quot;.</span>
</span><span id="L-1870"><a href="#L-1870"><span class="linenos">1870</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1871"><a href="#L-1871"><span class="linenos">1871</span></a>        <span class="n">Logger</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="L-1872"><a href="#L-1872"><span class="linenos">1872</span></a>
</span><span id="L-1873"><a href="#L-1873"><span class="linenos">1873</span></a>    <span class="k">def</span> <span class="nf">__reduce__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1874"><a href="#L-1874"><span class="linenos">1874</span></a>        <span class="k">return</span> <span class="n">getLogger</span><span class="p">,</span> <span class="p">()</span>
</span><span id="L-1875"><a href="#L-1875"><span class="linenos">1875</span></a>
</span><span id="L-1876"><a href="#L-1876"><span class="linenos">1876</span></a><span class="n">_loggerClass</span> <span class="o">=</span> <span class="n">Logger</span>
</span><span id="L-1877"><a href="#L-1877"><span class="linenos">1877</span></a>
</span><span id="L-1878"><a href="#L-1878"><span class="linenos">1878</span></a><span class="k">class</span> <span class="nc">LoggerAdapter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-1879"><a href="#L-1879"><span class="linenos">1879</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1880"><a href="#L-1880"><span class="linenos">1880</span></a><span class="sd">    An adapter for loggers which makes it easier to specify contextual</span>
</span><span id="L-1881"><a href="#L-1881"><span class="linenos">1881</span></a><span class="sd">    information in logging output.</span>
</span><span id="L-1882"><a href="#L-1882"><span class="linenos">1882</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1883"><a href="#L-1883"><span class="linenos">1883</span></a>
</span><span id="L-1884"><a href="#L-1884"><span class="linenos">1884</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logger</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1885"><a href="#L-1885"><span class="linenos">1885</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1886"><a href="#L-1886"><span class="linenos">1886</span></a><span class="sd">        Initialize the adapter with a logger and a dict-like object which</span>
</span><span id="L-1887"><a href="#L-1887"><span class="linenos">1887</span></a><span class="sd">        provides contextual information. This constructor signature allows</span>
</span><span id="L-1888"><a href="#L-1888"><span class="linenos">1888</span></a><span class="sd">        easy stacking of LoggerAdapters, if so desired.</span>
</span><span id="L-1889"><a href="#L-1889"><span class="linenos">1889</span></a>
</span><span id="L-1890"><a href="#L-1890"><span class="linenos">1890</span></a><span class="sd">        You can effectively pass keyword arguments as shown in the</span>
</span><span id="L-1891"><a href="#L-1891"><span class="linenos">1891</span></a><span class="sd">        following example:</span>
</span><span id="L-1892"><a href="#L-1892"><span class="linenos">1892</span></a>
</span><span id="L-1893"><a href="#L-1893"><span class="linenos">1893</span></a><span class="sd">        adapter = LoggerAdapter(someLogger, dict(p1=v1, p2=&quot;v2&quot;))</span>
</span><span id="L-1894"><a href="#L-1894"><span class="linenos">1894</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1895"><a href="#L-1895"><span class="linenos">1895</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logger</span>
</span><span id="L-1896"><a href="#L-1896"><span class="linenos">1896</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">extra</span>
</span><span id="L-1897"><a href="#L-1897"><span class="linenos">1897</span></a>
</span><span id="L-1898"><a href="#L-1898"><span class="linenos">1898</span></a>    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1899"><a href="#L-1899"><span class="linenos">1899</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1900"><a href="#L-1900"><span class="linenos">1900</span></a><span class="sd">        Process the logging message and keyword arguments passed in to</span>
</span><span id="L-1901"><a href="#L-1901"><span class="linenos">1901</span></a><span class="sd">        a logging call to insert contextual information. You can either</span>
</span><span id="L-1902"><a href="#L-1902"><span class="linenos">1902</span></a><span class="sd">        manipulate the message itself, the keyword args or both. Return</span>
</span><span id="L-1903"><a href="#L-1903"><span class="linenos">1903</span></a><span class="sd">        the message and kwargs modified (or not) to suit your needs.</span>
</span><span id="L-1904"><a href="#L-1904"><span class="linenos">1904</span></a>
</span><span id="L-1905"><a href="#L-1905"><span class="linenos">1905</span></a><span class="sd">        Normally, you&#39;ll only need to override this one method in a</span>
</span><span id="L-1906"><a href="#L-1906"><span class="linenos">1906</span></a><span class="sd">        LoggerAdapter subclass for your specific needs.</span>
</span><span id="L-1907"><a href="#L-1907"><span class="linenos">1907</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1908"><a href="#L-1908"><span class="linenos">1908</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;extra&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span>
</span><span id="L-1909"><a href="#L-1909"><span class="linenos">1909</span></a>        <span class="k">return</span> <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span>
</span><span id="L-1910"><a href="#L-1910"><span class="linenos">1910</span></a>
</span><span id="L-1911"><a href="#L-1911"><span class="linenos">1911</span></a>    <span class="c1">#</span>
</span><span id="L-1912"><a href="#L-1912"><span class="linenos">1912</span></a>    <span class="c1"># Boilerplate convenience methods</span>
</span><span id="L-1913"><a href="#L-1913"><span class="linenos">1913</span></a>    <span class="c1">#</span>
</span><span id="L-1914"><a href="#L-1914"><span class="linenos">1914</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1915"><a href="#L-1915"><span class="linenos">1915</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1916"><a href="#L-1916"><span class="linenos">1916</span></a><span class="sd">        Delegate a debug call to the underlying logger.</span>
</span><span id="L-1917"><a href="#L-1917"><span class="linenos">1917</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1918"><a href="#L-1918"><span class="linenos">1918</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1919"><a href="#L-1919"><span class="linenos">1919</span></a>
</span><span id="L-1920"><a href="#L-1920"><span class="linenos">1920</span></a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1921"><a href="#L-1921"><span class="linenos">1921</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1922"><a href="#L-1922"><span class="linenos">1922</span></a><span class="sd">        Delegate an info call to the underlying logger.</span>
</span><span id="L-1923"><a href="#L-1923"><span class="linenos">1923</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1924"><a href="#L-1924"><span class="linenos">1924</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1925"><a href="#L-1925"><span class="linenos">1925</span></a>
</span><span id="L-1926"><a href="#L-1926"><span class="linenos">1926</span></a>    <span class="k">def</span> <span class="nf">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1927"><a href="#L-1927"><span class="linenos">1927</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1928"><a href="#L-1928"><span class="linenos">1928</span></a><span class="sd">        Delegate a warning call to the underlying logger.</span>
</span><span id="L-1929"><a href="#L-1929"><span class="linenos">1929</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1930"><a href="#L-1930"><span class="linenos">1930</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1931"><a href="#L-1931"><span class="linenos">1931</span></a>
</span><span id="L-1932"><a href="#L-1932"><span class="linenos">1932</span></a>    <span class="k">def</span> <span class="nf">warn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1933"><a href="#L-1933"><span class="linenos">1933</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The &#39;warn&#39; method is deprecated, &quot;</span>
</span><span id="L-1934"><a href="#L-1934"><span class="linenos">1934</span></a>            <span class="s2">&quot;use &#39;warning&#39; instead&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-1935"><a href="#L-1935"><span class="linenos">1935</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1936"><a href="#L-1936"><span class="linenos">1936</span></a>
</span><span id="L-1937"><a href="#L-1937"><span class="linenos">1937</span></a>    <span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1938"><a href="#L-1938"><span class="linenos">1938</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1939"><a href="#L-1939"><span class="linenos">1939</span></a><span class="sd">        Delegate an error call to the underlying logger.</span>
</span><span id="L-1940"><a href="#L-1940"><span class="linenos">1940</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1941"><a href="#L-1941"><span class="linenos">1941</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1942"><a href="#L-1942"><span class="linenos">1942</span></a>
</span><span id="L-1943"><a href="#L-1943"><span class="linenos">1943</span></a>    <span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1944"><a href="#L-1944"><span class="linenos">1944</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1945"><a href="#L-1945"><span class="linenos">1945</span></a><span class="sd">        Delegate an exception call to the underlying logger.</span>
</span><span id="L-1946"><a href="#L-1946"><span class="linenos">1946</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1947"><a href="#L-1947"><span class="linenos">1947</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">exc_info</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1948"><a href="#L-1948"><span class="linenos">1948</span></a>
</span><span id="L-1949"><a href="#L-1949"><span class="linenos">1949</span></a>    <span class="k">def</span> <span class="nf">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1950"><a href="#L-1950"><span class="linenos">1950</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1951"><a href="#L-1951"><span class="linenos">1951</span></a><span class="sd">        Delegate a critical call to the underlying logger.</span>
</span><span id="L-1952"><a href="#L-1952"><span class="linenos">1952</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1953"><a href="#L-1953"><span class="linenos">1953</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1954"><a href="#L-1954"><span class="linenos">1954</span></a>
</span><span id="L-1955"><a href="#L-1955"><span class="linenos">1955</span></a>    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1956"><a href="#L-1956"><span class="linenos">1956</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1957"><a href="#L-1957"><span class="linenos">1957</span></a><span class="sd">        Delegate a log call to the underlying logger, after adding</span>
</span><span id="L-1958"><a href="#L-1958"><span class="linenos">1958</span></a><span class="sd">        contextual information from this adapter instance.</span>
</span><span id="L-1959"><a href="#L-1959"><span class="linenos">1959</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1960"><a href="#L-1960"><span class="linenos">1960</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="L-1961"><a href="#L-1961"><span class="linenos">1961</span></a>            <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1962"><a href="#L-1962"><span class="linenos">1962</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1963"><a href="#L-1963"><span class="linenos">1963</span></a>
</span><span id="L-1964"><a href="#L-1964"><span class="linenos">1964</span></a>    <span class="k">def</span> <span class="nf">isEnabledFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="L-1965"><a href="#L-1965"><span class="linenos">1965</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1966"><a href="#L-1966"><span class="linenos">1966</span></a><span class="sd">        Is this logger enabled for level &#39;level&#39;?</span>
</span><span id="L-1967"><a href="#L-1967"><span class="linenos">1967</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1968"><a href="#L-1968"><span class="linenos">1968</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-1969"><a href="#L-1969"><span class="linenos">1969</span></a>
</span><span id="L-1970"><a href="#L-1970"><span class="linenos">1970</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="L-1971"><a href="#L-1971"><span class="linenos">1971</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1972"><a href="#L-1972"><span class="linenos">1972</span></a><span class="sd">        Set the specified level on the underlying logger.</span>
</span><span id="L-1973"><a href="#L-1973"><span class="linenos">1973</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1974"><a href="#L-1974"><span class="linenos">1974</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-1975"><a href="#L-1975"><span class="linenos">1975</span></a>
</span><span id="L-1976"><a href="#L-1976"><span class="linenos">1976</span></a>    <span class="k">def</span> <span class="nf">getEffectiveLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1977"><a href="#L-1977"><span class="linenos">1977</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1978"><a href="#L-1978"><span class="linenos">1978</span></a><span class="sd">        Get the effective level for the underlying logger.</span>
</span><span id="L-1979"><a href="#L-1979"><span class="linenos">1979</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1980"><a href="#L-1980"><span class="linenos">1980</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">()</span>
</span><span id="L-1981"><a href="#L-1981"><span class="linenos">1981</span></a>
</span><span id="L-1982"><a href="#L-1982"><span class="linenos">1982</span></a>    <span class="k">def</span> <span class="nf">hasHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1983"><a href="#L-1983"><span class="linenos">1983</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1984"><a href="#L-1984"><span class="linenos">1984</span></a><span class="sd">        See if the underlying logger has any handlers.</span>
</span><span id="L-1985"><a href="#L-1985"><span class="linenos">1985</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1986"><a href="#L-1986"><span class="linenos">1986</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">hasHandlers</span><span class="p">()</span>
</span><span id="L-1987"><a href="#L-1987"><span class="linenos">1987</span></a>
</span><span id="L-1988"><a href="#L-1988"><span class="linenos">1988</span></a>    <span class="k">def</span> <span class="nf">_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1989"><a href="#L-1989"><span class="linenos">1989</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1990"><a href="#L-1990"><span class="linenos">1990</span></a><span class="sd">        Low-level log implementation, proxied to allow nested logger adapters.</span>
</span><span id="L-1991"><a href="#L-1991"><span class="linenos">1991</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1992"><a href="#L-1992"><span class="linenos">1992</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1993"><a href="#L-1993"><span class="linenos">1993</span></a>
</span><span id="L-1994"><a href="#L-1994"><span class="linenos">1994</span></a>    <span class="nd">@property</span>
</span><span id="L-1995"><a href="#L-1995"><span class="linenos">1995</span></a>    <span class="k">def</span> <span class="nf">manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1996"><a href="#L-1996"><span class="linenos">1996</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">manager</span>
</span><span id="L-1997"><a href="#L-1997"><span class="linenos">1997</span></a>
</span><span id="L-1998"><a href="#L-1998"><span class="linenos">1998</span></a>    <span class="nd">@manager</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-1999"><a href="#L-1999"><span class="linenos">1999</span></a>    <span class="k">def</span> <span class="nf">manager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-2000"><a href="#L-2000"><span class="linenos">2000</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">manager</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-2001"><a href="#L-2001"><span class="linenos">2001</span></a>
</span><span id="L-2002"><a href="#L-2002"><span class="linenos">2002</span></a>    <span class="nd">@property</span>
</span><span id="L-2003"><a href="#L-2003"><span class="linenos">2003</span></a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2004"><a href="#L-2004"><span class="linenos">2004</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">name</span>
</span><span id="L-2005"><a href="#L-2005"><span class="linenos">2005</span></a>
</span><span id="L-2006"><a href="#L-2006"><span class="linenos">2006</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2007"><a href="#L-2007"><span class="linenos">2007</span></a>        <span class="n">logger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span>
</span><span id="L-2008"><a href="#L-2008"><span class="linenos">2008</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="n">logger</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">())</span>
</span><span id="L-2009"><a href="#L-2009"><span class="linenos">2009</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">logger</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="L-2010"><a href="#L-2010"><span class="linenos">2010</span></a>
</span><span id="L-2011"><a href="#L-2011"><span class="linenos">2011</span></a>    <span class="n">__class_getitem__</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">GenericAlias</span><span class="p">)</span>
</span><span id="L-2012"><a href="#L-2012"><span class="linenos">2012</span></a>
</span><span id="L-2013"><a href="#L-2013"><span class="linenos">2013</span></a><span class="n">root</span> <span class="o">=</span> <span class="n">RootLogger</span><span class="p">(</span><span class="n">WARNING</span><span class="p">)</span>
</span><span id="L-2014"><a href="#L-2014"><span class="linenos">2014</span></a><span class="n">Logger</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>
</span><span id="L-2015"><a href="#L-2015"><span class="linenos">2015</span></a><span class="n">Logger</span><span class="o">.</span><span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">Logger</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
</span><span id="L-2016"><a href="#L-2016"><span class="linenos">2016</span></a>
</span><span id="L-2017"><a href="#L-2017"><span class="linenos">2017</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-2018"><a href="#L-2018"><span class="linenos">2018</span></a><span class="c1"># Configuration classes and functions</span>
</span><span id="L-2019"><a href="#L-2019"><span class="linenos">2019</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-2020"><a href="#L-2020"><span class="linenos">2020</span></a>
</span><span id="L-2021"><a href="#L-2021"><span class="linenos">2021</span></a><span class="k">def</span> <span class="nf">basicConfig</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2022"><a href="#L-2022"><span class="linenos">2022</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2023"><a href="#L-2023"><span class="linenos">2023</span></a><span class="sd">    Do basic configuration for the logging system.</span>
</span><span id="L-2024"><a href="#L-2024"><span class="linenos">2024</span></a>
</span><span id="L-2025"><a href="#L-2025"><span class="linenos">2025</span></a><span class="sd">    This function does nothing if the root logger already has handlers</span>
</span><span id="L-2026"><a href="#L-2026"><span class="linenos">2026</span></a><span class="sd">    configured, unless the keyword argument *force* is set to ``True``.</span>
</span><span id="L-2027"><a href="#L-2027"><span class="linenos">2027</span></a><span class="sd">    It is a convenience method intended for use by simple scripts</span>
</span><span id="L-2028"><a href="#L-2028"><span class="linenos">2028</span></a><span class="sd">    to do one-shot configuration of the logging package.</span>
</span><span id="L-2029"><a href="#L-2029"><span class="linenos">2029</span></a>
</span><span id="L-2030"><a href="#L-2030"><span class="linenos">2030</span></a><span class="sd">    The default behaviour is to create a StreamHandler which writes to</span>
</span><span id="L-2031"><a href="#L-2031"><span class="linenos">2031</span></a><span class="sd">    sys.stderr, set a formatter using the BASIC_FORMAT format string, and</span>
</span><span id="L-2032"><a href="#L-2032"><span class="linenos">2032</span></a><span class="sd">    add the handler to the root logger.</span>
</span><span id="L-2033"><a href="#L-2033"><span class="linenos">2033</span></a>
</span><span id="L-2034"><a href="#L-2034"><span class="linenos">2034</span></a><span class="sd">    A number of optional keyword arguments may be specified, which can alter</span>
</span><span id="L-2035"><a href="#L-2035"><span class="linenos">2035</span></a><span class="sd">    the default behaviour.</span>
</span><span id="L-2036"><a href="#L-2036"><span class="linenos">2036</span></a>
</span><span id="L-2037"><a href="#L-2037"><span class="linenos">2037</span></a><span class="sd">    filename  Specifies that a FileHandler be created, using the specified</span>
</span><span id="L-2038"><a href="#L-2038"><span class="linenos">2038</span></a><span class="sd">              filename, rather than a StreamHandler.</span>
</span><span id="L-2039"><a href="#L-2039"><span class="linenos">2039</span></a><span class="sd">    filemode  Specifies the mode to open the file, if filename is specified</span>
</span><span id="L-2040"><a href="#L-2040"><span class="linenos">2040</span></a><span class="sd">              (if filemode is unspecified, it defaults to &#39;a&#39;).</span>
</span><span id="L-2041"><a href="#L-2041"><span class="linenos">2041</span></a><span class="sd">    format    Use the specified format string for the handler.</span>
</span><span id="L-2042"><a href="#L-2042"><span class="linenos">2042</span></a><span class="sd">    datefmt   Use the specified date/time format.</span>
</span><span id="L-2043"><a href="#L-2043"><span class="linenos">2043</span></a><span class="sd">    style     If a format string is specified, use this to specify the</span>
</span><span id="L-2044"><a href="#L-2044"><span class="linenos">2044</span></a><span class="sd">              type of format string (possible values &#39;%&#39;, &#39;{&#39;, &#39;$&#39;, for</span>
</span><span id="L-2045"><a href="#L-2045"><span class="linenos">2045</span></a><span class="sd">              %-formatting, :meth:`str.format` and :class:`string.Template`</span>
</span><span id="L-2046"><a href="#L-2046"><span class="linenos">2046</span></a><span class="sd">              - defaults to &#39;%&#39;).</span>
</span><span id="L-2047"><a href="#L-2047"><span class="linenos">2047</span></a><span class="sd">    level     Set the root logger level to the specified level.</span>
</span><span id="L-2048"><a href="#L-2048"><span class="linenos">2048</span></a><span class="sd">    stream    Use the specified stream to initialize the StreamHandler. Note</span>
</span><span id="L-2049"><a href="#L-2049"><span class="linenos">2049</span></a><span class="sd">              that this argument is incompatible with &#39;filename&#39; - if both</span>
</span><span id="L-2050"><a href="#L-2050"><span class="linenos">2050</span></a><span class="sd">              are present, &#39;stream&#39; is ignored.</span>
</span><span id="L-2051"><a href="#L-2051"><span class="linenos">2051</span></a><span class="sd">    handlers  If specified, this should be an iterable of already created</span>
</span><span id="L-2052"><a href="#L-2052"><span class="linenos">2052</span></a><span class="sd">              handlers, which will be added to the root logger. Any handler</span>
</span><span id="L-2053"><a href="#L-2053"><span class="linenos">2053</span></a><span class="sd">              in the list which does not have a formatter assigned will be</span>
</span><span id="L-2054"><a href="#L-2054"><span class="linenos">2054</span></a><span class="sd">              assigned the formatter created in this function.</span>
</span><span id="L-2055"><a href="#L-2055"><span class="linenos">2055</span></a><span class="sd">    force     If this keyword  is specified as true, any existing handlers</span>
</span><span id="L-2056"><a href="#L-2056"><span class="linenos">2056</span></a><span class="sd">              attached to the root logger are removed and closed, before</span>
</span><span id="L-2057"><a href="#L-2057"><span class="linenos">2057</span></a><span class="sd">              carrying out the configuration as specified by the other</span>
</span><span id="L-2058"><a href="#L-2058"><span class="linenos">2058</span></a><span class="sd">              arguments.</span>
</span><span id="L-2059"><a href="#L-2059"><span class="linenos">2059</span></a><span class="sd">    encoding  If specified together with a filename, this encoding is passed to</span>
</span><span id="L-2060"><a href="#L-2060"><span class="linenos">2060</span></a><span class="sd">              the created FileHandler, causing it to be used when the file is</span>
</span><span id="L-2061"><a href="#L-2061"><span class="linenos">2061</span></a><span class="sd">              opened.</span>
</span><span id="L-2062"><a href="#L-2062"><span class="linenos">2062</span></a><span class="sd">    errors    If specified together with a filename, this value is passed to the</span>
</span><span id="L-2063"><a href="#L-2063"><span class="linenos">2063</span></a><span class="sd">              created FileHandler, causing it to be used when the file is</span>
</span><span id="L-2064"><a href="#L-2064"><span class="linenos">2064</span></a><span class="sd">              opened in text mode. If not specified, the default value is</span>
</span><span id="L-2065"><a href="#L-2065"><span class="linenos">2065</span></a><span class="sd">              `backslashreplace`.</span>
</span><span id="L-2066"><a href="#L-2066"><span class="linenos">2066</span></a>
</span><span id="L-2067"><a href="#L-2067"><span class="linenos">2067</span></a><span class="sd">    Note that you could specify a stream created using open(filename, mode)</span>
</span><span id="L-2068"><a href="#L-2068"><span class="linenos">2068</span></a><span class="sd">    rather than passing the filename and mode in. However, it should be</span>
</span><span id="L-2069"><a href="#L-2069"><span class="linenos">2069</span></a><span class="sd">    remembered that StreamHandler does not close its stream (since it may be</span>
</span><span id="L-2070"><a href="#L-2070"><span class="linenos">2070</span></a><span class="sd">    using sys.stdout or sys.stderr), whereas FileHandler closes its stream</span>
</span><span id="L-2071"><a href="#L-2071"><span class="linenos">2071</span></a><span class="sd">    when the handler is closed.</span>
</span><span id="L-2072"><a href="#L-2072"><span class="linenos">2072</span></a>
</span><span id="L-2073"><a href="#L-2073"><span class="linenos">2073</span></a><span class="sd">    .. versionchanged:: 3.2</span>
</span><span id="L-2074"><a href="#L-2074"><span class="linenos">2074</span></a><span class="sd">       Added the ``style`` parameter.</span>
</span><span id="L-2075"><a href="#L-2075"><span class="linenos">2075</span></a>
</span><span id="L-2076"><a href="#L-2076"><span class="linenos">2076</span></a><span class="sd">    .. versionchanged:: 3.3</span>
</span><span id="L-2077"><a href="#L-2077"><span class="linenos">2077</span></a><span class="sd">       Added the ``handlers`` parameter. A ``ValueError`` is now thrown for</span>
</span><span id="L-2078"><a href="#L-2078"><span class="linenos">2078</span></a><span class="sd">       incompatible arguments (e.g. ``handlers`` specified together with</span>
</span><span id="L-2079"><a href="#L-2079"><span class="linenos">2079</span></a><span class="sd">       ``filename``/``filemode``, or ``filename``/``filemode`` specified</span>
</span><span id="L-2080"><a href="#L-2080"><span class="linenos">2080</span></a><span class="sd">       together with ``stream``, or ``handlers`` specified together with</span>
</span><span id="L-2081"><a href="#L-2081"><span class="linenos">2081</span></a><span class="sd">       ``stream``.</span>
</span><span id="L-2082"><a href="#L-2082"><span class="linenos">2082</span></a>
</span><span id="L-2083"><a href="#L-2083"><span class="linenos">2083</span></a><span class="sd">    .. versionchanged:: 3.8</span>
</span><span id="L-2084"><a href="#L-2084"><span class="linenos">2084</span></a><span class="sd">       Added the ``force`` parameter.</span>
</span><span id="L-2085"><a href="#L-2085"><span class="linenos">2085</span></a>
</span><span id="L-2086"><a href="#L-2086"><span class="linenos">2086</span></a><span class="sd">    .. versionchanged:: 3.9</span>
</span><span id="L-2087"><a href="#L-2087"><span class="linenos">2087</span></a><span class="sd">       Added the ``encoding`` and ``errors`` parameters.</span>
</span><span id="L-2088"><a href="#L-2088"><span class="linenos">2088</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2089"><a href="#L-2089"><span class="linenos">2089</span></a>    <span class="c1"># Add thread safety in case someone mistakenly calls</span>
</span><span id="L-2090"><a href="#L-2090"><span class="linenos">2090</span></a>    <span class="c1"># basicConfig() from multiple threads</span>
</span><span id="L-2091"><a href="#L-2091"><span class="linenos">2091</span></a>    <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="L-2092"><a href="#L-2092"><span class="linenos">2092</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-2093"><a href="#L-2093"><span class="linenos">2093</span></a>        <span class="n">force</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;force&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="L-2094"><a href="#L-2094"><span class="linenos">2094</span></a>        <span class="n">encoding</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;encoding&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-2095"><a href="#L-2095"><span class="linenos">2095</span></a>        <span class="n">errors</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;errors&#39;</span><span class="p">,</span> <span class="s1">&#39;backslashreplace&#39;</span><span class="p">)</span>
</span><span id="L-2096"><a href="#L-2096"><span class="linenos">2096</span></a>        <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
</span><span id="L-2097"><a href="#L-2097"><span class="linenos">2097</span></a>            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">[:]:</span>
</span><span id="L-2098"><a href="#L-2098"><span class="linenos">2098</span></a>                <span class="n">root</span><span class="o">.</span><span class="n">removeHandler</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
</span><span id="L-2099"><a href="#L-2099"><span class="linenos">2099</span></a>                <span class="n">h</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-2100"><a href="#L-2100"><span class="linenos">2100</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-2101"><a href="#L-2101"><span class="linenos">2101</span></a>            <span class="n">handlers</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;handlers&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-2102"><a href="#L-2102"><span class="linenos">2102</span></a>            <span class="k">if</span> <span class="n">handlers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2103"><a href="#L-2103"><span class="linenos">2103</span></a>                <span class="k">if</span> <span class="s2">&quot;stream&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="s2">&quot;filename&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="L-2104"><a href="#L-2104"><span class="linenos">2104</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;stream&#39; and &#39;filename&#39; should not be &quot;</span>
</span><span id="L-2105"><a href="#L-2105"><span class="linenos">2105</span></a>                                     <span class="s2">&quot;specified together&quot;</span><span class="p">)</span>
</span><span id="L-2106"><a href="#L-2106"><span class="linenos">2106</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-2107"><a href="#L-2107"><span class="linenos">2107</span></a>                <span class="k">if</span> <span class="s2">&quot;stream&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">or</span> <span class="s2">&quot;filename&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="L-2108"><a href="#L-2108"><span class="linenos">2108</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;stream&#39; or &#39;filename&#39; should not be &quot;</span>
</span><span id="L-2109"><a href="#L-2109"><span class="linenos">2109</span></a>                                     <span class="s2">&quot;specified together with &#39;handlers&#39;&quot;</span><span class="p">)</span>
</span><span id="L-2110"><a href="#L-2110"><span class="linenos">2110</span></a>            <span class="k">if</span> <span class="n">handlers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2111"><a href="#L-2111"><span class="linenos">2111</span></a>                <span class="n">filename</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-2112"><a href="#L-2112"><span class="linenos">2112</span></a>                <span class="n">mode</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;filemode&quot;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
</span><span id="L-2113"><a href="#L-2113"><span class="linenos">2113</span></a>                <span class="k">if</span> <span class="n">filename</span><span class="p">:</span>
</span><span id="L-2114"><a href="#L-2114"><span class="linenos">2114</span></a>                    <span class="k">if</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
</span><span id="L-2115"><a href="#L-2115"><span class="linenos">2115</span></a>                        <span class="n">errors</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-2116"><a href="#L-2116"><span class="linenos">2116</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-2117"><a href="#L-2117"><span class="linenos">2117</span></a>                        <span class="n">encoding</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">text_encoding</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</span><span id="L-2118"><a href="#L-2118"><span class="linenos">2118</span></a>                    <span class="n">h</span> <span class="o">=</span> <span class="n">FileHandler</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span>
</span><span id="L-2119"><a href="#L-2119"><span class="linenos">2119</span></a>                                    <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">)</span>
</span><span id="L-2120"><a href="#L-2120"><span class="linenos">2120</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-2121"><a href="#L-2121"><span class="linenos">2121</span></a>                    <span class="n">stream</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;stream&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-2122"><a href="#L-2122"><span class="linenos">2122</span></a>                    <span class="n">h</span> <span class="o">=</span> <span class="n">StreamHandler</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
</span><span id="L-2123"><a href="#L-2123"><span class="linenos">2123</span></a>                <span class="n">handlers</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span><span class="p">]</span>
</span><span id="L-2124"><a href="#L-2124"><span class="linenos">2124</span></a>            <span class="n">dfs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;datefmt&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-2125"><a href="#L-2125"><span class="linenos">2125</span></a>            <span class="n">style</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s1">&#39;%&#39;</span><span class="p">)</span>
</span><span id="L-2126"><a href="#L-2126"><span class="linenos">2126</span></a>            <span class="k">if</span> <span class="n">style</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_STYLES</span><span class="p">:</span>
</span><span id="L-2127"><a href="#L-2127"><span class="linenos">2127</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Style must be one of: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="L-2128"><a href="#L-2128"><span class="linenos">2128</span></a>                                 <span class="n">_STYLES</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="L-2129"><a href="#L-2129"><span class="linenos">2129</span></a>            <span class="n">fs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;format&quot;</span><span class="p">,</span> <span class="n">_STYLES</span><span class="p">[</span><span class="n">style</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-2130"><a href="#L-2130"><span class="linenos">2130</span></a>            <span class="n">fmt</span> <span class="o">=</span> <span class="n">Formatter</span><span class="p">(</span><span class="n">fs</span><span class="p">,</span> <span class="n">dfs</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</span><span id="L-2131"><a href="#L-2131"><span class="linenos">2131</span></a>            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">handlers</span><span class="p">:</span>
</span><span id="L-2132"><a href="#L-2132"><span class="linenos">2132</span></a>                <span class="k">if</span> <span class="n">h</span><span class="o">.</span><span class="n">formatter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2133"><a href="#L-2133"><span class="linenos">2133</span></a>                    <span class="n">h</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">fmt</span><span class="p">)</span>
</span><span id="L-2134"><a href="#L-2134"><span class="linenos">2134</span></a>                <span class="n">root</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
</span><span id="L-2135"><a href="#L-2135"><span class="linenos">2135</span></a>            <span class="n">level</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;level&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-2136"><a href="#L-2136"><span class="linenos">2136</span></a>            <span class="k">if</span> <span class="n">level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2137"><a href="#L-2137"><span class="linenos">2137</span></a>                <span class="n">root</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="L-2138"><a href="#L-2138"><span class="linenos">2138</span></a>            <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="L-2139"><a href="#L-2139"><span class="linenos">2139</span></a>                <span class="n">keys</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="L-2140"><a href="#L-2140"><span class="linenos">2140</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unrecognised argument(s): </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">keys</span><span class="p">)</span>
</span><span id="L-2141"><a href="#L-2141"><span class="linenos">2141</span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="L-2142"><a href="#L-2142"><span class="linenos">2142</span></a>        <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="L-2143"><a href="#L-2143"><span class="linenos">2143</span></a>
</span><span id="L-2144"><a href="#L-2144"><span class="linenos">2144</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-2145"><a href="#L-2145"><span class="linenos">2145</span></a><span class="c1"># Utility functions at module level.</span>
</span><span id="L-2146"><a href="#L-2146"><span class="linenos">2146</span></a><span class="c1"># Basically delegate everything to the root logger.</span>
</span><span id="L-2147"><a href="#L-2147"><span class="linenos">2147</span></a><span class="c1">#---------------------------------------------------------------------------</span>
</span><span id="L-2148"><a href="#L-2148"><span class="linenos">2148</span></a>
</span><span id="L-2149"><a href="#L-2149"><span class="linenos">2149</span></a><span class="k">def</span> <span class="nf">getLogger</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-2150"><a href="#L-2150"><span class="linenos">2150</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2151"><a href="#L-2151"><span class="linenos">2151</span></a><span class="sd">    Return a logger with the specified name, creating it if necessary.</span>
</span><span id="L-2152"><a href="#L-2152"><span class="linenos">2152</span></a>
</span><span id="L-2153"><a href="#L-2153"><span class="linenos">2153</span></a><span class="sd">    If no name is specified, return the root logger.</span>
</span><span id="L-2154"><a href="#L-2154"><span class="linenos">2154</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2155"><a href="#L-2155"><span class="linenos">2155</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">name</span> <span class="o">==</span> <span class="n">root</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
</span><span id="L-2156"><a href="#L-2156"><span class="linenos">2156</span></a>        <span class="k">return</span> <span class="n">root</span>
</span><span id="L-2157"><a href="#L-2157"><span class="linenos">2157</span></a>    <span class="k">return</span> <span class="n">Logger</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-2158"><a href="#L-2158"><span class="linenos">2158</span></a>
</span><span id="L-2159"><a href="#L-2159"><span class="linenos">2159</span></a><span class="k">def</span> <span class="nf">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2160"><a href="#L-2160"><span class="linenos">2160</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2161"><a href="#L-2161"><span class="linenos">2161</span></a><span class="sd">    Log a message with severity &#39;CRITICAL&#39; on the root logger. If the logger</span>
</span><span id="L-2162"><a href="#L-2162"><span class="linenos">2162</span></a><span class="sd">    has no handlers, call basicConfig() to add a console handler with a</span>
</span><span id="L-2163"><a href="#L-2163"><span class="linenos">2163</span></a><span class="sd">    pre-defined format.</span>
</span><span id="L-2164"><a href="#L-2164"><span class="linenos">2164</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2165"><a href="#L-2165"><span class="linenos">2165</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-2166"><a href="#L-2166"><span class="linenos">2166</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="L-2167"><a href="#L-2167"><span class="linenos">2167</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2168"><a href="#L-2168"><span class="linenos">2168</span></a>
</span><span id="L-2169"><a href="#L-2169"><span class="linenos">2169</span></a><span class="k">def</span> <span class="nf">fatal</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2170"><a href="#L-2170"><span class="linenos">2170</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2171"><a href="#L-2171"><span class="linenos">2171</span></a><span class="sd">    Don&#39;t use this function, use critical() instead.</span>
</span><span id="L-2172"><a href="#L-2172"><span class="linenos">2172</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2173"><a href="#L-2173"><span class="linenos">2173</span></a>    <span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2174"><a href="#L-2174"><span class="linenos">2174</span></a>
</span><span id="L-2175"><a href="#L-2175"><span class="linenos">2175</span></a><span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2176"><a href="#L-2176"><span class="linenos">2176</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2177"><a href="#L-2177"><span class="linenos">2177</span></a><span class="sd">    Log a message with severity &#39;ERROR&#39; on the root logger. If the logger has</span>
</span><span id="L-2178"><a href="#L-2178"><span class="linenos">2178</span></a><span class="sd">    no handlers, call basicConfig() to add a console handler with a pre-defined</span>
</span><span id="L-2179"><a href="#L-2179"><span class="linenos">2179</span></a><span class="sd">    format.</span>
</span><span id="L-2180"><a href="#L-2180"><span class="linenos">2180</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2181"><a href="#L-2181"><span class="linenos">2181</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-2182"><a href="#L-2182"><span class="linenos">2182</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="L-2183"><a href="#L-2183"><span class="linenos">2183</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2184"><a href="#L-2184"><span class="linenos">2184</span></a>
</span><span id="L-2185"><a href="#L-2185"><span class="linenos">2185</span></a><span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2186"><a href="#L-2186"><span class="linenos">2186</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2187"><a href="#L-2187"><span class="linenos">2187</span></a><span class="sd">    Log a message with severity &#39;ERROR&#39; on the root logger, with exception</span>
</span><span id="L-2188"><a href="#L-2188"><span class="linenos">2188</span></a><span class="sd">    information. If the logger has no handlers, basicConfig() is called to add</span>
</span><span id="L-2189"><a href="#L-2189"><span class="linenos">2189</span></a><span class="sd">    a console handler with a pre-defined format.</span>
</span><span id="L-2190"><a href="#L-2190"><span class="linenos">2190</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2191"><a href="#L-2191"><span class="linenos">2191</span></a>    <span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">exc_info</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2192"><a href="#L-2192"><span class="linenos">2192</span></a>
</span><span id="L-2193"><a href="#L-2193"><span class="linenos">2193</span></a><span class="k">def</span> <span class="nf">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2194"><a href="#L-2194"><span class="linenos">2194</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2195"><a href="#L-2195"><span class="linenos">2195</span></a><span class="sd">    Log a message with severity &#39;WARNING&#39; on the root logger. If the logger has</span>
</span><span id="L-2196"><a href="#L-2196"><span class="linenos">2196</span></a><span class="sd">    no handlers, call basicConfig() to add a console handler with a pre-defined</span>
</span><span id="L-2197"><a href="#L-2197"><span class="linenos">2197</span></a><span class="sd">    format.</span>
</span><span id="L-2198"><a href="#L-2198"><span class="linenos">2198</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2199"><a href="#L-2199"><span class="linenos">2199</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-2200"><a href="#L-2200"><span class="linenos">2200</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="L-2201"><a href="#L-2201"><span class="linenos">2201</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2202"><a href="#L-2202"><span class="linenos">2202</span></a>
</span><span id="L-2203"><a href="#L-2203"><span class="linenos">2203</span></a><span class="k">def</span> <span class="nf">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2204"><a href="#L-2204"><span class="linenos">2204</span></a>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The &#39;warn&#39; function is deprecated, &quot;</span>
</span><span id="L-2205"><a href="#L-2205"><span class="linenos">2205</span></a>        <span class="s2">&quot;use &#39;warning&#39; instead&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-2206"><a href="#L-2206"><span class="linenos">2206</span></a>    <span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2207"><a href="#L-2207"><span class="linenos">2207</span></a>
</span><span id="L-2208"><a href="#L-2208"><span class="linenos">2208</span></a><span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2209"><a href="#L-2209"><span class="linenos">2209</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2210"><a href="#L-2210"><span class="linenos">2210</span></a><span class="sd">    Log a message with severity &#39;INFO&#39; on the root logger. If the logger has</span>
</span><span id="L-2211"><a href="#L-2211"><span class="linenos">2211</span></a><span class="sd">    no handlers, call basicConfig() to add a console handler with a pre-defined</span>
</span><span id="L-2212"><a href="#L-2212"><span class="linenos">2212</span></a><span class="sd">    format.</span>
</span><span id="L-2213"><a href="#L-2213"><span class="linenos">2213</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2214"><a href="#L-2214"><span class="linenos">2214</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-2215"><a href="#L-2215"><span class="linenos">2215</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="L-2216"><a href="#L-2216"><span class="linenos">2216</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2217"><a href="#L-2217"><span class="linenos">2217</span></a>
</span><span id="L-2218"><a href="#L-2218"><span class="linenos">2218</span></a><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2219"><a href="#L-2219"><span class="linenos">2219</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2220"><a href="#L-2220"><span class="linenos">2220</span></a><span class="sd">    Log a message with severity &#39;DEBUG&#39; on the root logger. If the logger has</span>
</span><span id="L-2221"><a href="#L-2221"><span class="linenos">2221</span></a><span class="sd">    no handlers, call basicConfig() to add a console handler with a pre-defined</span>
</span><span id="L-2222"><a href="#L-2222"><span class="linenos">2222</span></a><span class="sd">    format.</span>
</span><span id="L-2223"><a href="#L-2223"><span class="linenos">2223</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2224"><a href="#L-2224"><span class="linenos">2224</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-2225"><a href="#L-2225"><span class="linenos">2225</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="L-2226"><a href="#L-2226"><span class="linenos">2226</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2227"><a href="#L-2227"><span class="linenos">2227</span></a>
</span><span id="L-2228"><a href="#L-2228"><span class="linenos">2228</span></a><span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-2229"><a href="#L-2229"><span class="linenos">2229</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2230"><a href="#L-2230"><span class="linenos">2230</span></a><span class="sd">    Log &#39;msg % args&#39; with the integer severity &#39;level&#39; on the root logger. If</span>
</span><span id="L-2231"><a href="#L-2231"><span class="linenos">2231</span></a><span class="sd">    the logger has no handlers, call basicConfig() to add a console handler</span>
</span><span id="L-2232"><a href="#L-2232"><span class="linenos">2232</span></a><span class="sd">    with a pre-defined format.</span>
</span><span id="L-2233"><a href="#L-2233"><span class="linenos">2233</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2234"><a href="#L-2234"><span class="linenos">2234</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-2235"><a href="#L-2235"><span class="linenos">2235</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="L-2236"><a href="#L-2236"><span class="linenos">2236</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-2237"><a href="#L-2237"><span class="linenos">2237</span></a>
</span><span id="L-2238"><a href="#L-2238"><span class="linenos">2238</span></a><span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">CRITICAL</span><span class="p">):</span>
</span><span id="L-2239"><a href="#L-2239"><span class="linenos">2239</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2240"><a href="#L-2240"><span class="linenos">2240</span></a><span class="sd">    Disable all logging calls of severity &#39;level&#39; and below.</span>
</span><span id="L-2241"><a href="#L-2241"><span class="linenos">2241</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2242"><a href="#L-2242"><span class="linenos">2242</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">disable</span> <span class="o">=</span> <span class="n">level</span>
</span><span id="L-2243"><a href="#L-2243"><span class="linenos">2243</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">_clear_cache</span><span class="p">()</span>
</span><span id="L-2244"><a href="#L-2244"><span class="linenos">2244</span></a>
</span><span id="L-2245"><a href="#L-2245"><span class="linenos">2245</span></a><span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="n">handlerList</span><span class="o">=</span><span class="n">_handlerList</span><span class="p">):</span>
</span><span id="L-2246"><a href="#L-2246"><span class="linenos">2246</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2247"><a href="#L-2247"><span class="linenos">2247</span></a><span class="sd">    Perform any cleanup actions in the logging system (e.g. flushing</span>
</span><span id="L-2248"><a href="#L-2248"><span class="linenos">2248</span></a><span class="sd">    buffers).</span>
</span><span id="L-2249"><a href="#L-2249"><span class="linenos">2249</span></a>
</span><span id="L-2250"><a href="#L-2250"><span class="linenos">2250</span></a><span class="sd">    Should be called at application exit.</span>
</span><span id="L-2251"><a href="#L-2251"><span class="linenos">2251</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2252"><a href="#L-2252"><span class="linenos">2252</span></a>    <span class="k">for</span> <span class="n">wr</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">handlerList</span><span class="p">[:]):</span>
</span><span id="L-2253"><a href="#L-2253"><span class="linenos">2253</span></a>        <span class="c1">#errors might occur, for example, if files are locked</span>
</span><span id="L-2254"><a href="#L-2254"><span class="linenos">2254</span></a>        <span class="c1">#we just ignore them if raiseExceptions is not set</span>
</span><span id="L-2255"><a href="#L-2255"><span class="linenos">2255</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-2256"><a href="#L-2256"><span class="linenos">2256</span></a>            <span class="n">h</span> <span class="o">=</span> <span class="n">wr</span><span class="p">()</span>
</span><span id="L-2257"><a href="#L-2257"><span class="linenos">2257</span></a>            <span class="k">if</span> <span class="n">h</span><span class="p">:</span>
</span><span id="L-2258"><a href="#L-2258"><span class="linenos">2258</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-2259"><a href="#L-2259"><span class="linenos">2259</span></a>                    <span class="n">h</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="L-2260"><a href="#L-2260"><span class="linenos">2260</span></a>                    <span class="c1"># MemoryHandlers might not want to be flushed on close,</span>
</span><span id="L-2261"><a href="#L-2261"><span class="linenos">2261</span></a>                    <span class="c1"># but circular imports prevent us scoping this to just</span>
</span><span id="L-2262"><a href="#L-2262"><span class="linenos">2262</span></a>                    <span class="c1"># those handlers.  hence the default to True.</span>
</span><span id="L-2263"><a href="#L-2263"><span class="linenos">2263</span></a>                    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="s1">&#39;flushOnClose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="L-2264"><a href="#L-2264"><span class="linenos">2264</span></a>                        <span class="n">h</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="L-2265"><a href="#L-2265"><span class="linenos">2265</span></a>                    <span class="n">h</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-2266"><a href="#L-2266"><span class="linenos">2266</span></a>                <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
</span><span id="L-2267"><a href="#L-2267"><span class="linenos">2267</span></a>                    <span class="c1"># Ignore errors which might be caused</span>
</span><span id="L-2268"><a href="#L-2268"><span class="linenos">2268</span></a>                    <span class="c1"># because handlers have been closed but</span>
</span><span id="L-2269"><a href="#L-2269"><span class="linenos">2269</span></a>                    <span class="c1"># references to them are still around at</span>
</span><span id="L-2270"><a href="#L-2270"><span class="linenos">2270</span></a>                    <span class="c1"># application exit.</span>
</span><span id="L-2271"><a href="#L-2271"><span class="linenos">2271</span></a>                    <span class="k">pass</span>
</span><span id="L-2272"><a href="#L-2272"><span class="linenos">2272</span></a>                <span class="k">finally</span><span class="p">:</span>
</span><span id="L-2273"><a href="#L-2273"><span class="linenos">2273</span></a>                    <span class="n">h</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="L-2274"><a href="#L-2274"><span class="linenos">2274</span></a>        <span class="k">except</span><span class="p">:</span> <span class="c1"># ignore everything, as we&#39;re shutting down</span>
</span><span id="L-2275"><a href="#L-2275"><span class="linenos">2275</span></a>            <span class="k">if</span> <span class="n">raiseExceptions</span><span class="p">:</span>
</span><span id="L-2276"><a href="#L-2276"><span class="linenos">2276</span></a>                <span class="k">raise</span>
</span><span id="L-2277"><a href="#L-2277"><span class="linenos">2277</span></a>            <span class="c1">#else, swallow</span>
</span><span id="L-2278"><a href="#L-2278"><span class="linenos">2278</span></a>
</span><span id="L-2279"><a href="#L-2279"><span class="linenos">2279</span></a><span class="c1">#Let&#39;s try and shutdown automatically on application exit...</span>
</span><span id="L-2280"><a href="#L-2280"><span class="linenos">2280</span></a><span class="kn">import</span> <span class="nn">atexit</span>
</span><span id="L-2281"><a href="#L-2281"><span class="linenos">2281</span></a><span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">shutdown</span><span class="p">)</span>
</span><span id="L-2282"><a href="#L-2282"><span class="linenos">2282</span></a>
</span><span id="L-2283"><a href="#L-2283"><span class="linenos">2283</span></a><span class="c1"># Null handler</span>
</span><span id="L-2284"><a href="#L-2284"><span class="linenos">2284</span></a>
</span><span id="L-2285"><a href="#L-2285"><span class="linenos">2285</span></a><span class="k">class</span> <span class="nc">NullHandler</span><span class="p">(</span><span class="n">Handler</span><span class="p">):</span>
</span><span id="L-2286"><a href="#L-2286"><span class="linenos">2286</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2287"><a href="#L-2287"><span class="linenos">2287</span></a><span class="sd">    This handler does nothing. It&#39;s intended to be used to avoid the</span>
</span><span id="L-2288"><a href="#L-2288"><span class="linenos">2288</span></a><span class="sd">    &quot;No handlers could be found for logger XXX&quot; one-off warning. This is</span>
</span><span id="L-2289"><a href="#L-2289"><span class="linenos">2289</span></a><span class="sd">    important for library code, which may contain code to log events. If a user</span>
</span><span id="L-2290"><a href="#L-2290"><span class="linenos">2290</span></a><span class="sd">    of the library does not configure logging, the one-off warning might be</span>
</span><span id="L-2291"><a href="#L-2291"><span class="linenos">2291</span></a><span class="sd">    produced; to avoid this, the library developer simply needs to instantiate</span>
</span><span id="L-2292"><a href="#L-2292"><span class="linenos">2292</span></a><span class="sd">    a NullHandler and add it to the top-level logger of the library module or</span>
</span><span id="L-2293"><a href="#L-2293"><span class="linenos">2293</span></a><span class="sd">    package.</span>
</span><span id="L-2294"><a href="#L-2294"><span class="linenos">2294</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2295"><a href="#L-2295"><span class="linenos">2295</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-2296"><a href="#L-2296"><span class="linenos">2296</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Stub.&quot;&quot;&quot;</span>
</span><span id="L-2297"><a href="#L-2297"><span class="linenos">2297</span></a>
</span><span id="L-2298"><a href="#L-2298"><span class="linenos">2298</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="L-2299"><a href="#L-2299"><span class="linenos">2299</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Stub.&quot;&quot;&quot;</span>
</span><span id="L-2300"><a href="#L-2300"><span class="linenos">2300</span></a>
</span><span id="L-2301"><a href="#L-2301"><span class="linenos">2301</span></a>    <span class="k">def</span> <span class="nf">createLock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2302"><a href="#L-2302"><span class="linenos">2302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-2303"><a href="#L-2303"><span class="linenos">2303</span></a>
</span><span id="L-2304"><a href="#L-2304"><span class="linenos">2304</span></a>    <span class="k">def</span> <span class="nf">_at_fork_reinit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2305"><a href="#L-2305"><span class="linenos">2305</span></a>        <span class="k">pass</span>
</span><span id="L-2306"><a href="#L-2306"><span class="linenos">2306</span></a>
</span><span id="L-2307"><a href="#L-2307"><span class="linenos">2307</span></a><span class="c1"># Warnings integration</span>
</span><span id="L-2308"><a href="#L-2308"><span class="linenos">2308</span></a>
</span><span id="L-2309"><a href="#L-2309"><span class="linenos">2309</span></a><span class="n">_warnings_showwarning</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-2310"><a href="#L-2310"><span class="linenos">2310</span></a>
</span><span id="L-2311"><a href="#L-2311"><span class="linenos">2311</span></a><span class="k">def</span> <span class="nf">_showwarning</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-2312"><a href="#L-2312"><span class="linenos">2312</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2313"><a href="#L-2313"><span class="linenos">2313</span></a><span class="sd">    Implementation of showwarnings which redirects to logging, which will first</span>
</span><span id="L-2314"><a href="#L-2314"><span class="linenos">2314</span></a><span class="sd">    check to see if the file parameter is None. If a file is specified, it will</span>
</span><span id="L-2315"><a href="#L-2315"><span class="linenos">2315</span></a><span class="sd">    delegate to the original warnings implementation of showwarning. Otherwise,</span>
</span><span id="L-2316"><a href="#L-2316"><span class="linenos">2316</span></a><span class="sd">    it will call warnings.formatwarning and will log the resulting string to a</span>
</span><span id="L-2317"><a href="#L-2317"><span class="linenos">2317</span></a><span class="sd">    warnings logger named &quot;py.warnings&quot; with level logging.WARNING.</span>
</span><span id="L-2318"><a href="#L-2318"><span class="linenos">2318</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2319"><a href="#L-2319"><span class="linenos">2319</span></a>    <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2320"><a href="#L-2320"><span class="linenos">2320</span></a>        <span class="k">if</span> <span class="n">_warnings_showwarning</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2321"><a href="#L-2321"><span class="linenos">2321</span></a>            <span class="n">_warnings_showwarning</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
</span><span id="L-2322"><a href="#L-2322"><span class="linenos">2322</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-2323"><a href="#L-2323"><span class="linenos">2323</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="n">warnings</span><span class="o">.</span><span class="n">formatwarning</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
</span><span id="L-2324"><a href="#L-2324"><span class="linenos">2324</span></a>        <span class="n">logger</span> <span class="o">=</span> <span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;py.warnings&quot;</span><span class="p">)</span>
</span><span id="L-2325"><a href="#L-2325"><span class="linenos">2325</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">logger</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="L-2326"><a href="#L-2326"><span class="linenos">2326</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">NullHandler</span><span class="p">())</span>
</span><span id="L-2327"><a href="#L-2327"><span class="linenos">2327</span></a>        <span class="c1"># bpo-46557: Log str(s) as msg instead of logger.warning(&quot;%s&quot;, s)</span>
</span><span id="L-2328"><a href="#L-2328"><span class="linenos">2328</span></a>        <span class="c1"># since some log aggregation tools group logs by the msg arg</span>
</span><span id="L-2329"><a href="#L-2329"><span class="linenos">2329</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</span><span id="L-2330"><a href="#L-2330"><span class="linenos">2330</span></a>
</span><span id="L-2331"><a href="#L-2331"><span class="linenos">2331</span></a><span class="k">def</span> <span class="nf">captureWarnings</span><span class="p">(</span><span class="n">capture</span><span class="p">):</span>
</span><span id="L-2332"><a href="#L-2332"><span class="linenos">2332</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2333"><a href="#L-2333"><span class="linenos">2333</span></a><span class="sd">    If capture is true, redirect all warnings to the logging package.</span>
</span><span id="L-2334"><a href="#L-2334"><span class="linenos">2334</span></a><span class="sd">    If capture is False, ensure that warnings are not redirected to logging</span>
</span><span id="L-2335"><a href="#L-2335"><span class="linenos">2335</span></a><span class="sd">    but to their original destinations.</span>
</span><span id="L-2336"><a href="#L-2336"><span class="linenos">2336</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2337"><a href="#L-2337"><span class="linenos">2337</span></a>    <span class="k">global</span> <span class="n">_warnings_showwarning</span>
</span><span id="L-2338"><a href="#L-2338"><span class="linenos">2338</span></a>    <span class="k">if</span> <span class="n">capture</span><span class="p">:</span>
</span><span id="L-2339"><a href="#L-2339"><span class="linenos">2339</span></a>        <span class="k">if</span> <span class="n">_warnings_showwarning</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2340"><a href="#L-2340"><span class="linenos">2340</span></a>            <span class="n">_warnings_showwarning</span> <span class="o">=</span> <span class="n">warnings</span><span class="o">.</span><span class="n">showwarning</span>
</span><span id="L-2341"><a href="#L-2341"><span class="linenos">2341</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">showwarning</span> <span class="o">=</span> <span class="n">_showwarning</span>
</span><span id="L-2342"><a href="#L-2342"><span class="linenos">2342</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-2343"><a href="#L-2343"><span class="linenos">2343</span></a>        <span class="k">if</span> <span class="n">_warnings_showwarning</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2344"><a href="#L-2344"><span class="linenos">2344</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">showwarning</span> <span class="o">=</span> <span class="n">_warnings_showwarning</span>
</span><span id="L-2345"><a href="#L-2345"><span class="linenos">2345</span></a>            <span class="n">_warnings_showwarning</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            </section>
                <section id="BASIC_FORMAT">
                    <div class="attr variable">
            <span class="name">BASIC_FORMAT</span>        =
<span class="default_value">&#39;%(levelname)s:%(name)s:%(message)s&#39;</span>

        
    </div>
    <a class="headerlink" href="#BASIC_FORMAT"></a>
    
    

                </section>
                <section id="BufferingFormatter">
                            <input id="BufferingFormatter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">BufferingFormatter</span>:

                <label class="view-source-button" for="BufferingFormatter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BufferingFormatter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BufferingFormatter-728"><a href="#BufferingFormatter-728"><span class="linenos">728</span></a><span class="k">class</span> <span class="nc">BufferingFormatter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="BufferingFormatter-729"><a href="#BufferingFormatter-729"><span class="linenos">729</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-730"><a href="#BufferingFormatter-730"><span class="linenos">730</span></a><span class="sd">    A formatter suitable for formatting a number of records.</span>
</span><span id="BufferingFormatter-731"><a href="#BufferingFormatter-731"><span class="linenos">731</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-732"><a href="#BufferingFormatter-732"><span class="linenos">732</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="BufferingFormatter-733"><a href="#BufferingFormatter-733"><span class="linenos">733</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-734"><a href="#BufferingFormatter-734"><span class="linenos">734</span></a><span class="sd">        Optionally specify a formatter which will be used to format each</span>
</span><span id="BufferingFormatter-735"><a href="#BufferingFormatter-735"><span class="linenos">735</span></a><span class="sd">        individual record.</span>
</span><span id="BufferingFormatter-736"><a href="#BufferingFormatter-736"><span class="linenos">736</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-737"><a href="#BufferingFormatter-737"><span class="linenos">737</span></a>        <span class="k">if</span> <span class="n">linefmt</span><span class="p">:</span>
</span><span id="BufferingFormatter-738"><a href="#BufferingFormatter-738"><span class="linenos">738</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span> <span class="o">=</span> <span class="n">linefmt</span>
</span><span id="BufferingFormatter-739"><a href="#BufferingFormatter-739"><span class="linenos">739</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="BufferingFormatter-740"><a href="#BufferingFormatter-740"><span class="linenos">740</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span> <span class="o">=</span> <span class="n">_defaultFormatter</span>
</span><span id="BufferingFormatter-741"><a href="#BufferingFormatter-741"><span class="linenos">741</span></a>
</span><span id="BufferingFormatter-742"><a href="#BufferingFormatter-742"><span class="linenos">742</span></a>    <span class="k">def</span> <span class="nf">formatHeader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="BufferingFormatter-743"><a href="#BufferingFormatter-743"><span class="linenos">743</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-744"><a href="#BufferingFormatter-744"><span class="linenos">744</span></a><span class="sd">        Return the header string for the specified records.</span>
</span><span id="BufferingFormatter-745"><a href="#BufferingFormatter-745"><span class="linenos">745</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-746"><a href="#BufferingFormatter-746"><span class="linenos">746</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="BufferingFormatter-747"><a href="#BufferingFormatter-747"><span class="linenos">747</span></a>
</span><span id="BufferingFormatter-748"><a href="#BufferingFormatter-748"><span class="linenos">748</span></a>    <span class="k">def</span> <span class="nf">formatFooter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="BufferingFormatter-749"><a href="#BufferingFormatter-749"><span class="linenos">749</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-750"><a href="#BufferingFormatter-750"><span class="linenos">750</span></a><span class="sd">        Return the footer string for the specified records.</span>
</span><span id="BufferingFormatter-751"><a href="#BufferingFormatter-751"><span class="linenos">751</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-752"><a href="#BufferingFormatter-752"><span class="linenos">752</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="BufferingFormatter-753"><a href="#BufferingFormatter-753"><span class="linenos">753</span></a>
</span><span id="BufferingFormatter-754"><a href="#BufferingFormatter-754"><span class="linenos">754</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="BufferingFormatter-755"><a href="#BufferingFormatter-755"><span class="linenos">755</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-756"><a href="#BufferingFormatter-756"><span class="linenos">756</span></a><span class="sd">        Format the specified records and return the result as a string.</span>
</span><span id="BufferingFormatter-757"><a href="#BufferingFormatter-757"><span class="linenos">757</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter-758"><a href="#BufferingFormatter-758"><span class="linenos">758</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="BufferingFormatter-759"><a href="#BufferingFormatter-759"><span class="linenos">759</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">records</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="BufferingFormatter-760"><a href="#BufferingFormatter-760"><span class="linenos">760</span></a>            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatHeader</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>
</span><span id="BufferingFormatter-761"><a href="#BufferingFormatter-761"><span class="linenos">761</span></a>            <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
</span><span id="BufferingFormatter-762"><a href="#BufferingFormatter-762"><span class="linenos">762</span></a>                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="BufferingFormatter-763"><a href="#BufferingFormatter-763"><span class="linenos">763</span></a>            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatFooter</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>
</span><span id="BufferingFormatter-764"><a href="#BufferingFormatter-764"><span class="linenos">764</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span></pre></div>


            <div class="docstring"><p>A formatter suitable for formatting a number of records.</p>
</div>


                            <div id="BufferingFormatter.__init__" class="classattr">
                                        <input id="BufferingFormatter.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">BufferingFormatter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">linefmt</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="BufferingFormatter.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BufferingFormatter.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BufferingFormatter.__init__-732"><a href="#BufferingFormatter.__init__-732"><span class="linenos">732</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="BufferingFormatter.__init__-733"><a href="#BufferingFormatter.__init__-733"><span class="linenos">733</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter.__init__-734"><a href="#BufferingFormatter.__init__-734"><span class="linenos">734</span></a><span class="sd">        Optionally specify a formatter which will be used to format each</span>
</span><span id="BufferingFormatter.__init__-735"><a href="#BufferingFormatter.__init__-735"><span class="linenos">735</span></a><span class="sd">        individual record.</span>
</span><span id="BufferingFormatter.__init__-736"><a href="#BufferingFormatter.__init__-736"><span class="linenos">736</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter.__init__-737"><a href="#BufferingFormatter.__init__-737"><span class="linenos">737</span></a>        <span class="k">if</span> <span class="n">linefmt</span><span class="p">:</span>
</span><span id="BufferingFormatter.__init__-738"><a href="#BufferingFormatter.__init__-738"><span class="linenos">738</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span> <span class="o">=</span> <span class="n">linefmt</span>
</span><span id="BufferingFormatter.__init__-739"><a href="#BufferingFormatter.__init__-739"><span class="linenos">739</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="BufferingFormatter.__init__-740"><a href="#BufferingFormatter.__init__-740"><span class="linenos">740</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span> <span class="o">=</span> <span class="n">_defaultFormatter</span>
</span></pre></div>


            <div class="docstring"><p>Optionally specify a formatter which will be used to format each
individual record.</p>
</div>


                            </div>
                            <div id="BufferingFormatter.formatHeader" class="classattr">
                                        <input id="BufferingFormatter.formatHeader-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">formatHeader</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">records</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BufferingFormatter.formatHeader-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BufferingFormatter.formatHeader"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BufferingFormatter.formatHeader-742"><a href="#BufferingFormatter.formatHeader-742"><span class="linenos">742</span></a>    <span class="k">def</span> <span class="nf">formatHeader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="BufferingFormatter.formatHeader-743"><a href="#BufferingFormatter.formatHeader-743"><span class="linenos">743</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter.formatHeader-744"><a href="#BufferingFormatter.formatHeader-744"><span class="linenos">744</span></a><span class="sd">        Return the header string for the specified records.</span>
</span><span id="BufferingFormatter.formatHeader-745"><a href="#BufferingFormatter.formatHeader-745"><span class="linenos">745</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter.formatHeader-746"><a href="#BufferingFormatter.formatHeader-746"><span class="linenos">746</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Return the header string for the specified records.</p>
</div>


                            </div>
                            <div id="BufferingFormatter.formatFooter" class="classattr">
                                        <input id="BufferingFormatter.formatFooter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">formatFooter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">records</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BufferingFormatter.formatFooter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BufferingFormatter.formatFooter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BufferingFormatter.formatFooter-748"><a href="#BufferingFormatter.formatFooter-748"><span class="linenos">748</span></a>    <span class="k">def</span> <span class="nf">formatFooter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="BufferingFormatter.formatFooter-749"><a href="#BufferingFormatter.formatFooter-749"><span class="linenos">749</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter.formatFooter-750"><a href="#BufferingFormatter.formatFooter-750"><span class="linenos">750</span></a><span class="sd">        Return the footer string for the specified records.</span>
</span><span id="BufferingFormatter.formatFooter-751"><a href="#BufferingFormatter.formatFooter-751"><span class="linenos">751</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter.formatFooter-752"><a href="#BufferingFormatter.formatFooter-752"><span class="linenos">752</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Return the footer string for the specified records.</p>
</div>


                            </div>
                            <div id="BufferingFormatter.format" class="classattr">
                                        <input id="BufferingFormatter.format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">records</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BufferingFormatter.format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BufferingFormatter.format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BufferingFormatter.format-754"><a href="#BufferingFormatter.format-754"><span class="linenos">754</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
</span><span id="BufferingFormatter.format-755"><a href="#BufferingFormatter.format-755"><span class="linenos">755</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BufferingFormatter.format-756"><a href="#BufferingFormatter.format-756"><span class="linenos">756</span></a><span class="sd">        Format the specified records and return the result as a string.</span>
</span><span id="BufferingFormatter.format-757"><a href="#BufferingFormatter.format-757"><span class="linenos">757</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BufferingFormatter.format-758"><a href="#BufferingFormatter.format-758"><span class="linenos">758</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="BufferingFormatter.format-759"><a href="#BufferingFormatter.format-759"><span class="linenos">759</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">records</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="BufferingFormatter.format-760"><a href="#BufferingFormatter.format-760"><span class="linenos">760</span></a>            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatHeader</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>
</span><span id="BufferingFormatter.format-761"><a href="#BufferingFormatter.format-761"><span class="linenos">761</span></a>            <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
</span><span id="BufferingFormatter.format-762"><a href="#BufferingFormatter.format-762"><span class="linenos">762</span></a>                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">linefmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="BufferingFormatter.format-763"><a href="#BufferingFormatter.format-763"><span class="linenos">763</span></a>            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatFooter</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>
</span><span id="BufferingFormatter.format-764"><a href="#BufferingFormatter.format-764"><span class="linenos">764</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span></pre></div>


            <div class="docstring"><p>Format the specified records and return the result as a string.</p>
</div>


                            </div>
                </section>
                <section id="CRITICAL">
                    <div class="attr variable">
            <span class="name">CRITICAL</span>        =
<span class="default_value">50</span>

        
    </div>
    <a class="headerlink" href="#CRITICAL"></a>
    
    

                </section>
                <section id="DEBUG">
                    <div class="attr variable">
            <span class="name">DEBUG</span>        =
<span class="default_value">10</span>

        
    </div>
    <a class="headerlink" href="#DEBUG"></a>
    
    

                </section>
                <section id="ERROR">
                    <div class="attr variable">
            <span class="name">ERROR</span>        =
<span class="default_value">40</span>

        
    </div>
    <a class="headerlink" href="#ERROR"></a>
    
    

                </section>
                <section id="FATAL">
                    <div class="attr variable">
            <span class="name">FATAL</span>        =
<span class="default_value">50</span>

        
    </div>
    <a class="headerlink" href="#FATAL"></a>
    
    

                </section>
                <section id="FileHandler">
                            <input id="FileHandler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FileHandler</span><wbr>(<span class="base"><a href="#StreamHandler">StreamHandler</a></span>):

                <label class="view-source-button" for="FileHandler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FileHandler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FileHandler-1203"><a href="#FileHandler-1203"><span class="linenos">1203</span></a><span class="k">class</span> <span class="nc">FileHandler</span><span class="p">(</span><span class="n">StreamHandler</span><span class="p">):</span>
</span><span id="FileHandler-1204"><a href="#FileHandler-1204"><span class="linenos">1204</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FileHandler-1205"><a href="#FileHandler-1205"><span class="linenos">1205</span></a><span class="sd">    A handler class which writes formatted logging records to disk files.</span>
</span><span id="FileHandler-1206"><a href="#FileHandler-1206"><span class="linenos">1206</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="FileHandler-1207"><a href="#FileHandler-1207"><span class="linenos">1207</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="FileHandler-1208"><a href="#FileHandler-1208"><span class="linenos">1208</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FileHandler-1209"><a href="#FileHandler-1209"><span class="linenos">1209</span></a><span class="sd">        Open the specified file and use it as the stream for logging.</span>
</span><span id="FileHandler-1210"><a href="#FileHandler-1210"><span class="linenos">1210</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileHandler-1211"><a href="#FileHandler-1211"><span class="linenos">1211</span></a>        <span class="c1"># Issue #27493: add support for Path objects to be passed in</span>
</span><span id="FileHandler-1212"><a href="#FileHandler-1212"><span class="linenos">1212</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="FileHandler-1213"><a href="#FileHandler-1213"><span class="linenos">1213</span></a>        <span class="c1">#keep the absolute path, otherwise derived classes which use this</span>
</span><span id="FileHandler-1214"><a href="#FileHandler-1214"><span class="linenos">1214</span></a>        <span class="c1">#may come a cropper when the current directory changes</span>
</span><span id="FileHandler-1215"><a href="#FileHandler-1215"><span class="linenos">1215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">baseFilename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="FileHandler-1216"><a href="#FileHandler-1216"><span class="linenos">1216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="FileHandler-1217"><a href="#FileHandler-1217"><span class="linenos">1217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
</span><span id="FileHandler-1218"><a href="#FileHandler-1218"><span class="linenos">1218</span></a>        <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
</span><span id="FileHandler-1219"><a href="#FileHandler-1219"><span class="linenos">1219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">text_encoding</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</span><span id="FileHandler-1220"><a href="#FileHandler-1220"><span class="linenos">1220</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">errors</span>
</span><span id="FileHandler-1221"><a href="#FileHandler-1221"><span class="linenos">1221</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>
</span><span id="FileHandler-1222"><a href="#FileHandler-1222"><span class="linenos">1222</span></a>        <span class="c1"># bpo-26789: FileHandler keeps a reference to the builtin open()</span>
</span><span id="FileHandler-1223"><a href="#FileHandler-1223"><span class="linenos">1223</span></a>        <span class="c1"># function to be able to open or reopen the file during Python</span>
</span><span id="FileHandler-1224"><a href="#FileHandler-1224"><span class="linenos">1224</span></a>        <span class="c1"># finalization.</span>
</span><span id="FileHandler-1225"><a href="#FileHandler-1225"><span class="linenos">1225</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_builtin_open</span> <span class="o">=</span> <span class="nb">open</span>
</span><span id="FileHandler-1226"><a href="#FileHandler-1226"><span class="linenos">1226</span></a>        <span class="k">if</span> <span class="n">delay</span><span class="p">:</span>
</span><span id="FileHandler-1227"><a href="#FileHandler-1227"><span class="linenos">1227</span></a>            <span class="c1">#We don&#39;t open the stream, but we still need to call the</span>
</span><span id="FileHandler-1228"><a href="#FileHandler-1228"><span class="linenos">1228</span></a>            <span class="c1">#Handler constructor to set level, formatter, lock etc.</span>
</span><span id="FileHandler-1229"><a href="#FileHandler-1229"><span class="linenos">1229</span></a>            <span class="n">Handler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="FileHandler-1230"><a href="#FileHandler-1230"><span class="linenos">1230</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FileHandler-1231"><a href="#FileHandler-1231"><span class="linenos">1231</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="FileHandler-1232"><a href="#FileHandler-1232"><span class="linenos">1232</span></a>            <span class="n">StreamHandler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">())</span>
</span><span id="FileHandler-1233"><a href="#FileHandler-1233"><span class="linenos">1233</span></a>
</span><span id="FileHandler-1234"><a href="#FileHandler-1234"><span class="linenos">1234</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FileHandler-1235"><a href="#FileHandler-1235"><span class="linenos">1235</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FileHandler-1236"><a href="#FileHandler-1236"><span class="linenos">1236</span></a><span class="sd">        Closes the stream.</span>
</span><span id="FileHandler-1237"><a href="#FileHandler-1237"><span class="linenos">1237</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileHandler-1238"><a href="#FileHandler-1238"><span class="linenos">1238</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="FileHandler-1239"><a href="#FileHandler-1239"><span class="linenos">1239</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FileHandler-1240"><a href="#FileHandler-1240"><span class="linenos">1240</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="FileHandler-1241"><a href="#FileHandler-1241"><span class="linenos">1241</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="FileHandler-1242"><a href="#FileHandler-1242"><span class="linenos">1242</span></a>                    <span class="k">try</span><span class="p">:</span>
</span><span id="FileHandler-1243"><a href="#FileHandler-1243"><span class="linenos">1243</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="FileHandler-1244"><a href="#FileHandler-1244"><span class="linenos">1244</span></a>                    <span class="k">finally</span><span class="p">:</span>
</span><span id="FileHandler-1245"><a href="#FileHandler-1245"><span class="linenos">1245</span></a>                        <span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="FileHandler-1246"><a href="#FileHandler-1246"><span class="linenos">1246</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FileHandler-1247"><a href="#FileHandler-1247"><span class="linenos">1247</span></a>                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="s2">&quot;close&quot;</span><span class="p">):</span>
</span><span id="FileHandler-1248"><a href="#FileHandler-1248"><span class="linenos">1248</span></a>                            <span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="FileHandler-1249"><a href="#FileHandler-1249"><span class="linenos">1249</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="FileHandler-1250"><a href="#FileHandler-1250"><span class="linenos">1250</span></a>                <span class="c1"># Issue #19523: call unconditionally to</span>
</span><span id="FileHandler-1251"><a href="#FileHandler-1251"><span class="linenos">1251</span></a>                <span class="c1"># prevent a handler leak when delay is set</span>
</span><span id="FileHandler-1252"><a href="#FileHandler-1252"><span class="linenos">1252</span></a>                <span class="c1"># Also see Issue #42378: we also rely on</span>
</span><span id="FileHandler-1253"><a href="#FileHandler-1253"><span class="linenos">1253</span></a>                <span class="c1"># self._closed being set to True there</span>
</span><span id="FileHandler-1254"><a href="#FileHandler-1254"><span class="linenos">1254</span></a>                <span class="n">StreamHandler</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="FileHandler-1255"><a href="#FileHandler-1255"><span class="linenos">1255</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="FileHandler-1256"><a href="#FileHandler-1256"><span class="linenos">1256</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="FileHandler-1257"><a href="#FileHandler-1257"><span class="linenos">1257</span></a>
</span><span id="FileHandler-1258"><a href="#FileHandler-1258"><span class="linenos">1258</span></a>    <span class="k">def</span> <span class="nf">_open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FileHandler-1259"><a href="#FileHandler-1259"><span class="linenos">1259</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FileHandler-1260"><a href="#FileHandler-1260"><span class="linenos">1260</span></a><span class="sd">        Open the current base file with the (original) mode and encoding.</span>
</span><span id="FileHandler-1261"><a href="#FileHandler-1261"><span class="linenos">1261</span></a><span class="sd">        Return the resulting stream.</span>
</span><span id="FileHandler-1262"><a href="#FileHandler-1262"><span class="linenos">1262</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileHandler-1263"><a href="#FileHandler-1263"><span class="linenos">1263</span></a>        <span class="n">open_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builtin_open</span>
</span><span id="FileHandler-1264"><a href="#FileHandler-1264"><span class="linenos">1264</span></a>        <span class="k">return</span> <span class="n">open_func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baseFilename</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
</span><span id="FileHandler-1265"><a href="#FileHandler-1265"><span class="linenos">1265</span></a>                         <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
</span><span id="FileHandler-1266"><a href="#FileHandler-1266"><span class="linenos">1266</span></a>
</span><span id="FileHandler-1267"><a href="#FileHandler-1267"><span class="linenos">1267</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="FileHandler-1268"><a href="#FileHandler-1268"><span class="linenos">1268</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FileHandler-1269"><a href="#FileHandler-1269"><span class="linenos">1269</span></a><span class="sd">        Emit a record.</span>
</span><span id="FileHandler-1270"><a href="#FileHandler-1270"><span class="linenos">1270</span></a>
</span><span id="FileHandler-1271"><a href="#FileHandler-1271"><span class="linenos">1271</span></a><span class="sd">        If the stream was not opened because &#39;delay&#39; was specified in the</span>
</span><span id="FileHandler-1272"><a href="#FileHandler-1272"><span class="linenos">1272</span></a><span class="sd">        constructor, open it before calling the superclass&#39;s emit.</span>
</span><span id="FileHandler-1273"><a href="#FileHandler-1273"><span class="linenos">1273</span></a>
</span><span id="FileHandler-1274"><a href="#FileHandler-1274"><span class="linenos">1274</span></a><span class="sd">        If stream is not open, current mode is &#39;w&#39; and `_closed=True`, record</span>
</span><span id="FileHandler-1275"><a href="#FileHandler-1275"><span class="linenos">1275</span></a><span class="sd">        will not be emitted (see Issue #42378).</span>
</span><span id="FileHandler-1276"><a href="#FileHandler-1276"><span class="linenos">1276</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileHandler-1277"><a href="#FileHandler-1277"><span class="linenos">1277</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FileHandler-1278"><a href="#FileHandler-1278"><span class="linenos">1278</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="s1">&#39;w&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span><span class="p">:</span>
</span><span id="FileHandler-1279"><a href="#FileHandler-1279"><span class="linenos">1279</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">()</span>
</span><span id="FileHandler-1280"><a href="#FileHandler-1280"><span class="linenos">1280</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="FileHandler-1281"><a href="#FileHandler-1281"><span class="linenos">1281</span></a>            <span class="n">StreamHandler</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">)</span>
</span><span id="FileHandler-1282"><a href="#FileHandler-1282"><span class="linenos">1282</span></a>
</span><span id="FileHandler-1283"><a href="#FileHandler-1283"><span class="linenos">1283</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FileHandler-1284"><a href="#FileHandler-1284"><span class="linenos">1284</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
</span><span id="FileHandler-1285"><a href="#FileHandler-1285"><span class="linenos">1285</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseFilename</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A handler class which writes formatted logging records to disk files.</p>
</div>


                            <div id="FileHandler.__init__" class="classattr">
                                        <input id="FileHandler.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">FileHandler</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">filename</span>, </span><span class="param"><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span>, </span><span class="param"><span class="n">encoding</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">delay</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">errors</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="FileHandler.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FileHandler.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FileHandler.__init__-1207"><a href="#FileHandler.__init__-1207"><span class="linenos">1207</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="FileHandler.__init__-1208"><a href="#FileHandler.__init__-1208"><span class="linenos">1208</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FileHandler.__init__-1209"><a href="#FileHandler.__init__-1209"><span class="linenos">1209</span></a><span class="sd">        Open the specified file and use it as the stream for logging.</span>
</span><span id="FileHandler.__init__-1210"><a href="#FileHandler.__init__-1210"><span class="linenos">1210</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileHandler.__init__-1211"><a href="#FileHandler.__init__-1211"><span class="linenos">1211</span></a>        <span class="c1"># Issue #27493: add support for Path objects to be passed in</span>
</span><span id="FileHandler.__init__-1212"><a href="#FileHandler.__init__-1212"><span class="linenos">1212</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="FileHandler.__init__-1213"><a href="#FileHandler.__init__-1213"><span class="linenos">1213</span></a>        <span class="c1">#keep the absolute path, otherwise derived classes which use this</span>
</span><span id="FileHandler.__init__-1214"><a href="#FileHandler.__init__-1214"><span class="linenos">1214</span></a>        <span class="c1">#may come a cropper when the current directory changes</span>
</span><span id="FileHandler.__init__-1215"><a href="#FileHandler.__init__-1215"><span class="linenos">1215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">baseFilename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="FileHandler.__init__-1216"><a href="#FileHandler.__init__-1216"><span class="linenos">1216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="FileHandler.__init__-1217"><a href="#FileHandler.__init__-1217"><span class="linenos">1217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
</span><span id="FileHandler.__init__-1218"><a href="#FileHandler.__init__-1218"><span class="linenos">1218</span></a>        <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
</span><span id="FileHandler.__init__-1219"><a href="#FileHandler.__init__-1219"><span class="linenos">1219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">text_encoding</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</span><span id="FileHandler.__init__-1220"><a href="#FileHandler.__init__-1220"><span class="linenos">1220</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">errors</span>
</span><span id="FileHandler.__init__-1221"><a href="#FileHandler.__init__-1221"><span class="linenos">1221</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>
</span><span id="FileHandler.__init__-1222"><a href="#FileHandler.__init__-1222"><span class="linenos">1222</span></a>        <span class="c1"># bpo-26789: FileHandler keeps a reference to the builtin open()</span>
</span><span id="FileHandler.__init__-1223"><a href="#FileHandler.__init__-1223"><span class="linenos">1223</span></a>        <span class="c1"># function to be able to open or reopen the file during Python</span>
</span><span id="FileHandler.__init__-1224"><a href="#FileHandler.__init__-1224"><span class="linenos">1224</span></a>        <span class="c1"># finalization.</span>
</span><span id="FileHandler.__init__-1225"><a href="#FileHandler.__init__-1225"><span class="linenos">1225</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_builtin_open</span> <span class="o">=</span> <span class="nb">open</span>
</span><span id="FileHandler.__init__-1226"><a href="#FileHandler.__init__-1226"><span class="linenos">1226</span></a>        <span class="k">if</span> <span class="n">delay</span><span class="p">:</span>
</span><span id="FileHandler.__init__-1227"><a href="#FileHandler.__init__-1227"><span class="linenos">1227</span></a>            <span class="c1">#We don&#39;t open the stream, but we still need to call the</span>
</span><span id="FileHandler.__init__-1228"><a href="#FileHandler.__init__-1228"><span class="linenos">1228</span></a>            <span class="c1">#Handler constructor to set level, formatter, lock etc.</span>
</span><span id="FileHandler.__init__-1229"><a href="#FileHandler.__init__-1229"><span class="linenos">1229</span></a>            <span class="n">Handler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="FileHandler.__init__-1230"><a href="#FileHandler.__init__-1230"><span class="linenos">1230</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FileHandler.__init__-1231"><a href="#FileHandler.__init__-1231"><span class="linenos">1231</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="FileHandler.__init__-1232"><a href="#FileHandler.__init__-1232"><span class="linenos">1232</span></a>            <span class="n">StreamHandler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">())</span>
</span></pre></div>


            <div class="docstring"><p>Open the specified file and use it as the stream for logging.</p>
</div>


                            </div>
                            <div id="FileHandler.baseFilename" class="classattr">
                                <div class="attr variable">
            <span class="name">baseFilename</span>

        
    </div>
    <a class="headerlink" href="#FileHandler.baseFilename"></a>
    
    

                            </div>
                            <div id="FileHandler.mode" class="classattr">
                                <div class="attr variable">
            <span class="name">mode</span>

        
    </div>
    <a class="headerlink" href="#FileHandler.mode"></a>
    
    

                            </div>
                            <div id="FileHandler.encoding" class="classattr">
                                <div class="attr variable">
            <span class="name">encoding</span>

        
    </div>
    <a class="headerlink" href="#FileHandler.encoding"></a>
    
    

                            </div>
                            <div id="FileHandler.errors" class="classattr">
                                <div class="attr variable">
            <span class="name">errors</span>

        
    </div>
    <a class="headerlink" href="#FileHandler.errors"></a>
    
    

                            </div>
                            <div id="FileHandler.delay" class="classattr">
                                <div class="attr variable">
            <span class="name">delay</span>

        
    </div>
    <a class="headerlink" href="#FileHandler.delay"></a>
    
    

                            </div>
                            <div id="FileHandler.close" class="classattr">
                                        <input id="FileHandler.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FileHandler.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FileHandler.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FileHandler.close-1234"><a href="#FileHandler.close-1234"><span class="linenos">1234</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FileHandler.close-1235"><a href="#FileHandler.close-1235"><span class="linenos">1235</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FileHandler.close-1236"><a href="#FileHandler.close-1236"><span class="linenos">1236</span></a><span class="sd">        Closes the stream.</span>
</span><span id="FileHandler.close-1237"><a href="#FileHandler.close-1237"><span class="linenos">1237</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileHandler.close-1238"><a href="#FileHandler.close-1238"><span class="linenos">1238</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="FileHandler.close-1239"><a href="#FileHandler.close-1239"><span class="linenos">1239</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FileHandler.close-1240"><a href="#FileHandler.close-1240"><span class="linenos">1240</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="FileHandler.close-1241"><a href="#FileHandler.close-1241"><span class="linenos">1241</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="FileHandler.close-1242"><a href="#FileHandler.close-1242"><span class="linenos">1242</span></a>                    <span class="k">try</span><span class="p">:</span>
</span><span id="FileHandler.close-1243"><a href="#FileHandler.close-1243"><span class="linenos">1243</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="FileHandler.close-1244"><a href="#FileHandler.close-1244"><span class="linenos">1244</span></a>                    <span class="k">finally</span><span class="p">:</span>
</span><span id="FileHandler.close-1245"><a href="#FileHandler.close-1245"><span class="linenos">1245</span></a>                        <span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="FileHandler.close-1246"><a href="#FileHandler.close-1246"><span class="linenos">1246</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FileHandler.close-1247"><a href="#FileHandler.close-1247"><span class="linenos">1247</span></a>                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="s2">&quot;close&quot;</span><span class="p">):</span>
</span><span id="FileHandler.close-1248"><a href="#FileHandler.close-1248"><span class="linenos">1248</span></a>                            <span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="FileHandler.close-1249"><a href="#FileHandler.close-1249"><span class="linenos">1249</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="FileHandler.close-1250"><a href="#FileHandler.close-1250"><span class="linenos">1250</span></a>                <span class="c1"># Issue #19523: call unconditionally to</span>
</span><span id="FileHandler.close-1251"><a href="#FileHandler.close-1251"><span class="linenos">1251</span></a>                <span class="c1"># prevent a handler leak when delay is set</span>
</span><span id="FileHandler.close-1252"><a href="#FileHandler.close-1252"><span class="linenos">1252</span></a>                <span class="c1"># Also see Issue #42378: we also rely on</span>
</span><span id="FileHandler.close-1253"><a href="#FileHandler.close-1253"><span class="linenos">1253</span></a>                <span class="c1"># self._closed being set to True there</span>
</span><span id="FileHandler.close-1254"><a href="#FileHandler.close-1254"><span class="linenos">1254</span></a>                <span class="n">StreamHandler</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="FileHandler.close-1255"><a href="#FileHandler.close-1255"><span class="linenos">1255</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="FileHandler.close-1256"><a href="#FileHandler.close-1256"><span class="linenos">1256</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Closes the stream.</p>
</div>


                            </div>
                            <div id="FileHandler.emit" class="classattr">
                                        <input id="FileHandler.emit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">emit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FileHandler.emit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FileHandler.emit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FileHandler.emit-1267"><a href="#FileHandler.emit-1267"><span class="linenos">1267</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="FileHandler.emit-1268"><a href="#FileHandler.emit-1268"><span class="linenos">1268</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FileHandler.emit-1269"><a href="#FileHandler.emit-1269"><span class="linenos">1269</span></a><span class="sd">        Emit a record.</span>
</span><span id="FileHandler.emit-1270"><a href="#FileHandler.emit-1270"><span class="linenos">1270</span></a>
</span><span id="FileHandler.emit-1271"><a href="#FileHandler.emit-1271"><span class="linenos">1271</span></a><span class="sd">        If the stream was not opened because &#39;delay&#39; was specified in the</span>
</span><span id="FileHandler.emit-1272"><a href="#FileHandler.emit-1272"><span class="linenos">1272</span></a><span class="sd">        constructor, open it before calling the superclass&#39;s emit.</span>
</span><span id="FileHandler.emit-1273"><a href="#FileHandler.emit-1273"><span class="linenos">1273</span></a>
</span><span id="FileHandler.emit-1274"><a href="#FileHandler.emit-1274"><span class="linenos">1274</span></a><span class="sd">        If stream is not open, current mode is &#39;w&#39; and `_closed=True`, record</span>
</span><span id="FileHandler.emit-1275"><a href="#FileHandler.emit-1275"><span class="linenos">1275</span></a><span class="sd">        will not be emitted (see Issue #42378).</span>
</span><span id="FileHandler.emit-1276"><a href="#FileHandler.emit-1276"><span class="linenos">1276</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FileHandler.emit-1277"><a href="#FileHandler.emit-1277"><span class="linenos">1277</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FileHandler.emit-1278"><a href="#FileHandler.emit-1278"><span class="linenos">1278</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="s1">&#39;w&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span><span class="p">:</span>
</span><span id="FileHandler.emit-1279"><a href="#FileHandler.emit-1279"><span class="linenos">1279</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">()</span>
</span><span id="FileHandler.emit-1280"><a href="#FileHandler.emit-1280"><span class="linenos">1280</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="FileHandler.emit-1281"><a href="#FileHandler.emit-1281"><span class="linenos">1281</span></a>            <span class="n">StreamHandler</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Emit a record.</p>

<p>If the stream was not opened because 'delay' was specified in the
constructor, open it before calling the superclass's emit.</p>

<p>If stream is not open, current mode is 'w' and <code>_closed=True</code>, record
will not be emitted (see Issue #42378).</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#StreamHandler">StreamHandler</a></dt>
                                <dd id="FileHandler.terminator" class="variable"><a href="#StreamHandler.terminator">terminator</a></dd>
                <dd id="FileHandler.stream" class="variable"><a href="#StreamHandler.stream">stream</a></dd>
                <dd id="FileHandler.flush" class="function"><a href="#StreamHandler.flush">flush</a></dd>
                <dd id="FileHandler.setStream" class="function"><a href="#StreamHandler.setStream">setStream</a></dd>

            </div>
            <div><dt><a href="#Handler">Handler</a></dt>
                                <dd id="FileHandler.level" class="variable"><a href="#Handler.level">level</a></dd>
                <dd id="FileHandler.formatter" class="variable"><a href="#Handler.formatter">formatter</a></dd>
                <dd id="FileHandler.get_name" class="function"><a href="#Handler.get_name">get_name</a></dd>
                <dd id="FileHandler.set_name" class="function"><a href="#Handler.set_name">set_name</a></dd>
                <dd id="FileHandler.name" class="variable"><a href="#Handler.name">name</a></dd>
                <dd id="FileHandler.createLock" class="function"><a href="#Handler.createLock">createLock</a></dd>
                <dd id="FileHandler.acquire" class="function"><a href="#Handler.acquire">acquire</a></dd>
                <dd id="FileHandler.release" class="function"><a href="#Handler.release">release</a></dd>
                <dd id="FileHandler.setLevel" class="function"><a href="#Handler.setLevel">setLevel</a></dd>
                <dd id="FileHandler.format" class="function"><a href="#Handler.format">format</a></dd>
                <dd id="FileHandler.handle" class="function"><a href="#Handler.handle">handle</a></dd>
                <dd id="FileHandler.setFormatter" class="function"><a href="#Handler.setFormatter">setFormatter</a></dd>
                <dd id="FileHandler.handleError" class="function"><a href="#Handler.handleError">handleError</a></dd>

            </div>
            <div><dt><a href="#Filterer">Filterer</a></dt>
                                <dd id="FileHandler.filters" class="variable"><a href="#Filterer.filters">filters</a></dd>
                <dd id="FileHandler.addFilter" class="function"><a href="#Filterer.addFilter">addFilter</a></dd>
                <dd id="FileHandler.removeFilter" class="function"><a href="#Filterer.removeFilter">removeFilter</a></dd>
                <dd id="FileHandler.filter" class="function"><a href="#Filterer.filter">filter</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Filter">
                            <input id="Filter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Filter</span>:

                <label class="view-source-button" for="Filter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Filter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Filter-770"><a href="#Filter-770"><span class="linenos">770</span></a><span class="k">class</span> <span class="nc">Filter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="Filter-771"><a href="#Filter-771"><span class="linenos">771</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Filter-772"><a href="#Filter-772"><span class="linenos">772</span></a><span class="sd">    Filter instances are used to perform arbitrary filtering of LogRecords.</span>
</span><span id="Filter-773"><a href="#Filter-773"><span class="linenos">773</span></a>
</span><span id="Filter-774"><a href="#Filter-774"><span class="linenos">774</span></a><span class="sd">    Loggers and Handlers can optionally use Filter instances to filter</span>
</span><span id="Filter-775"><a href="#Filter-775"><span class="linenos">775</span></a><span class="sd">    records as desired. The base filter class only allows events which are</span>
</span><span id="Filter-776"><a href="#Filter-776"><span class="linenos">776</span></a><span class="sd">    below a certain point in the logger hierarchy. For example, a filter</span>
</span><span id="Filter-777"><a href="#Filter-777"><span class="linenos">777</span></a><span class="sd">    initialized with &quot;A.B&quot; will allow events logged by loggers &quot;A.B&quot;,</span>
</span><span id="Filter-778"><a href="#Filter-778"><span class="linenos">778</span></a><span class="sd">    &quot;A.B.C&quot;, &quot;A.B.C.D&quot;, &quot;A.B.D&quot; etc. but not &quot;A.BB&quot;, &quot;B.A.B&quot; etc. If</span>
</span><span id="Filter-779"><a href="#Filter-779"><span class="linenos">779</span></a><span class="sd">    initialized with the empty string, all events are passed.</span>
</span><span id="Filter-780"><a href="#Filter-780"><span class="linenos">780</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Filter-781"><a href="#Filter-781"><span class="linenos">781</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
</span><span id="Filter-782"><a href="#Filter-782"><span class="linenos">782</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Filter-783"><a href="#Filter-783"><span class="linenos">783</span></a><span class="sd">        Initialize a filter.</span>
</span><span id="Filter-784"><a href="#Filter-784"><span class="linenos">784</span></a>
</span><span id="Filter-785"><a href="#Filter-785"><span class="linenos">785</span></a><span class="sd">        Initialize with the name of the logger which, together with its</span>
</span><span id="Filter-786"><a href="#Filter-786"><span class="linenos">786</span></a><span class="sd">        children, will have its events allowed through the filter. If no</span>
</span><span id="Filter-787"><a href="#Filter-787"><span class="linenos">787</span></a><span class="sd">        name is specified, allow every event.</span>
</span><span id="Filter-788"><a href="#Filter-788"><span class="linenos">788</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Filter-789"><a href="#Filter-789"><span class="linenos">789</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Filter-790"><a href="#Filter-790"><span class="linenos">790</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="Filter-791"><a href="#Filter-791"><span class="linenos">791</span></a>
</span><span id="Filter-792"><a href="#Filter-792"><span class="linenos">792</span></a>    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Filter-793"><a href="#Filter-793"><span class="linenos">793</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Filter-794"><a href="#Filter-794"><span class="linenos">794</span></a><span class="sd">        Determine if the specified record is to be logged.</span>
</span><span id="Filter-795"><a href="#Filter-795"><span class="linenos">795</span></a>
</span><span id="Filter-796"><a href="#Filter-796"><span class="linenos">796</span></a><span class="sd">        Returns True if the record should be logged, or False otherwise.</span>
</span><span id="Filter-797"><a href="#Filter-797"><span class="linenos">797</span></a><span class="sd">        If deemed appropriate, the record may be modified in-place.</span>
</span><span id="Filter-798"><a href="#Filter-798"><span class="linenos">798</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Filter-799"><a href="#Filter-799"><span class="linenos">799</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Filter-800"><a href="#Filter-800"><span class="linenos">800</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Filter-801"><a href="#Filter-801"><span class="linenos">801</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
</span><span id="Filter-802"><a href="#Filter-802"><span class="linenos">802</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Filter-803"><a href="#Filter-803"><span class="linenos">803</span></a>        <span class="k">elif</span> <span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Filter-804"><a href="#Filter-804"><span class="linenos">804</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Filter-805"><a href="#Filter-805"><span class="linenos">805</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nlen</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Filter instances are used to perform arbitrary filtering of LogRecords.</p>

<p>Loggers and Handlers can optionally use Filter instances to filter
records as desired. The base filter class only allows events which are
below a certain point in the logger hierarchy. For example, a filter
initialized with "A.B" will allow events logged by loggers "A.B",
"A.B.C", "A.B.C.D", "A.B.D" etc. but not "A.BB", "B.A.B" etc. If
initialized with the empty string, all events are passed.</p>
</div>


                            <div id="Filter.__init__" class="classattr">
                                        <input id="Filter.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Filter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span></span>)</span>

                <label class="view-source-button" for="Filter.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Filter.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Filter.__init__-781"><a href="#Filter.__init__-781"><span class="linenos">781</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
</span><span id="Filter.__init__-782"><a href="#Filter.__init__-782"><span class="linenos">782</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Filter.__init__-783"><a href="#Filter.__init__-783"><span class="linenos">783</span></a><span class="sd">        Initialize a filter.</span>
</span><span id="Filter.__init__-784"><a href="#Filter.__init__-784"><span class="linenos">784</span></a>
</span><span id="Filter.__init__-785"><a href="#Filter.__init__-785"><span class="linenos">785</span></a><span class="sd">        Initialize with the name of the logger which, together with its</span>
</span><span id="Filter.__init__-786"><a href="#Filter.__init__-786"><span class="linenos">786</span></a><span class="sd">        children, will have its events allowed through the filter. If no</span>
</span><span id="Filter.__init__-787"><a href="#Filter.__init__-787"><span class="linenos">787</span></a><span class="sd">        name is specified, allow every event.</span>
</span><span id="Filter.__init__-788"><a href="#Filter.__init__-788"><span class="linenos">788</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Filter.__init__-789"><a href="#Filter.__init__-789"><span class="linenos">789</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Filter.__init__-790"><a href="#Filter.__init__-790"><span class="linenos">790</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize a filter.</p>

<p>Initialize with the name of the logger which, together with its
children, will have its events allowed through the filter. If no
name is specified, allow every event.</p>
</div>


                            </div>
                            <div id="Filter.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span>

        
    </div>
    <a class="headerlink" href="#Filter.name"></a>
    
    

                            </div>
                            <div id="Filter.nlen" class="classattr">
                                <div class="attr variable">
            <span class="name">nlen</span>

        
    </div>
    <a class="headerlink" href="#Filter.nlen"></a>
    
    

                            </div>
                            <div id="Filter.filter" class="classattr">
                                        <input id="Filter.filter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">filter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Filter.filter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Filter.filter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Filter.filter-792"><a href="#Filter.filter-792"><span class="linenos">792</span></a>    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Filter.filter-793"><a href="#Filter.filter-793"><span class="linenos">793</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Filter.filter-794"><a href="#Filter.filter-794"><span class="linenos">794</span></a><span class="sd">        Determine if the specified record is to be logged.</span>
</span><span id="Filter.filter-795"><a href="#Filter.filter-795"><span class="linenos">795</span></a>
</span><span id="Filter.filter-796"><a href="#Filter.filter-796"><span class="linenos">796</span></a><span class="sd">        Returns True if the record should be logged, or False otherwise.</span>
</span><span id="Filter.filter-797"><a href="#Filter.filter-797"><span class="linenos">797</span></a><span class="sd">        If deemed appropriate, the record may be modified in-place.</span>
</span><span id="Filter.filter-798"><a href="#Filter.filter-798"><span class="linenos">798</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Filter.filter-799"><a href="#Filter.filter-799"><span class="linenos">799</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Filter.filter-800"><a href="#Filter.filter-800"><span class="linenos">800</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Filter.filter-801"><a href="#Filter.filter-801"><span class="linenos">801</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
</span><span id="Filter.filter-802"><a href="#Filter.filter-802"><span class="linenos">802</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Filter.filter-803"><a href="#Filter.filter-803"><span class="linenos">803</span></a>        <span class="k">elif</span> <span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlen</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Filter.filter-804"><a href="#Filter.filter-804"><span class="linenos">804</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Filter.filter-805"><a href="#Filter.filter-805"><span class="linenos">805</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nlen</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Determine if the specified record is to be logged.</p>

<p>Returns True if the record should be logged, or False otherwise.
If deemed appropriate, the record may be modified in-place.</p>
</div>


                            </div>
                </section>
                <section id="Formatter">
                            <input id="Formatter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Formatter</span>:

                <label class="view-source-button" for="Formatter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Formatter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Formatter-547"><a href="#Formatter-547"><span class="linenos">547</span></a><span class="k">class</span> <span class="nc">Formatter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="Formatter-548"><a href="#Formatter-548"><span class="linenos">548</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter-549"><a href="#Formatter-549"><span class="linenos">549</span></a><span class="sd">    Formatter instances are used to convert a LogRecord to text.</span>
</span><span id="Formatter-550"><a href="#Formatter-550"><span class="linenos">550</span></a>
</span><span id="Formatter-551"><a href="#Formatter-551"><span class="linenos">551</span></a><span class="sd">    Formatters need to know how a LogRecord is constructed. They are</span>
</span><span id="Formatter-552"><a href="#Formatter-552"><span class="linenos">552</span></a><span class="sd">    responsible for converting a LogRecord to (usually) a string which can</span>
</span><span id="Formatter-553"><a href="#Formatter-553"><span class="linenos">553</span></a><span class="sd">    be interpreted by either a human or an external system. The base Formatter</span>
</span><span id="Formatter-554"><a href="#Formatter-554"><span class="linenos">554</span></a><span class="sd">    allows a formatting string to be specified. If none is supplied, the</span>
</span><span id="Formatter-555"><a href="#Formatter-555"><span class="linenos">555</span></a><span class="sd">    style-dependent default value, &quot;%(message)s&quot;, &quot;{message}&quot;, or</span>
</span><span id="Formatter-556"><a href="#Formatter-556"><span class="linenos">556</span></a><span class="sd">    &quot;${message}&quot;, is used.</span>
</span><span id="Formatter-557"><a href="#Formatter-557"><span class="linenos">557</span></a>
</span><span id="Formatter-558"><a href="#Formatter-558"><span class="linenos">558</span></a><span class="sd">    The Formatter can be initialized with a format string which makes use of</span>
</span><span id="Formatter-559"><a href="#Formatter-559"><span class="linenos">559</span></a><span class="sd">    knowledge of the LogRecord attributes - e.g. the default value mentioned</span>
</span><span id="Formatter-560"><a href="#Formatter-560"><span class="linenos">560</span></a><span class="sd">    above makes use of the fact that the user&#39;s message and arguments are pre-</span>
</span><span id="Formatter-561"><a href="#Formatter-561"><span class="linenos">561</span></a><span class="sd">    formatted into a LogRecord&#39;s message attribute. Currently, the useful</span>
</span><span id="Formatter-562"><a href="#Formatter-562"><span class="linenos">562</span></a><span class="sd">    attributes in a LogRecord are described by:</span>
</span><span id="Formatter-563"><a href="#Formatter-563"><span class="linenos">563</span></a>
</span><span id="Formatter-564"><a href="#Formatter-564"><span class="linenos">564</span></a><span class="sd">    %(name)s            Name of the logger (logging channel)</span>
</span><span id="Formatter-565"><a href="#Formatter-565"><span class="linenos">565</span></a><span class="sd">    %(levelno)s         Numeric logging level for the message (DEBUG, INFO,</span>
</span><span id="Formatter-566"><a href="#Formatter-566"><span class="linenos">566</span></a><span class="sd">                        WARNING, ERROR, CRITICAL)</span>
</span><span id="Formatter-567"><a href="#Formatter-567"><span class="linenos">567</span></a><span class="sd">    %(levelname)s       Text logging level for the message (&quot;DEBUG&quot;, &quot;INFO&quot;,</span>
</span><span id="Formatter-568"><a href="#Formatter-568"><span class="linenos">568</span></a><span class="sd">                        &quot;WARNING&quot;, &quot;ERROR&quot;, &quot;CRITICAL&quot;)</span>
</span><span id="Formatter-569"><a href="#Formatter-569"><span class="linenos">569</span></a><span class="sd">    %(pathname)s        Full pathname of the source file where the logging</span>
</span><span id="Formatter-570"><a href="#Formatter-570"><span class="linenos">570</span></a><span class="sd">                        call was issued (if available)</span>
</span><span id="Formatter-571"><a href="#Formatter-571"><span class="linenos">571</span></a><span class="sd">    %(filename)s        Filename portion of pathname</span>
</span><span id="Formatter-572"><a href="#Formatter-572"><span class="linenos">572</span></a><span class="sd">    %(module)s          Module (name portion of filename)</span>
</span><span id="Formatter-573"><a href="#Formatter-573"><span class="linenos">573</span></a><span class="sd">    %(lineno)d          Source line number where the logging call was issued</span>
</span><span id="Formatter-574"><a href="#Formatter-574"><span class="linenos">574</span></a><span class="sd">                        (if available)</span>
</span><span id="Formatter-575"><a href="#Formatter-575"><span class="linenos">575</span></a><span class="sd">    %(funcName)s        Function name</span>
</span><span id="Formatter-576"><a href="#Formatter-576"><span class="linenos">576</span></a><span class="sd">    %(created)f         Time when the LogRecord was created (time.time()</span>
</span><span id="Formatter-577"><a href="#Formatter-577"><span class="linenos">577</span></a><span class="sd">                        return value)</span>
</span><span id="Formatter-578"><a href="#Formatter-578"><span class="linenos">578</span></a><span class="sd">    %(asctime)s         Textual time when the LogRecord was created</span>
</span><span id="Formatter-579"><a href="#Formatter-579"><span class="linenos">579</span></a><span class="sd">    %(msecs)d           Millisecond portion of the creation time</span>
</span><span id="Formatter-580"><a href="#Formatter-580"><span class="linenos">580</span></a><span class="sd">    %(relativeCreated)d Time in milliseconds when the LogRecord was created,</span>
</span><span id="Formatter-581"><a href="#Formatter-581"><span class="linenos">581</span></a><span class="sd">                        relative to the time the logging module was loaded</span>
</span><span id="Formatter-582"><a href="#Formatter-582"><span class="linenos">582</span></a><span class="sd">                        (typically at application startup time)</span>
</span><span id="Formatter-583"><a href="#Formatter-583"><span class="linenos">583</span></a><span class="sd">    %(thread)d          Thread ID (if available)</span>
</span><span id="Formatter-584"><a href="#Formatter-584"><span class="linenos">584</span></a><span class="sd">    %(threadName)s      Thread name (if available)</span>
</span><span id="Formatter-585"><a href="#Formatter-585"><span class="linenos">585</span></a><span class="sd">    %(taskName)s        Task name (if available)</span>
</span><span id="Formatter-586"><a href="#Formatter-586"><span class="linenos">586</span></a><span class="sd">    %(process)d         Process ID (if available)</span>
</span><span id="Formatter-587"><a href="#Formatter-587"><span class="linenos">587</span></a><span class="sd">    %(message)s         The result of record.getMessage(), computed just as</span>
</span><span id="Formatter-588"><a href="#Formatter-588"><span class="linenos">588</span></a><span class="sd">                        the record is emitted</span>
</span><span id="Formatter-589"><a href="#Formatter-589"><span class="linenos">589</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Formatter-590"><a href="#Formatter-590"><span class="linenos">590</span></a>
</span><span id="Formatter-591"><a href="#Formatter-591"><span class="linenos">591</span></a>    <span class="n">converter</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span>
</span><span id="Formatter-592"><a href="#Formatter-592"><span class="linenos">592</span></a>
</span><span id="Formatter-593"><a href="#Formatter-593"><span class="linenos">593</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">datefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;%&#39;</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
</span><span id="Formatter-594"><a href="#Formatter-594"><span class="linenos">594</span></a>                 <span class="n">defaults</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Formatter-595"><a href="#Formatter-595"><span class="linenos">595</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter-596"><a href="#Formatter-596"><span class="linenos">596</span></a><span class="sd">        Initialize the formatter with specified format strings.</span>
</span><span id="Formatter-597"><a href="#Formatter-597"><span class="linenos">597</span></a>
</span><span id="Formatter-598"><a href="#Formatter-598"><span class="linenos">598</span></a><span class="sd">        Initialize the formatter either with the specified format string, or a</span>
</span><span id="Formatter-599"><a href="#Formatter-599"><span class="linenos">599</span></a><span class="sd">        default as described above. Allow for specialized date formatting with</span>
</span><span id="Formatter-600"><a href="#Formatter-600"><span class="linenos">600</span></a><span class="sd">        the optional datefmt argument. If datefmt is omitted, you get an</span>
</span><span id="Formatter-601"><a href="#Formatter-601"><span class="linenos">601</span></a><span class="sd">        ISO8601-like (or RFC 3339-like) format.</span>
</span><span id="Formatter-602"><a href="#Formatter-602"><span class="linenos">602</span></a>
</span><span id="Formatter-603"><a href="#Formatter-603"><span class="linenos">603</span></a><span class="sd">        Use a style parameter of &#39;%&#39;, &#39;{&#39; or &#39;$&#39; to specify that you want to</span>
</span><span id="Formatter-604"><a href="#Formatter-604"><span class="linenos">604</span></a><span class="sd">        use one of %-formatting, :meth:`str.format` (``{}``) formatting or</span>
</span><span id="Formatter-605"><a href="#Formatter-605"><span class="linenos">605</span></a><span class="sd">        :class:`string.Template` formatting in your format string.</span>
</span><span id="Formatter-606"><a href="#Formatter-606"><span class="linenos">606</span></a>
</span><span id="Formatter-607"><a href="#Formatter-607"><span class="linenos">607</span></a><span class="sd">        .. versionchanged:: 3.2</span>
</span><span id="Formatter-608"><a href="#Formatter-608"><span class="linenos">608</span></a><span class="sd">           Added the ``style`` parameter.</span>
</span><span id="Formatter-609"><a href="#Formatter-609"><span class="linenos">609</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter-610"><a href="#Formatter-610"><span class="linenos">610</span></a>        <span class="k">if</span> <span class="n">style</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_STYLES</span><span class="p">:</span>
</span><span id="Formatter-611"><a href="#Formatter-611"><span class="linenos">611</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Style must be one of: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="Formatter-612"><a href="#Formatter-612"><span class="linenos">612</span></a>                             <span class="n">_STYLES</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="Formatter-613"><a href="#Formatter-613"><span class="linenos">613</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_style</span> <span class="o">=</span> <span class="n">_STYLES</span><span class="p">[</span><span class="n">style</span><span class="p">][</span><span class="mi">0</span><span class="p">](</span><span class="n">fmt</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="n">defaults</span><span class="p">)</span>
</span><span id="Formatter-614"><a href="#Formatter-614"><span class="linenos">614</span></a>        <span class="k">if</span> <span class="n">validate</span><span class="p">:</span>
</span><span id="Formatter-615"><a href="#Formatter-615"><span class="linenos">615</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</span><span id="Formatter-616"><a href="#Formatter-616"><span class="linenos">616</span></a>
</span><span id="Formatter-617"><a href="#Formatter-617"><span class="linenos">617</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">_fmt</span>
</span><span id="Formatter-618"><a href="#Formatter-618"><span class="linenos">618</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">datefmt</span> <span class="o">=</span> <span class="n">datefmt</span>
</span><span id="Formatter-619"><a href="#Formatter-619"><span class="linenos">619</span></a>
</span><span id="Formatter-620"><a href="#Formatter-620"><span class="linenos">620</span></a>    <span class="n">default_time_format</span> <span class="o">=</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span>
</span><span id="Formatter-621"><a href="#Formatter-621"><span class="linenos">621</span></a>    <span class="n">default_msec_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">,</span><span class="si">%03d</span><span class="s1">&#39;</span>
</span><span id="Formatter-622"><a href="#Formatter-622"><span class="linenos">622</span></a>
</span><span id="Formatter-623"><a href="#Formatter-623"><span class="linenos">623</span></a>    <span class="k">def</span> <span class="nf">formatTime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">,</span> <span class="n">datefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Formatter-624"><a href="#Formatter-624"><span class="linenos">624</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter-625"><a href="#Formatter-625"><span class="linenos">625</span></a><span class="sd">        Return the creation time of the specified LogRecord as formatted text.</span>
</span><span id="Formatter-626"><a href="#Formatter-626"><span class="linenos">626</span></a>
</span><span id="Formatter-627"><a href="#Formatter-627"><span class="linenos">627</span></a><span class="sd">        This method should be called from format() by a formatter which</span>
</span><span id="Formatter-628"><a href="#Formatter-628"><span class="linenos">628</span></a><span class="sd">        wants to make use of a formatted time. This method can be overridden</span>
</span><span id="Formatter-629"><a href="#Formatter-629"><span class="linenos">629</span></a><span class="sd">        in formatters to provide for any specific requirement, but the</span>
</span><span id="Formatter-630"><a href="#Formatter-630"><span class="linenos">630</span></a><span class="sd">        basic behaviour is as follows: if datefmt (a string) is specified,</span>
</span><span id="Formatter-631"><a href="#Formatter-631"><span class="linenos">631</span></a><span class="sd">        it is used with time.strftime() to format the creation time of the</span>
</span><span id="Formatter-632"><a href="#Formatter-632"><span class="linenos">632</span></a><span class="sd">        record. Otherwise, an ISO8601-like (or RFC 3339-like) format is used.</span>
</span><span id="Formatter-633"><a href="#Formatter-633"><span class="linenos">633</span></a><span class="sd">        The resulting string is returned. This function uses a user-configurable</span>
</span><span id="Formatter-634"><a href="#Formatter-634"><span class="linenos">634</span></a><span class="sd">        function to convert the creation time to a tuple. By default,</span>
</span><span id="Formatter-635"><a href="#Formatter-635"><span class="linenos">635</span></a><span class="sd">        time.localtime() is used; to change this for a particular formatter</span>
</span><span id="Formatter-636"><a href="#Formatter-636"><span class="linenos">636</span></a><span class="sd">        instance, set the &#39;converter&#39; attribute to a function with the same</span>
</span><span id="Formatter-637"><a href="#Formatter-637"><span class="linenos">637</span></a><span class="sd">        signature as time.localtime() or time.gmtime(). To change it for all</span>
</span><span id="Formatter-638"><a href="#Formatter-638"><span class="linenos">638</span></a><span class="sd">        formatters, for example if you want all logging times to be shown in GMT,</span>
</span><span id="Formatter-639"><a href="#Formatter-639"><span class="linenos">639</span></a><span class="sd">        set the &#39;converter&#39; attribute in the Formatter class.</span>
</span><span id="Formatter-640"><a href="#Formatter-640"><span class="linenos">640</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter-641"><a href="#Formatter-641"><span class="linenos">641</span></a>        <span class="n">ct</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">converter</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">created</span><span class="p">)</span>
</span><span id="Formatter-642"><a href="#Formatter-642"><span class="linenos">642</span></a>        <span class="k">if</span> <span class="n">datefmt</span><span class="p">:</span>
</span><span id="Formatter-643"><a href="#Formatter-643"><span class="linenos">643</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">datefmt</span><span class="p">,</span> <span class="n">ct</span><span class="p">)</span>
</span><span id="Formatter-644"><a href="#Formatter-644"><span class="linenos">644</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Formatter-645"><a href="#Formatter-645"><span class="linenos">645</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_time_format</span><span class="p">,</span> <span class="n">ct</span><span class="p">)</span>
</span><span id="Formatter-646"><a href="#Formatter-646"><span class="linenos">646</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_msec_format</span><span class="p">:</span>
</span><span id="Formatter-647"><a href="#Formatter-647"><span class="linenos">647</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_msec_format</span> <span class="o">%</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">record</span><span class="o">.</span><span class="n">msecs</span><span class="p">)</span>
</span><span id="Formatter-648"><a href="#Formatter-648"><span class="linenos">648</span></a>        <span class="k">return</span> <span class="n">s</span>
</span><span id="Formatter-649"><a href="#Formatter-649"><span class="linenos">649</span></a>
</span><span id="Formatter-650"><a href="#Formatter-650"><span class="linenos">650</span></a>    <span class="k">def</span> <span class="nf">formatException</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ei</span><span class="p">):</span>
</span><span id="Formatter-651"><a href="#Formatter-651"><span class="linenos">651</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter-652"><a href="#Formatter-652"><span class="linenos">652</span></a><span class="sd">        Format and return the specified exception information as a string.</span>
</span><span id="Formatter-653"><a href="#Formatter-653"><span class="linenos">653</span></a>
</span><span id="Formatter-654"><a href="#Formatter-654"><span class="linenos">654</span></a><span class="sd">        This default implementation just uses</span>
</span><span id="Formatter-655"><a href="#Formatter-655"><span class="linenos">655</span></a><span class="sd">        traceback.print_exception()</span>
</span><span id="Formatter-656"><a href="#Formatter-656"><span class="linenos">656</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter-657"><a href="#Formatter-657"><span class="linenos">657</span></a>        <span class="n">sio</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
</span><span id="Formatter-658"><a href="#Formatter-658"><span class="linenos">658</span></a>        <span class="n">tb</span> <span class="o">=</span> <span class="n">ei</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="Formatter-659"><a href="#Formatter-659"><span class="linenos">659</span></a>        <span class="c1"># See issues #9427, #1553375. Commented out for now.</span>
</span><span id="Formatter-660"><a href="#Formatter-660"><span class="linenos">660</span></a>        <span class="c1">#if getattr(self, &#39;fullstack&#39;, False):</span>
</span><span id="Formatter-661"><a href="#Formatter-661"><span class="linenos">661</span></a>        <span class="c1">#    traceback.print_stack(tb.tb_frame.f_back, file=sio)</span>
</span><span id="Formatter-662"><a href="#Formatter-662"><span class="linenos">662</span></a>        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exception</span><span class="p">(</span><span class="n">ei</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ei</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tb</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sio</span><span class="p">)</span>
</span><span id="Formatter-663"><a href="#Formatter-663"><span class="linenos">663</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="Formatter-664"><a href="#Formatter-664"><span class="linenos">664</span></a>        <span class="n">sio</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Formatter-665"><a href="#Formatter-665"><span class="linenos">665</span></a>        <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="Formatter-666"><a href="#Formatter-666"><span class="linenos">666</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Formatter-667"><a href="#Formatter-667"><span class="linenos">667</span></a>        <span class="k">return</span> <span class="n">s</span>
</span><span id="Formatter-668"><a href="#Formatter-668"><span class="linenos">668</span></a>
</span><span id="Formatter-669"><a href="#Formatter-669"><span class="linenos">669</span></a>    <span class="k">def</span> <span class="nf">usesTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Formatter-670"><a href="#Formatter-670"><span class="linenos">670</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter-671"><a href="#Formatter-671"><span class="linenos">671</span></a><span class="sd">        Check if the format uses the creation time of the record.</span>
</span><span id="Formatter-672"><a href="#Formatter-672"><span class="linenos">672</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter-673"><a href="#Formatter-673"><span class="linenos">673</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">usesTime</span><span class="p">()</span>
</span><span id="Formatter-674"><a href="#Formatter-674"><span class="linenos">674</span></a>
</span><span id="Formatter-675"><a href="#Formatter-675"><span class="linenos">675</span></a>    <span class="k">def</span> <span class="nf">formatMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Formatter-676"><a href="#Formatter-676"><span class="linenos">676</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Formatter-677"><a href="#Formatter-677"><span class="linenos">677</span></a>
</span><span id="Formatter-678"><a href="#Formatter-678"><span class="linenos">678</span></a>    <span class="k">def</span> <span class="nf">formatStack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_info</span><span class="p">):</span>
</span><span id="Formatter-679"><a href="#Formatter-679"><span class="linenos">679</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter-680"><a href="#Formatter-680"><span class="linenos">680</span></a><span class="sd">        This method is provided as an extension point for specialized</span>
</span><span id="Formatter-681"><a href="#Formatter-681"><span class="linenos">681</span></a><span class="sd">        formatting of stack information.</span>
</span><span id="Formatter-682"><a href="#Formatter-682"><span class="linenos">682</span></a>
</span><span id="Formatter-683"><a href="#Formatter-683"><span class="linenos">683</span></a><span class="sd">        The input data is a string as returned from a call to</span>
</span><span id="Formatter-684"><a href="#Formatter-684"><span class="linenos">684</span></a><span class="sd">        :func:`traceback.print_stack`, but with the last trailing newline</span>
</span><span id="Formatter-685"><a href="#Formatter-685"><span class="linenos">685</span></a><span class="sd">        removed.</span>
</span><span id="Formatter-686"><a href="#Formatter-686"><span class="linenos">686</span></a>
</span><span id="Formatter-687"><a href="#Formatter-687"><span class="linenos">687</span></a><span class="sd">        The base implementation just returns the value passed in.</span>
</span><span id="Formatter-688"><a href="#Formatter-688"><span class="linenos">688</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter-689"><a href="#Formatter-689"><span class="linenos">689</span></a>        <span class="k">return</span> <span class="n">stack_info</span>
</span><span id="Formatter-690"><a href="#Formatter-690"><span class="linenos">690</span></a>
</span><span id="Formatter-691"><a href="#Formatter-691"><span class="linenos">691</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Formatter-692"><a href="#Formatter-692"><span class="linenos">692</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter-693"><a href="#Formatter-693"><span class="linenos">693</span></a><span class="sd">        Format the specified record as text.</span>
</span><span id="Formatter-694"><a href="#Formatter-694"><span class="linenos">694</span></a>
</span><span id="Formatter-695"><a href="#Formatter-695"><span class="linenos">695</span></a><span class="sd">        The record&#39;s attribute dictionary is used as the operand to a</span>
</span><span id="Formatter-696"><a href="#Formatter-696"><span class="linenos">696</span></a><span class="sd">        string formatting operation which yields the returned string.</span>
</span><span id="Formatter-697"><a href="#Formatter-697"><span class="linenos">697</span></a><span class="sd">        Before formatting the dictionary, a couple of preparatory steps</span>
</span><span id="Formatter-698"><a href="#Formatter-698"><span class="linenos">698</span></a><span class="sd">        are carried out. The message attribute of the record is computed</span>
</span><span id="Formatter-699"><a href="#Formatter-699"><span class="linenos">699</span></a><span class="sd">        using LogRecord.getMessage(). If the formatting string uses the</span>
</span><span id="Formatter-700"><a href="#Formatter-700"><span class="linenos">700</span></a><span class="sd">        time (as determined by a call to usesTime(), formatTime() is</span>
</span><span id="Formatter-701"><a href="#Formatter-701"><span class="linenos">701</span></a><span class="sd">        called to format the event time. If there is exception information,</span>
</span><span id="Formatter-702"><a href="#Formatter-702"><span class="linenos">702</span></a><span class="sd">        it is formatted using formatException() and appended to the message.</span>
</span><span id="Formatter-703"><a href="#Formatter-703"><span class="linenos">703</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter-704"><a href="#Formatter-704"><span class="linenos">704</span></a>        <span class="n">record</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">getMessage</span><span class="p">()</span>
</span><span id="Formatter-705"><a href="#Formatter-705"><span class="linenos">705</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">usesTime</span><span class="p">():</span>
</span><span id="Formatter-706"><a href="#Formatter-706"><span class="linenos">706</span></a>            <span class="n">record</span><span class="o">.</span><span class="n">asctime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatTime</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">datefmt</span><span class="p">)</span>
</span><span id="Formatter-707"><a href="#Formatter-707"><span class="linenos">707</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatMessage</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Formatter-708"><a href="#Formatter-708"><span class="linenos">708</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_info</span><span class="p">:</span>
</span><span id="Formatter-709"><a href="#Formatter-709"><span class="linenos">709</span></a>            <span class="c1"># Cache the traceback text to avoid converting it multiple times</span>
</span><span id="Formatter-710"><a href="#Formatter-710"><span class="linenos">710</span></a>            <span class="c1"># (it&#39;s constant anyway)</span>
</span><span id="Formatter-711"><a href="#Formatter-711"><span class="linenos">711</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span><span class="p">:</span>
</span><span id="Formatter-712"><a href="#Formatter-712"><span class="linenos">712</span></a>                <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatException</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">exc_info</span><span class="p">)</span>
</span><span id="Formatter-713"><a href="#Formatter-713"><span class="linenos">713</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span><span class="p">:</span>
</span><span id="Formatter-714"><a href="#Formatter-714"><span class="linenos">714</span></a>            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="Formatter-715"><a href="#Formatter-715"><span class="linenos">715</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Formatter-716"><a href="#Formatter-716"><span class="linenos">716</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span>
</span><span id="Formatter-717"><a href="#Formatter-717"><span class="linenos">717</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">stack_info</span><span class="p">:</span>
</span><span id="Formatter-718"><a href="#Formatter-718"><span class="linenos">718</span></a>            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="Formatter-719"><a href="#Formatter-719"><span class="linenos">719</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Formatter-720"><a href="#Formatter-720"><span class="linenos">720</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatStack</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">stack_info</span><span class="p">)</span>
</span><span id="Formatter-721"><a href="#Formatter-721"><span class="linenos">721</span></a>        <span class="k">return</span> <span class="n">s</span>
</span></pre></div>


            <div class="docstring"><p>Formatter instances are used to convert a LogRecord to text.</p>

<p>Formatters need to know how a LogRecord is constructed. They are
responsible for converting a LogRecord to (usually) a string which can
be interpreted by either a human or an external system. The base Formatter
allows a formatting string to be specified. If none is supplied, the
style-dependent default value, "%(message)s", "{message}", or
"${message}", is used.</p>

<p>The Formatter can be initialized with a format string which makes use of
knowledge of the LogRecord attributes - e.g. the default value mentioned
above makes use of the fact that the user's message and arguments are pre-
formatted into a LogRecord's message attribute. Currently, the useful
attributes in a LogRecord are described by:</p>

<p>%(name)s            Name of the logger (logging channel)
%(levelno)s         Numeric logging level for the message (DEBUG, INFO,
                    WARNING, ERROR, CRITICAL)
%(levelname)s       Text logging level for the message ("DEBUG", "INFO",
                    "WARNING", "ERROR", "CRITICAL")
%(pathname)s        Full pathname of the source file where the logging
                    call was issued (if available)
%(filename)s        Filename portion of pathname
%(module)s          Module (name portion of filename)
%(lineno)d          Source line number where the logging call was issued
                    (if available)
%(funcName)s        Function name
%(created)f         Time when the LogRecord was created (time.time()
                    return value)
%(asctime)s         Textual time when the LogRecord was created
%(msecs)d           Millisecond portion of the creation time
%(relativeCreated)d Time in milliseconds when the LogRecord was created,
                    relative to the time the logging module was loaded
                    (typically at application startup time)
%(thread)d          Thread ID (if available)
%(threadName)s      Thread name (if available)
%(taskName)s        Task name (if available)
%(process)d         Process ID (if available)
%(message)s         The result of record.getMessage(), computed just as
                    the record is emitted</p>
</div>


                            <div id="Formatter.__init__" class="classattr">
                                        <input id="Formatter.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Formatter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">fmt</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">datefmt</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">style</span><span class="o">=</span><span class="s1">&#39;%&#39;</span>, </span><span class="param"><span class="n">validate</span><span class="o">=</span><span class="kc">True</span>, </span><span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">defaults</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="Formatter.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Formatter.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Formatter.__init__-593"><a href="#Formatter.__init__-593"><span class="linenos">593</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">datefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;%&#39;</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
</span><span id="Formatter.__init__-594"><a href="#Formatter.__init__-594"><span class="linenos">594</span></a>                 <span class="n">defaults</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Formatter.__init__-595"><a href="#Formatter.__init__-595"><span class="linenos">595</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter.__init__-596"><a href="#Formatter.__init__-596"><span class="linenos">596</span></a><span class="sd">        Initialize the formatter with specified format strings.</span>
</span><span id="Formatter.__init__-597"><a href="#Formatter.__init__-597"><span class="linenos">597</span></a>
</span><span id="Formatter.__init__-598"><a href="#Formatter.__init__-598"><span class="linenos">598</span></a><span class="sd">        Initialize the formatter either with the specified format string, or a</span>
</span><span id="Formatter.__init__-599"><a href="#Formatter.__init__-599"><span class="linenos">599</span></a><span class="sd">        default as described above. Allow for specialized date formatting with</span>
</span><span id="Formatter.__init__-600"><a href="#Formatter.__init__-600"><span class="linenos">600</span></a><span class="sd">        the optional datefmt argument. If datefmt is omitted, you get an</span>
</span><span id="Formatter.__init__-601"><a href="#Formatter.__init__-601"><span class="linenos">601</span></a><span class="sd">        ISO8601-like (or RFC 3339-like) format.</span>
</span><span id="Formatter.__init__-602"><a href="#Formatter.__init__-602"><span class="linenos">602</span></a>
</span><span id="Formatter.__init__-603"><a href="#Formatter.__init__-603"><span class="linenos">603</span></a><span class="sd">        Use a style parameter of &#39;%&#39;, &#39;{&#39; or &#39;$&#39; to specify that you want to</span>
</span><span id="Formatter.__init__-604"><a href="#Formatter.__init__-604"><span class="linenos">604</span></a><span class="sd">        use one of %-formatting, :meth:`str.format` (``{}``) formatting or</span>
</span><span id="Formatter.__init__-605"><a href="#Formatter.__init__-605"><span class="linenos">605</span></a><span class="sd">        :class:`string.Template` formatting in your format string.</span>
</span><span id="Formatter.__init__-606"><a href="#Formatter.__init__-606"><span class="linenos">606</span></a>
</span><span id="Formatter.__init__-607"><a href="#Formatter.__init__-607"><span class="linenos">607</span></a><span class="sd">        .. versionchanged:: 3.2</span>
</span><span id="Formatter.__init__-608"><a href="#Formatter.__init__-608"><span class="linenos">608</span></a><span class="sd">           Added the ``style`` parameter.</span>
</span><span id="Formatter.__init__-609"><a href="#Formatter.__init__-609"><span class="linenos">609</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter.__init__-610"><a href="#Formatter.__init__-610"><span class="linenos">610</span></a>        <span class="k">if</span> <span class="n">style</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_STYLES</span><span class="p">:</span>
</span><span id="Formatter.__init__-611"><a href="#Formatter.__init__-611"><span class="linenos">611</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Style must be one of: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="Formatter.__init__-612"><a href="#Formatter.__init__-612"><span class="linenos">612</span></a>                             <span class="n">_STYLES</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="Formatter.__init__-613"><a href="#Formatter.__init__-613"><span class="linenos">613</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_style</span> <span class="o">=</span> <span class="n">_STYLES</span><span class="p">[</span><span class="n">style</span><span class="p">][</span><span class="mi">0</span><span class="p">](</span><span class="n">fmt</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="n">defaults</span><span class="p">)</span>
</span><span id="Formatter.__init__-614"><a href="#Formatter.__init__-614"><span class="linenos">614</span></a>        <span class="k">if</span> <span class="n">validate</span><span class="p">:</span>
</span><span id="Formatter.__init__-615"><a href="#Formatter.__init__-615"><span class="linenos">615</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</span><span id="Formatter.__init__-616"><a href="#Formatter.__init__-616"><span class="linenos">616</span></a>
</span><span id="Formatter.__init__-617"><a href="#Formatter.__init__-617"><span class="linenos">617</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">_fmt</span>
</span><span id="Formatter.__init__-618"><a href="#Formatter.__init__-618"><span class="linenos">618</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">datefmt</span> <span class="o">=</span> <span class="n">datefmt</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the formatter with specified format strings.</p>

<p>Initialize the formatter either with the specified format string, or a
default as described above. Allow for specialized date formatting with
the optional datefmt argument. If datefmt is omitted, you get an
ISO8601-like (or RFC 3339-like) format.</p>

<p>Use a style parameter of '%', '{' or '$' to specify that you want to
use one of %-formatting, <code>str.format()</code> (<code>{}</code>) formatting or
<code>string.Template</code> formatting in your format string.</p>

<p><em>Changed in version 3.2:</em>
Added the <code>style</code> parameter.</p>
</div>


                            </div>
                            <div id="Formatter.converter" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">converter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#Formatter.converter"></a>
    
            <div class="docstring"><p>localtime([seconds]) -> (tm_year,tm_mon,tm_mday,tm_hour,tm_min,
                          tm_sec,tm_wday,tm_yday,tm_isdst)</p>

<p>Convert seconds since the Epoch to a time tuple expressing local time.
When 'seconds' is not passed in, convert the current time instead.</p>
</div>


                            </div>
                            <div id="Formatter.datefmt" class="classattr">
                                <div class="attr variable">
            <span class="name">datefmt</span>

        
    </div>
    <a class="headerlink" href="#Formatter.datefmt"></a>
    
    

                            </div>
                            <div id="Formatter.default_time_format" class="classattr">
                                <div class="attr variable">
            <span class="name">default_time_format</span>        =
<span class="default_value">&#39;%Y-%m-%d %H:%M:%S&#39;</span>

        
    </div>
    <a class="headerlink" href="#Formatter.default_time_format"></a>
    
    

                            </div>
                            <div id="Formatter.default_msec_format" class="classattr">
                                <div class="attr variable">
            <span class="name">default_msec_format</span>        =
<span class="default_value">&#39;%s,%03d&#39;</span>

        
    </div>
    <a class="headerlink" href="#Formatter.default_msec_format"></a>
    
    

                            </div>
                            <div id="Formatter.formatTime" class="classattr">
                                        <input id="Formatter.formatTime-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">formatTime</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span>, </span><span class="param"><span class="n">datefmt</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Formatter.formatTime-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Formatter.formatTime"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Formatter.formatTime-623"><a href="#Formatter.formatTime-623"><span class="linenos">623</span></a>    <span class="k">def</span> <span class="nf">formatTime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">,</span> <span class="n">datefmt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Formatter.formatTime-624"><a href="#Formatter.formatTime-624"><span class="linenos">624</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter.formatTime-625"><a href="#Formatter.formatTime-625"><span class="linenos">625</span></a><span class="sd">        Return the creation time of the specified LogRecord as formatted text.</span>
</span><span id="Formatter.formatTime-626"><a href="#Formatter.formatTime-626"><span class="linenos">626</span></a>
</span><span id="Formatter.formatTime-627"><a href="#Formatter.formatTime-627"><span class="linenos">627</span></a><span class="sd">        This method should be called from format() by a formatter which</span>
</span><span id="Formatter.formatTime-628"><a href="#Formatter.formatTime-628"><span class="linenos">628</span></a><span class="sd">        wants to make use of a formatted time. This method can be overridden</span>
</span><span id="Formatter.formatTime-629"><a href="#Formatter.formatTime-629"><span class="linenos">629</span></a><span class="sd">        in formatters to provide for any specific requirement, but the</span>
</span><span id="Formatter.formatTime-630"><a href="#Formatter.formatTime-630"><span class="linenos">630</span></a><span class="sd">        basic behaviour is as follows: if datefmt (a string) is specified,</span>
</span><span id="Formatter.formatTime-631"><a href="#Formatter.formatTime-631"><span class="linenos">631</span></a><span class="sd">        it is used with time.strftime() to format the creation time of the</span>
</span><span id="Formatter.formatTime-632"><a href="#Formatter.formatTime-632"><span class="linenos">632</span></a><span class="sd">        record. Otherwise, an ISO8601-like (or RFC 3339-like) format is used.</span>
</span><span id="Formatter.formatTime-633"><a href="#Formatter.formatTime-633"><span class="linenos">633</span></a><span class="sd">        The resulting string is returned. This function uses a user-configurable</span>
</span><span id="Formatter.formatTime-634"><a href="#Formatter.formatTime-634"><span class="linenos">634</span></a><span class="sd">        function to convert the creation time to a tuple. By default,</span>
</span><span id="Formatter.formatTime-635"><a href="#Formatter.formatTime-635"><span class="linenos">635</span></a><span class="sd">        time.localtime() is used; to change this for a particular formatter</span>
</span><span id="Formatter.formatTime-636"><a href="#Formatter.formatTime-636"><span class="linenos">636</span></a><span class="sd">        instance, set the &#39;converter&#39; attribute to a function with the same</span>
</span><span id="Formatter.formatTime-637"><a href="#Formatter.formatTime-637"><span class="linenos">637</span></a><span class="sd">        signature as time.localtime() or time.gmtime(). To change it for all</span>
</span><span id="Formatter.formatTime-638"><a href="#Formatter.formatTime-638"><span class="linenos">638</span></a><span class="sd">        formatters, for example if you want all logging times to be shown in GMT,</span>
</span><span id="Formatter.formatTime-639"><a href="#Formatter.formatTime-639"><span class="linenos">639</span></a><span class="sd">        set the &#39;converter&#39; attribute in the Formatter class.</span>
</span><span id="Formatter.formatTime-640"><a href="#Formatter.formatTime-640"><span class="linenos">640</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter.formatTime-641"><a href="#Formatter.formatTime-641"><span class="linenos">641</span></a>        <span class="n">ct</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">converter</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">created</span><span class="p">)</span>
</span><span id="Formatter.formatTime-642"><a href="#Formatter.formatTime-642"><span class="linenos">642</span></a>        <span class="k">if</span> <span class="n">datefmt</span><span class="p">:</span>
</span><span id="Formatter.formatTime-643"><a href="#Formatter.formatTime-643"><span class="linenos">643</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">datefmt</span><span class="p">,</span> <span class="n">ct</span><span class="p">)</span>
</span><span id="Formatter.formatTime-644"><a href="#Formatter.formatTime-644"><span class="linenos">644</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Formatter.formatTime-645"><a href="#Formatter.formatTime-645"><span class="linenos">645</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_time_format</span><span class="p">,</span> <span class="n">ct</span><span class="p">)</span>
</span><span id="Formatter.formatTime-646"><a href="#Formatter.formatTime-646"><span class="linenos">646</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_msec_format</span><span class="p">:</span>
</span><span id="Formatter.formatTime-647"><a href="#Formatter.formatTime-647"><span class="linenos">647</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_msec_format</span> <span class="o">%</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">record</span><span class="o">.</span><span class="n">msecs</span><span class="p">)</span>
</span><span id="Formatter.formatTime-648"><a href="#Formatter.formatTime-648"><span class="linenos">648</span></a>        <span class="k">return</span> <span class="n">s</span>
</span></pre></div>


            <div class="docstring"><p>Return the creation time of the specified LogRecord as formatted text.</p>

<p>This method should be called from format() by a formatter which
wants to make use of a formatted time. This method can be overridden
in formatters to provide for any specific requirement, but the
basic behaviour is as follows: if datefmt (a string) is specified,
it is used with time.strftime() to format the creation time of the
record. Otherwise, an ISO8601-like (or RFC 3339-like) format is used.
The resulting string is returned. This function uses a user-configurable
function to convert the creation time to a tuple. By default,
time.localtime() is used; to change this for a particular formatter
instance, set the 'converter' attribute to a function with the same
signature as time.localtime() or time.gmtime(). To change it for all
formatters, for example if you want all logging times to be shown in GMT,
set the 'converter' attribute in the Formatter class.</p>
</div>


                            </div>
                            <div id="Formatter.formatException" class="classattr">
                                        <input id="Formatter.formatException-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">formatException</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">ei</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Formatter.formatException-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Formatter.formatException"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Formatter.formatException-650"><a href="#Formatter.formatException-650"><span class="linenos">650</span></a>    <span class="k">def</span> <span class="nf">formatException</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ei</span><span class="p">):</span>
</span><span id="Formatter.formatException-651"><a href="#Formatter.formatException-651"><span class="linenos">651</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter.formatException-652"><a href="#Formatter.formatException-652"><span class="linenos">652</span></a><span class="sd">        Format and return the specified exception information as a string.</span>
</span><span id="Formatter.formatException-653"><a href="#Formatter.formatException-653"><span class="linenos">653</span></a>
</span><span id="Formatter.formatException-654"><a href="#Formatter.formatException-654"><span class="linenos">654</span></a><span class="sd">        This default implementation just uses</span>
</span><span id="Formatter.formatException-655"><a href="#Formatter.formatException-655"><span class="linenos">655</span></a><span class="sd">        traceback.print_exception()</span>
</span><span id="Formatter.formatException-656"><a href="#Formatter.formatException-656"><span class="linenos">656</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter.formatException-657"><a href="#Formatter.formatException-657"><span class="linenos">657</span></a>        <span class="n">sio</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
</span><span id="Formatter.formatException-658"><a href="#Formatter.formatException-658"><span class="linenos">658</span></a>        <span class="n">tb</span> <span class="o">=</span> <span class="n">ei</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="Formatter.formatException-659"><a href="#Formatter.formatException-659"><span class="linenos">659</span></a>        <span class="c1"># See issues #9427, #1553375. Commented out for now.</span>
</span><span id="Formatter.formatException-660"><a href="#Formatter.formatException-660"><span class="linenos">660</span></a>        <span class="c1">#if getattr(self, &#39;fullstack&#39;, False):</span>
</span><span id="Formatter.formatException-661"><a href="#Formatter.formatException-661"><span class="linenos">661</span></a>        <span class="c1">#    traceback.print_stack(tb.tb_frame.f_back, file=sio)</span>
</span><span id="Formatter.formatException-662"><a href="#Formatter.formatException-662"><span class="linenos">662</span></a>        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exception</span><span class="p">(</span><span class="n">ei</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ei</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tb</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sio</span><span class="p">)</span>
</span><span id="Formatter.formatException-663"><a href="#Formatter.formatException-663"><span class="linenos">663</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="Formatter.formatException-664"><a href="#Formatter.formatException-664"><span class="linenos">664</span></a>        <span class="n">sio</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Formatter.formatException-665"><a href="#Formatter.formatException-665"><span class="linenos">665</span></a>        <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="Formatter.formatException-666"><a href="#Formatter.formatException-666"><span class="linenos">666</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Formatter.formatException-667"><a href="#Formatter.formatException-667"><span class="linenos">667</span></a>        <span class="k">return</span> <span class="n">s</span>
</span></pre></div>


            <div class="docstring"><p>Format and return the specified exception information as a string.</p>

<p>This default implementation just uses
traceback.print_exception()</p>
</div>


                            </div>
                            <div id="Formatter.usesTime" class="classattr">
                                        <input id="Formatter.usesTime-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">usesTime</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Formatter.usesTime-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Formatter.usesTime"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Formatter.usesTime-669"><a href="#Formatter.usesTime-669"><span class="linenos">669</span></a>    <span class="k">def</span> <span class="nf">usesTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Formatter.usesTime-670"><a href="#Formatter.usesTime-670"><span class="linenos">670</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter.usesTime-671"><a href="#Formatter.usesTime-671"><span class="linenos">671</span></a><span class="sd">        Check if the format uses the creation time of the record.</span>
</span><span id="Formatter.usesTime-672"><a href="#Formatter.usesTime-672"><span class="linenos">672</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter.usesTime-673"><a href="#Formatter.usesTime-673"><span class="linenos">673</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">usesTime</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Check if the format uses the creation time of the record.</p>
</div>


                            </div>
                            <div id="Formatter.formatMessage" class="classattr">
                                        <input id="Formatter.formatMessage-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">formatMessage</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Formatter.formatMessage-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Formatter.formatMessage"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Formatter.formatMessage-675"><a href="#Formatter.formatMessage-675"><span class="linenos">675</span></a>    <span class="k">def</span> <span class="nf">formatMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Formatter.formatMessage-676"><a href="#Formatter.formatMessage-676"><span class="linenos">676</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Formatter.formatStack" class="classattr">
                                        <input id="Formatter.formatStack-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">formatStack</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">stack_info</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Formatter.formatStack-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Formatter.formatStack"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Formatter.formatStack-678"><a href="#Formatter.formatStack-678"><span class="linenos">678</span></a>    <span class="k">def</span> <span class="nf">formatStack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_info</span><span class="p">):</span>
</span><span id="Formatter.formatStack-679"><a href="#Formatter.formatStack-679"><span class="linenos">679</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter.formatStack-680"><a href="#Formatter.formatStack-680"><span class="linenos">680</span></a><span class="sd">        This method is provided as an extension point for specialized</span>
</span><span id="Formatter.formatStack-681"><a href="#Formatter.formatStack-681"><span class="linenos">681</span></a><span class="sd">        formatting of stack information.</span>
</span><span id="Formatter.formatStack-682"><a href="#Formatter.formatStack-682"><span class="linenos">682</span></a>
</span><span id="Formatter.formatStack-683"><a href="#Formatter.formatStack-683"><span class="linenos">683</span></a><span class="sd">        The input data is a string as returned from a call to</span>
</span><span id="Formatter.formatStack-684"><a href="#Formatter.formatStack-684"><span class="linenos">684</span></a><span class="sd">        :func:`traceback.print_stack`, but with the last trailing newline</span>
</span><span id="Formatter.formatStack-685"><a href="#Formatter.formatStack-685"><span class="linenos">685</span></a><span class="sd">        removed.</span>
</span><span id="Formatter.formatStack-686"><a href="#Formatter.formatStack-686"><span class="linenos">686</span></a>
</span><span id="Formatter.formatStack-687"><a href="#Formatter.formatStack-687"><span class="linenos">687</span></a><span class="sd">        The base implementation just returns the value passed in.</span>
</span><span id="Formatter.formatStack-688"><a href="#Formatter.formatStack-688"><span class="linenos">688</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter.formatStack-689"><a href="#Formatter.formatStack-689"><span class="linenos">689</span></a>        <span class="k">return</span> <span class="n">stack_info</span>
</span></pre></div>


            <div class="docstring"><p>This method is provided as an extension point for specialized
formatting of stack information.</p>

<p>The input data is a string as returned from a call to
<code>traceback.print_stack()</code>, but with the last trailing newline
removed.</p>

<p>The base implementation just returns the value passed in.</p>
</div>


                            </div>
                            <div id="Formatter.format" class="classattr">
                                        <input id="Formatter.format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Formatter.format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Formatter.format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Formatter.format-691"><a href="#Formatter.format-691"><span class="linenos">691</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Formatter.format-692"><a href="#Formatter.format-692"><span class="linenos">692</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Formatter.format-693"><a href="#Formatter.format-693"><span class="linenos">693</span></a><span class="sd">        Format the specified record as text.</span>
</span><span id="Formatter.format-694"><a href="#Formatter.format-694"><span class="linenos">694</span></a>
</span><span id="Formatter.format-695"><a href="#Formatter.format-695"><span class="linenos">695</span></a><span class="sd">        The record&#39;s attribute dictionary is used as the operand to a</span>
</span><span id="Formatter.format-696"><a href="#Formatter.format-696"><span class="linenos">696</span></a><span class="sd">        string formatting operation which yields the returned string.</span>
</span><span id="Formatter.format-697"><a href="#Formatter.format-697"><span class="linenos">697</span></a><span class="sd">        Before formatting the dictionary, a couple of preparatory steps</span>
</span><span id="Formatter.format-698"><a href="#Formatter.format-698"><span class="linenos">698</span></a><span class="sd">        are carried out. The message attribute of the record is computed</span>
</span><span id="Formatter.format-699"><a href="#Formatter.format-699"><span class="linenos">699</span></a><span class="sd">        using LogRecord.getMessage(). If the formatting string uses the</span>
</span><span id="Formatter.format-700"><a href="#Formatter.format-700"><span class="linenos">700</span></a><span class="sd">        time (as determined by a call to usesTime(), formatTime() is</span>
</span><span id="Formatter.format-701"><a href="#Formatter.format-701"><span class="linenos">701</span></a><span class="sd">        called to format the event time. If there is exception information,</span>
</span><span id="Formatter.format-702"><a href="#Formatter.format-702"><span class="linenos">702</span></a><span class="sd">        it is formatted using formatException() and appended to the message.</span>
</span><span id="Formatter.format-703"><a href="#Formatter.format-703"><span class="linenos">703</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Formatter.format-704"><a href="#Formatter.format-704"><span class="linenos">704</span></a>        <span class="n">record</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">getMessage</span><span class="p">()</span>
</span><span id="Formatter.format-705"><a href="#Formatter.format-705"><span class="linenos">705</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">usesTime</span><span class="p">():</span>
</span><span id="Formatter.format-706"><a href="#Formatter.format-706"><span class="linenos">706</span></a>            <span class="n">record</span><span class="o">.</span><span class="n">asctime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatTime</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">datefmt</span><span class="p">)</span>
</span><span id="Formatter.format-707"><a href="#Formatter.format-707"><span class="linenos">707</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatMessage</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Formatter.format-708"><a href="#Formatter.format-708"><span class="linenos">708</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_info</span><span class="p">:</span>
</span><span id="Formatter.format-709"><a href="#Formatter.format-709"><span class="linenos">709</span></a>            <span class="c1"># Cache the traceback text to avoid converting it multiple times</span>
</span><span id="Formatter.format-710"><a href="#Formatter.format-710"><span class="linenos">710</span></a>            <span class="c1"># (it&#39;s constant anyway)</span>
</span><span id="Formatter.format-711"><a href="#Formatter.format-711"><span class="linenos">711</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span><span class="p">:</span>
</span><span id="Formatter.format-712"><a href="#Formatter.format-712"><span class="linenos">712</span></a>                <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatException</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">exc_info</span><span class="p">)</span>
</span><span id="Formatter.format-713"><a href="#Formatter.format-713"><span class="linenos">713</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span><span class="p">:</span>
</span><span id="Formatter.format-714"><a href="#Formatter.format-714"><span class="linenos">714</span></a>            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="Formatter.format-715"><a href="#Formatter.format-715"><span class="linenos">715</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Formatter.format-716"><a href="#Formatter.format-716"><span class="linenos">716</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">exc_text</span>
</span><span id="Formatter.format-717"><a href="#Formatter.format-717"><span class="linenos">717</span></a>        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">stack_info</span><span class="p">:</span>
</span><span id="Formatter.format-718"><a href="#Formatter.format-718"><span class="linenos">718</span></a>            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="Formatter.format-719"><a href="#Formatter.format-719"><span class="linenos">719</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Formatter.format-720"><a href="#Formatter.format-720"><span class="linenos">720</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatStack</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">stack_info</span><span class="p">)</span>
</span><span id="Formatter.format-721"><a href="#Formatter.format-721"><span class="linenos">721</span></a>        <span class="k">return</span> <span class="n">s</span>
</span></pre></div>


            <div class="docstring"><p>Format the specified record as text.</p>

<p>The record's attribute dictionary is used as the operand to a
string formatting operation which yields the returned string.
Before formatting the dictionary, a couple of preparatory steps
are carried out. The message attribute of the record is computed
using <a href="#LogRecord.getMessage">LogRecord.getMessage()</a>. If the formatting string uses the
time (as determined by a call to usesTime(), formatTime() is
called to format the event time. If there is exception information,
it is formatted using formatException() and appended to the message.</p>
</div>


                            </div>
                </section>
                <section id="Handler">
                            <input id="Handler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Handler</span><wbr>(<span class="base"><a href="#Filterer">Filterer</a></span>):

                <label class="view-source-button" for="Handler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler-920"><a href="#Handler-920"><span class="linenos"> 920</span></a><span class="k">class</span> <span class="nc">Handler</span><span class="p">(</span><span class="n">Filterer</span><span class="p">):</span>
</span><span id="Handler-921"><a href="#Handler-921"><span class="linenos"> 921</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-922"><a href="#Handler-922"><span class="linenos"> 922</span></a><span class="sd">    Handler instances dispatch logging events to specific destinations.</span>
</span><span id="Handler-923"><a href="#Handler-923"><span class="linenos"> 923</span></a>
</span><span id="Handler-924"><a href="#Handler-924"><span class="linenos"> 924</span></a><span class="sd">    The base handler class. Acts as a placeholder which defines the Handler</span>
</span><span id="Handler-925"><a href="#Handler-925"><span class="linenos"> 925</span></a><span class="sd">    interface. Handlers can optionally use Formatter instances to format</span>
</span><span id="Handler-926"><a href="#Handler-926"><span class="linenos"> 926</span></a><span class="sd">    records as desired. By default, no formatter is specified; in this case,</span>
</span><span id="Handler-927"><a href="#Handler-927"><span class="linenos"> 927</span></a><span class="sd">    the &#39;raw&#39; message as determined by record.message is logged.</span>
</span><span id="Handler-928"><a href="#Handler-928"><span class="linenos"> 928</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Handler-929"><a href="#Handler-929"><span class="linenos"> 929</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">NOTSET</span><span class="p">):</span>
</span><span id="Handler-930"><a href="#Handler-930"><span class="linenos"> 930</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-931"><a href="#Handler-931"><span class="linenos"> 931</span></a><span class="sd">        Initializes the instance - basically setting the formatter to None</span>
</span><span id="Handler-932"><a href="#Handler-932"><span class="linenos"> 932</span></a><span class="sd">        and the filter list to empty.</span>
</span><span id="Handler-933"><a href="#Handler-933"><span class="linenos"> 933</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-934"><a href="#Handler-934"><span class="linenos"> 934</span></a>        <span class="n">Filterer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Handler-935"><a href="#Handler-935"><span class="linenos"> 935</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Handler-936"><a href="#Handler-936"><span class="linenos"> 936</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="Handler-937"><a href="#Handler-937"><span class="linenos"> 937</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Handler-938"><a href="#Handler-938"><span class="linenos"> 938</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Handler-939"><a href="#Handler-939"><span class="linenos"> 939</span></a>        <span class="c1"># Add the handler to the global _handlerList (for cleanup on shutdown)</span>
</span><span id="Handler-940"><a href="#Handler-940"><span class="linenos"> 940</span></a>        <span class="n">_addHandlerRef</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Handler-941"><a href="#Handler-941"><span class="linenos"> 941</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">createLock</span><span class="p">()</span>
</span><span id="Handler-942"><a href="#Handler-942"><span class="linenos"> 942</span></a>
</span><span id="Handler-943"><a href="#Handler-943"><span class="linenos"> 943</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler-944"><a href="#Handler-944"><span class="linenos"> 944</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>
</span><span id="Handler-945"><a href="#Handler-945"><span class="linenos"> 945</span></a>
</span><span id="Handler-946"><a href="#Handler-946"><span class="linenos"> 946</span></a>    <span class="k">def</span> <span class="nf">set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="Handler-947"><a href="#Handler-947"><span class="linenos"> 947</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Handler-948"><a href="#Handler-948"><span class="linenos"> 948</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Handler-949"><a href="#Handler-949"><span class="linenos"> 949</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="n">_handlers</span><span class="p">:</span>
</span><span id="Handler-950"><a href="#Handler-950"><span class="linenos"> 950</span></a>                <span class="k">del</span> <span class="n">_handlers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span>
</span><span id="Handler-951"><a href="#Handler-951"><span class="linenos"> 951</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Handler-952"><a href="#Handler-952"><span class="linenos"> 952</span></a>            <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="Handler-953"><a href="#Handler-953"><span class="linenos"> 953</span></a>                <span class="n">_handlers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Handler-954"><a href="#Handler-954"><span class="linenos"> 954</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Handler-955"><a href="#Handler-955"><span class="linenos"> 955</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="Handler-956"><a href="#Handler-956"><span class="linenos"> 956</span></a>
</span><span id="Handler-957"><a href="#Handler-957"><span class="linenos"> 957</span></a>    <span class="n">name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_name</span><span class="p">,</span> <span class="n">set_name</span><span class="p">)</span>
</span><span id="Handler-958"><a href="#Handler-958"><span class="linenos"> 958</span></a>
</span><span id="Handler-959"><a href="#Handler-959"><span class="linenos"> 959</span></a>    <span class="k">def</span> <span class="nf">createLock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler-960"><a href="#Handler-960"><span class="linenos"> 960</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-961"><a href="#Handler-961"><span class="linenos"> 961</span></a><span class="sd">        Acquire a thread lock for serializing access to the underlying I/O.</span>
</span><span id="Handler-962"><a href="#Handler-962"><span class="linenos"> 962</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-963"><a href="#Handler-963"><span class="linenos"> 963</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="Handler-964"><a href="#Handler-964"><span class="linenos"> 964</span></a>        <span class="n">_register_at_fork_reinit_lock</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Handler-965"><a href="#Handler-965"><span class="linenos"> 965</span></a>
</span><span id="Handler-966"><a href="#Handler-966"><span class="linenos"> 966</span></a>    <span class="k">def</span> <span class="nf">_at_fork_reinit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler-967"><a href="#Handler-967"><span class="linenos"> 967</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">_at_fork_reinit</span><span class="p">()</span>
</span><span id="Handler-968"><a href="#Handler-968"><span class="linenos"> 968</span></a>
</span><span id="Handler-969"><a href="#Handler-969"><span class="linenos"> 969</span></a>    <span class="k">def</span> <span class="nf">acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler-970"><a href="#Handler-970"><span class="linenos"> 970</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-971"><a href="#Handler-971"><span class="linenos"> 971</span></a><span class="sd">        Acquire the I/O thread lock.</span>
</span><span id="Handler-972"><a href="#Handler-972"><span class="linenos"> 972</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-973"><a href="#Handler-973"><span class="linenos"> 973</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span><span id="Handler-974"><a href="#Handler-974"><span class="linenos"> 974</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="Handler-975"><a href="#Handler-975"><span class="linenos"> 975</span></a>
</span><span id="Handler-976"><a href="#Handler-976"><span class="linenos"> 976</span></a>    <span class="k">def</span> <span class="nf">release</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler-977"><a href="#Handler-977"><span class="linenos"> 977</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-978"><a href="#Handler-978"><span class="linenos"> 978</span></a><span class="sd">        Release the I/O thread lock.</span>
</span><span id="Handler-979"><a href="#Handler-979"><span class="linenos"> 979</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-980"><a href="#Handler-980"><span class="linenos"> 980</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span><span id="Handler-981"><a href="#Handler-981"><span class="linenos"> 981</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="Handler-982"><a href="#Handler-982"><span class="linenos"> 982</span></a>
</span><span id="Handler-983"><a href="#Handler-983"><span class="linenos"> 983</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="Handler-984"><a href="#Handler-984"><span class="linenos"> 984</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-985"><a href="#Handler-985"><span class="linenos"> 985</span></a><span class="sd">        Set the logging level of this handler.  level must be an int or a str.</span>
</span><span id="Handler-986"><a href="#Handler-986"><span class="linenos"> 986</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-987"><a href="#Handler-987"><span class="linenos"> 987</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="Handler-988"><a href="#Handler-988"><span class="linenos"> 988</span></a>
</span><span id="Handler-989"><a href="#Handler-989"><span class="linenos"> 989</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Handler-990"><a href="#Handler-990"><span class="linenos"> 990</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-991"><a href="#Handler-991"><span class="linenos"> 991</span></a><span class="sd">        Format the specified record.</span>
</span><span id="Handler-992"><a href="#Handler-992"><span class="linenos"> 992</span></a>
</span><span id="Handler-993"><a href="#Handler-993"><span class="linenos"> 993</span></a><span class="sd">        If a formatter is set, use it. Otherwise, use the default formatter</span>
</span><span id="Handler-994"><a href="#Handler-994"><span class="linenos"> 994</span></a><span class="sd">        for the module.</span>
</span><span id="Handler-995"><a href="#Handler-995"><span class="linenos"> 995</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-996"><a href="#Handler-996"><span class="linenos"> 996</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span><span class="p">:</span>
</span><span id="Handler-997"><a href="#Handler-997"><span class="linenos"> 997</span></a>            <span class="n">fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span>
</span><span id="Handler-998"><a href="#Handler-998"><span class="linenos"> 998</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Handler-999"><a href="#Handler-999"><span class="linenos"> 999</span></a>            <span class="n">fmt</span> <span class="o">=</span> <span class="n">_defaultFormatter</span>
</span><span id="Handler-1000"><a href="#Handler-1000"><span class="linenos">1000</span></a>        <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Handler-1001"><a href="#Handler-1001"><span class="linenos">1001</span></a>
</span><span id="Handler-1002"><a href="#Handler-1002"><span class="linenos">1002</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Handler-1003"><a href="#Handler-1003"><span class="linenos">1003</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-1004"><a href="#Handler-1004"><span class="linenos">1004</span></a><span class="sd">        Do whatever it takes to actually log the specified logging record.</span>
</span><span id="Handler-1005"><a href="#Handler-1005"><span class="linenos">1005</span></a>
</span><span id="Handler-1006"><a href="#Handler-1006"><span class="linenos">1006</span></a><span class="sd">        This version is intended to be implemented by subclasses and so</span>
</span><span id="Handler-1007"><a href="#Handler-1007"><span class="linenos">1007</span></a><span class="sd">        raises a NotImplementedError.</span>
</span><span id="Handler-1008"><a href="#Handler-1008"><span class="linenos">1008</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-1009"><a href="#Handler-1009"><span class="linenos">1009</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;emit must be implemented &#39;</span>
</span><span id="Handler-1010"><a href="#Handler-1010"><span class="linenos">1010</span></a>                                  <span class="s1">&#39;by Handler subclasses&#39;</span><span class="p">)</span>
</span><span id="Handler-1011"><a href="#Handler-1011"><span class="linenos">1011</span></a>
</span><span id="Handler-1012"><a href="#Handler-1012"><span class="linenos">1012</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Handler-1013"><a href="#Handler-1013"><span class="linenos">1013</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-1014"><a href="#Handler-1014"><span class="linenos">1014</span></a><span class="sd">        Conditionally emit the specified logging record.</span>
</span><span id="Handler-1015"><a href="#Handler-1015"><span class="linenos">1015</span></a>
</span><span id="Handler-1016"><a href="#Handler-1016"><span class="linenos">1016</span></a><span class="sd">        Emission depends on filters which may have been added to the handler.</span>
</span><span id="Handler-1017"><a href="#Handler-1017"><span class="linenos">1017</span></a><span class="sd">        Wrap the actual emission of the record with acquisition/release of</span>
</span><span id="Handler-1018"><a href="#Handler-1018"><span class="linenos">1018</span></a><span class="sd">        the I/O thread lock.</span>
</span><span id="Handler-1019"><a href="#Handler-1019"><span class="linenos">1019</span></a>
</span><span id="Handler-1020"><a href="#Handler-1020"><span class="linenos">1020</span></a><span class="sd">        Returns an instance of the log record that was emitted</span>
</span><span id="Handler-1021"><a href="#Handler-1021"><span class="linenos">1021</span></a><span class="sd">        if it passed all filters, otherwise a false value is returned.</span>
</span><span id="Handler-1022"><a href="#Handler-1022"><span class="linenos">1022</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-1023"><a href="#Handler-1023"><span class="linenos">1023</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Handler-1024"><a href="#Handler-1024"><span class="linenos">1024</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">LogRecord</span><span class="p">):</span>
</span><span id="Handler-1025"><a href="#Handler-1025"><span class="linenos">1025</span></a>            <span class="n">record</span> <span class="o">=</span> <span class="n">rv</span>
</span><span id="Handler-1026"><a href="#Handler-1026"><span class="linenos">1026</span></a>        <span class="k">if</span> <span class="n">rv</span><span class="p">:</span>
</span><span id="Handler-1027"><a href="#Handler-1027"><span class="linenos">1027</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="Handler-1028"><a href="#Handler-1028"><span class="linenos">1028</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Handler-1029"><a href="#Handler-1029"><span class="linenos">1029</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Handler-1030"><a href="#Handler-1030"><span class="linenos">1030</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="Handler-1031"><a href="#Handler-1031"><span class="linenos">1031</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="Handler-1032"><a href="#Handler-1032"><span class="linenos">1032</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span><span id="Handler-1033"><a href="#Handler-1033"><span class="linenos">1033</span></a>
</span><span id="Handler-1034"><a href="#Handler-1034"><span class="linenos">1034</span></a>    <span class="k">def</span> <span class="nf">setFormatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="p">):</span>
</span><span id="Handler-1035"><a href="#Handler-1035"><span class="linenos">1035</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-1036"><a href="#Handler-1036"><span class="linenos">1036</span></a><span class="sd">        Set the formatter for this handler.</span>
</span><span id="Handler-1037"><a href="#Handler-1037"><span class="linenos">1037</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-1038"><a href="#Handler-1038"><span class="linenos">1038</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">fmt</span>
</span><span id="Handler-1039"><a href="#Handler-1039"><span class="linenos">1039</span></a>
</span><span id="Handler-1040"><a href="#Handler-1040"><span class="linenos">1040</span></a>    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler-1041"><a href="#Handler-1041"><span class="linenos">1041</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-1042"><a href="#Handler-1042"><span class="linenos">1042</span></a><span class="sd">        Ensure all logging output has been flushed.</span>
</span><span id="Handler-1043"><a href="#Handler-1043"><span class="linenos">1043</span></a>
</span><span id="Handler-1044"><a href="#Handler-1044"><span class="linenos">1044</span></a><span class="sd">        This version does nothing and is intended to be implemented by</span>
</span><span id="Handler-1045"><a href="#Handler-1045"><span class="linenos">1045</span></a><span class="sd">        subclasses.</span>
</span><span id="Handler-1046"><a href="#Handler-1046"><span class="linenos">1046</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-1047"><a href="#Handler-1047"><span class="linenos">1047</span></a>        <span class="k">pass</span>
</span><span id="Handler-1048"><a href="#Handler-1048"><span class="linenos">1048</span></a>
</span><span id="Handler-1049"><a href="#Handler-1049"><span class="linenos">1049</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler-1050"><a href="#Handler-1050"><span class="linenos">1050</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-1051"><a href="#Handler-1051"><span class="linenos">1051</span></a><span class="sd">        Tidy up any resources used by the handler.</span>
</span><span id="Handler-1052"><a href="#Handler-1052"><span class="linenos">1052</span></a>
</span><span id="Handler-1053"><a href="#Handler-1053"><span class="linenos">1053</span></a><span class="sd">        This version removes the handler from an internal map of handlers,</span>
</span><span id="Handler-1054"><a href="#Handler-1054"><span class="linenos">1054</span></a><span class="sd">        _handlers, which is used for handler lookup by name. Subclasses</span>
</span><span id="Handler-1055"><a href="#Handler-1055"><span class="linenos">1055</span></a><span class="sd">        should ensure that this gets called from overridden close()</span>
</span><span id="Handler-1056"><a href="#Handler-1056"><span class="linenos">1056</span></a><span class="sd">        methods.</span>
</span><span id="Handler-1057"><a href="#Handler-1057"><span class="linenos">1057</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-1058"><a href="#Handler-1058"><span class="linenos">1058</span></a>        <span class="c1">#get the module data lock, as we&#39;re updating a shared structure.</span>
</span><span id="Handler-1059"><a href="#Handler-1059"><span class="linenos">1059</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Handler-1060"><a href="#Handler-1060"><span class="linenos">1060</span></a>        <span class="k">try</span><span class="p">:</span>    <span class="c1">#unlikely to raise an exception, but you never know...</span>
</span><span id="Handler-1061"><a href="#Handler-1061"><span class="linenos">1061</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Handler-1062"><a href="#Handler-1062"><span class="linenos">1062</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="n">_handlers</span><span class="p">:</span>
</span><span id="Handler-1063"><a href="#Handler-1063"><span class="linenos">1063</span></a>                <span class="k">del</span> <span class="n">_handlers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span>
</span><span id="Handler-1064"><a href="#Handler-1064"><span class="linenos">1064</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Handler-1065"><a href="#Handler-1065"><span class="linenos">1065</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="Handler-1066"><a href="#Handler-1066"><span class="linenos">1066</span></a>
</span><span id="Handler-1067"><a href="#Handler-1067"><span class="linenos">1067</span></a>    <span class="k">def</span> <span class="nf">handleError</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Handler-1068"><a href="#Handler-1068"><span class="linenos">1068</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler-1069"><a href="#Handler-1069"><span class="linenos">1069</span></a><span class="sd">        Handle errors which occur during an emit() call.</span>
</span><span id="Handler-1070"><a href="#Handler-1070"><span class="linenos">1070</span></a>
</span><span id="Handler-1071"><a href="#Handler-1071"><span class="linenos">1071</span></a><span class="sd">        This method should be called from handlers when an exception is</span>
</span><span id="Handler-1072"><a href="#Handler-1072"><span class="linenos">1072</span></a><span class="sd">        encountered during an emit() call. If raiseExceptions is false,</span>
</span><span id="Handler-1073"><a href="#Handler-1073"><span class="linenos">1073</span></a><span class="sd">        exceptions get silently ignored. This is what is mostly wanted</span>
</span><span id="Handler-1074"><a href="#Handler-1074"><span class="linenos">1074</span></a><span class="sd">        for a logging system - most users will not care about errors in</span>
</span><span id="Handler-1075"><a href="#Handler-1075"><span class="linenos">1075</span></a><span class="sd">        the logging system, they are more interested in application errors.</span>
</span><span id="Handler-1076"><a href="#Handler-1076"><span class="linenos">1076</span></a><span class="sd">        You could, however, replace this with a custom handler if you wish.</span>
</span><span id="Handler-1077"><a href="#Handler-1077"><span class="linenos">1077</span></a><span class="sd">        The record which was being processed is passed in to this method.</span>
</span><span id="Handler-1078"><a href="#Handler-1078"><span class="linenos">1078</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler-1079"><a href="#Handler-1079"><span class="linenos">1079</span></a>        <span class="k">if</span> <span class="n">raiseExceptions</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">:</span>  <span class="c1"># see issue 13807</span>
</span><span id="Handler-1080"><a href="#Handler-1080"><span class="linenos">1080</span></a>            <span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="Handler-1081"><a href="#Handler-1081"><span class="linenos">1081</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Handler-1082"><a href="#Handler-1082"><span class="linenos">1082</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;--- Logging error ---</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="Handler-1083"><a href="#Handler-1083"><span class="linenos">1083</span></a>                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exception</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</span><span id="Handler-1084"><a href="#Handler-1084"><span class="linenos">1084</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Call stack:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="Handler-1085"><a href="#Handler-1085"><span class="linenos">1085</span></a>                <span class="c1"># Walk the stack frame up until we&#39;re out of logging,</span>
</span><span id="Handler-1086"><a href="#Handler-1086"><span class="linenos">1086</span></a>                <span class="c1"># so as to print the calling context.</span>
</span><span id="Handler-1087"><a href="#Handler-1087"><span class="linenos">1087</span></a>                <span class="n">frame</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">tb_frame</span>
</span><span id="Handler-1088"><a href="#Handler-1088"><span class="linenos">1088</span></a>                <span class="k">while</span> <span class="p">(</span><span class="n">frame</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span><span class="p">)</span> <span class="o">==</span>
</span><span id="Handler-1089"><a href="#Handler-1089"><span class="linenos">1089</span></a>                       <span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
</span><span id="Handler-1090"><a href="#Handler-1090"><span class="linenos">1090</span></a>                    <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_back</span>
</span><span id="Handler-1091"><a href="#Handler-1091"><span class="linenos">1091</span></a>                <span class="k">if</span> <span class="n">frame</span><span class="p">:</span>
</span><span id="Handler-1092"><a href="#Handler-1092"><span class="linenos">1092</span></a>                    <span class="n">traceback</span><span class="o">.</span><span class="n">print_stack</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</span><span id="Handler-1093"><a href="#Handler-1093"><span class="linenos">1093</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Handler-1094"><a href="#Handler-1094"><span class="linenos">1094</span></a>                    <span class="c1"># couldn&#39;t find the right stack frame, for some reason</span>
</span><span id="Handler-1095"><a href="#Handler-1095"><span class="linenos">1095</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Logged from file </span><span class="si">%s</span><span class="s1">, line </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
</span><span id="Handler-1096"><a href="#Handler-1096"><span class="linenos">1096</span></a>                                     <span class="n">record</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="n">record</span><span class="o">.</span><span class="n">lineno</span><span class="p">))</span>
</span><span id="Handler-1097"><a href="#Handler-1097"><span class="linenos">1097</span></a>                <span class="c1"># Issue 18671: output logging message and arguments</span>
</span><span id="Handler-1098"><a href="#Handler-1098"><span class="linenos">1098</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="Handler-1099"><a href="#Handler-1099"><span class="linenos">1099</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Message: </span><span class="si">%r</span><span class="se">\n</span><span class="s1">&#39;</span>
</span><span id="Handler-1100"><a href="#Handler-1100"><span class="linenos">1100</span></a>                                     <span class="s1">&#39;Arguments: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">msg</span><span class="p">,</span>
</span><span id="Handler-1101"><a href="#Handler-1101"><span class="linenos">1101</span></a>                                                          <span class="n">record</span><span class="o">.</span><span class="n">args</span><span class="p">))</span>
</span><span id="Handler-1102"><a href="#Handler-1102"><span class="linenos">1102</span></a>                <span class="k">except</span> <span class="ne">RecursionError</span><span class="p">:</span>  <span class="c1"># See issue 36272</span>
</span><span id="Handler-1103"><a href="#Handler-1103"><span class="linenos">1103</span></a>                    <span class="k">raise</span>
</span><span id="Handler-1104"><a href="#Handler-1104"><span class="linenos">1104</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="Handler-1105"><a href="#Handler-1105"><span class="linenos">1105</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Unable to print the message and arguments&#39;</span>
</span><span id="Handler-1106"><a href="#Handler-1106"><span class="linenos">1106</span></a>                                     <span class="s1">&#39; - possible formatting error.</span><span class="se">\n</span><span class="s1">Use the&#39;</span>
</span><span id="Handler-1107"><a href="#Handler-1107"><span class="linenos">1107</span></a>                                     <span class="s1">&#39; traceback above to help find the error.</span><span class="se">\n</span><span class="s1">&#39;</span>
</span><span id="Handler-1108"><a href="#Handler-1108"><span class="linenos">1108</span></a>                                    <span class="p">)</span>
</span><span id="Handler-1109"><a href="#Handler-1109"><span class="linenos">1109</span></a>            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span> <span class="c1">#pragma: no cover</span>
</span><span id="Handler-1110"><a href="#Handler-1110"><span class="linenos">1110</span></a>                <span class="k">pass</span>    <span class="c1"># see issue 5971</span>
</span><span id="Handler-1111"><a href="#Handler-1111"><span class="linenos">1111</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="Handler-1112"><a href="#Handler-1112"><span class="linenos">1112</span></a>                <span class="k">del</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span>
</span><span id="Handler-1113"><a href="#Handler-1113"><span class="linenos">1113</span></a>
</span><span id="Handler-1114"><a href="#Handler-1114"><span class="linenos">1114</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler-1115"><a href="#Handler-1115"><span class="linenos">1115</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
</span><span id="Handler-1116"><a href="#Handler-1116"><span class="linenos">1116</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Handler instances dispatch logging events to specific destinations.</p>

<p>The base handler class. Acts as a placeholder which defines the Handler
interface. Handlers can optionally use Formatter instances to format
records as desired. By default, no formatter is specified; in this case,
the 'raw' message as determined by record.message is logged.</p>
</div>


                            <div id="Handler.__init__" class="classattr">
                                        <input id="Handler.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Handler</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">level</span><span class="o">=</span><span class="mi">0</span></span>)</span>

                <label class="view-source-button" for="Handler.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.__init__-929"><a href="#Handler.__init__-929"><span class="linenos">929</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">NOTSET</span><span class="p">):</span>
</span><span id="Handler.__init__-930"><a href="#Handler.__init__-930"><span class="linenos">930</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.__init__-931"><a href="#Handler.__init__-931"><span class="linenos">931</span></a><span class="sd">        Initializes the instance - basically setting the formatter to None</span>
</span><span id="Handler.__init__-932"><a href="#Handler.__init__-932"><span class="linenos">932</span></a><span class="sd">        and the filter list to empty.</span>
</span><span id="Handler.__init__-933"><a href="#Handler.__init__-933"><span class="linenos">933</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.__init__-934"><a href="#Handler.__init__-934"><span class="linenos">934</span></a>        <span class="n">Filterer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Handler.__init__-935"><a href="#Handler.__init__-935"><span class="linenos">935</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Handler.__init__-936"><a href="#Handler.__init__-936"><span class="linenos">936</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="Handler.__init__-937"><a href="#Handler.__init__-937"><span class="linenos">937</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Handler.__init__-938"><a href="#Handler.__init__-938"><span class="linenos">938</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Handler.__init__-939"><a href="#Handler.__init__-939"><span class="linenos">939</span></a>        <span class="c1"># Add the handler to the global _handlerList (for cleanup on shutdown)</span>
</span><span id="Handler.__init__-940"><a href="#Handler.__init__-940"><span class="linenos">940</span></a>        <span class="n">_addHandlerRef</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Handler.__init__-941"><a href="#Handler.__init__-941"><span class="linenos">941</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">createLock</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Initializes the instance - basically setting the formatter to None
and the filter list to empty.</p>
</div>


                            </div>
                            <div id="Handler.level" class="classattr">
                                <div class="attr variable">
            <span class="name">level</span>

        
    </div>
    <a class="headerlink" href="#Handler.level"></a>
    
    

                            </div>
                            <div id="Handler.formatter" class="classattr">
                                <div class="attr variable">
            <span class="name">formatter</span>

        
    </div>
    <a class="headerlink" href="#Handler.formatter"></a>
    
    

                            </div>
                            <div id="Handler.get_name" class="classattr">
                                        <input id="Handler.get_name-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_name</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.get_name-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.get_name"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.get_name-943"><a href="#Handler.get_name-943"><span class="linenos">943</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler.get_name-944"><a href="#Handler.get_name-944"><span class="linenos">944</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>
</span></pre></div>


    

                            </div>
                            <div id="Handler.set_name" class="classattr">
                                        <input id="Handler.set_name-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_name</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.set_name-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.set_name"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.set_name-946"><a href="#Handler.set_name-946"><span class="linenos">946</span></a>    <span class="k">def</span> <span class="nf">set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="Handler.set_name-947"><a href="#Handler.set_name-947"><span class="linenos">947</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Handler.set_name-948"><a href="#Handler.set_name-948"><span class="linenos">948</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Handler.set_name-949"><a href="#Handler.set_name-949"><span class="linenos">949</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="n">_handlers</span><span class="p">:</span>
</span><span id="Handler.set_name-950"><a href="#Handler.set_name-950"><span class="linenos">950</span></a>                <span class="k">del</span> <span class="n">_handlers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span>
</span><span id="Handler.set_name-951"><a href="#Handler.set_name-951"><span class="linenos">951</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Handler.set_name-952"><a href="#Handler.set_name-952"><span class="linenos">952</span></a>            <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="Handler.set_name-953"><a href="#Handler.set_name-953"><span class="linenos">953</span></a>                <span class="n">_handlers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Handler.set_name-954"><a href="#Handler.set_name-954"><span class="linenos">954</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Handler.set_name-955"><a href="#Handler.set_name-955"><span class="linenos">955</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Handler.name" class="classattr">
                                        <input id="Handler.name-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">name</span>

                <label class="view-source-button" for="Handler.name-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.name"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.name-943"><a href="#Handler.name-943"><span class="linenos">943</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler.name-944"><a href="#Handler.name-944"><span class="linenos">944</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>
</span></pre></div>


    

                            </div>
                            <div id="Handler.createLock" class="classattr">
                                        <input id="Handler.createLock-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">createLock</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.createLock-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.createLock"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.createLock-959"><a href="#Handler.createLock-959"><span class="linenos">959</span></a>    <span class="k">def</span> <span class="nf">createLock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler.createLock-960"><a href="#Handler.createLock-960"><span class="linenos">960</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.createLock-961"><a href="#Handler.createLock-961"><span class="linenos">961</span></a><span class="sd">        Acquire a thread lock for serializing access to the underlying I/O.</span>
</span><span id="Handler.createLock-962"><a href="#Handler.createLock-962"><span class="linenos">962</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.createLock-963"><a href="#Handler.createLock-963"><span class="linenos">963</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="Handler.createLock-964"><a href="#Handler.createLock-964"><span class="linenos">964</span></a>        <span class="n">_register_at_fork_reinit_lock</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Acquire a thread lock for serializing access to the underlying I/O.</p>
</div>


                            </div>
                            <div id="Handler.acquire" class="classattr">
                                        <input id="Handler.acquire-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">acquire</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.acquire-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.acquire"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.acquire-969"><a href="#Handler.acquire-969"><span class="linenos">969</span></a>    <span class="k">def</span> <span class="nf">acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler.acquire-970"><a href="#Handler.acquire-970"><span class="linenos">970</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.acquire-971"><a href="#Handler.acquire-971"><span class="linenos">971</span></a><span class="sd">        Acquire the I/O thread lock.</span>
</span><span id="Handler.acquire-972"><a href="#Handler.acquire-972"><span class="linenos">972</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.acquire-973"><a href="#Handler.acquire-973"><span class="linenos">973</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span><span id="Handler.acquire-974"><a href="#Handler.acquire-974"><span class="linenos">974</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Acquire the I/O thread lock.</p>
</div>


                            </div>
                            <div id="Handler.release" class="classattr">
                                        <input id="Handler.release-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">release</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.release-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.release"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.release-976"><a href="#Handler.release-976"><span class="linenos">976</span></a>    <span class="k">def</span> <span class="nf">release</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler.release-977"><a href="#Handler.release-977"><span class="linenos">977</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.release-978"><a href="#Handler.release-978"><span class="linenos">978</span></a><span class="sd">        Release the I/O thread lock.</span>
</span><span id="Handler.release-979"><a href="#Handler.release-979"><span class="linenos">979</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.release-980"><a href="#Handler.release-980"><span class="linenos">980</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span><span id="Handler.release-981"><a href="#Handler.release-981"><span class="linenos">981</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Release the I/O thread lock.</p>
</div>


                            </div>
                            <div id="Handler.setLevel" class="classattr">
                                        <input id="Handler.setLevel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setLevel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">level</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.setLevel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.setLevel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.setLevel-983"><a href="#Handler.setLevel-983"><span class="linenos">983</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="Handler.setLevel-984"><a href="#Handler.setLevel-984"><span class="linenos">984</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.setLevel-985"><a href="#Handler.setLevel-985"><span class="linenos">985</span></a><span class="sd">        Set the logging level of this handler.  level must be an int or a str.</span>
</span><span id="Handler.setLevel-986"><a href="#Handler.setLevel-986"><span class="linenos">986</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.setLevel-987"><a href="#Handler.setLevel-987"><span class="linenos">987</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the logging level of this handler.  level must be an int or a str.</p>
</div>


                            </div>
                            <div id="Handler.format" class="classattr">
                                        <input id="Handler.format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.format-989"><a href="#Handler.format-989"><span class="linenos"> 989</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Handler.format-990"><a href="#Handler.format-990"><span class="linenos"> 990</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.format-991"><a href="#Handler.format-991"><span class="linenos"> 991</span></a><span class="sd">        Format the specified record.</span>
</span><span id="Handler.format-992"><a href="#Handler.format-992"><span class="linenos"> 992</span></a>
</span><span id="Handler.format-993"><a href="#Handler.format-993"><span class="linenos"> 993</span></a><span class="sd">        If a formatter is set, use it. Otherwise, use the default formatter</span>
</span><span id="Handler.format-994"><a href="#Handler.format-994"><span class="linenos"> 994</span></a><span class="sd">        for the module.</span>
</span><span id="Handler.format-995"><a href="#Handler.format-995"><span class="linenos"> 995</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.format-996"><a href="#Handler.format-996"><span class="linenos"> 996</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span><span class="p">:</span>
</span><span id="Handler.format-997"><a href="#Handler.format-997"><span class="linenos"> 997</span></a>            <span class="n">fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span>
</span><span id="Handler.format-998"><a href="#Handler.format-998"><span class="linenos"> 998</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Handler.format-999"><a href="#Handler.format-999"><span class="linenos"> 999</span></a>            <span class="n">fmt</span> <span class="o">=</span> <span class="n">_defaultFormatter</span>
</span><span id="Handler.format-1000"><a href="#Handler.format-1000"><span class="linenos">1000</span></a>        <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Format the specified record.</p>

<p>If a formatter is set, use it. Otherwise, use the default formatter
for the module.</p>
</div>


                            </div>
                            <div id="Handler.emit" class="classattr">
                                        <input id="Handler.emit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">emit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.emit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.emit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.emit-1002"><a href="#Handler.emit-1002"><span class="linenos">1002</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Handler.emit-1003"><a href="#Handler.emit-1003"><span class="linenos">1003</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.emit-1004"><a href="#Handler.emit-1004"><span class="linenos">1004</span></a><span class="sd">        Do whatever it takes to actually log the specified logging record.</span>
</span><span id="Handler.emit-1005"><a href="#Handler.emit-1005"><span class="linenos">1005</span></a>
</span><span id="Handler.emit-1006"><a href="#Handler.emit-1006"><span class="linenos">1006</span></a><span class="sd">        This version is intended to be implemented by subclasses and so</span>
</span><span id="Handler.emit-1007"><a href="#Handler.emit-1007"><span class="linenos">1007</span></a><span class="sd">        raises a NotImplementedError.</span>
</span><span id="Handler.emit-1008"><a href="#Handler.emit-1008"><span class="linenos">1008</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.emit-1009"><a href="#Handler.emit-1009"><span class="linenos">1009</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;emit must be implemented &#39;</span>
</span><span id="Handler.emit-1010"><a href="#Handler.emit-1010"><span class="linenos">1010</span></a>                                  <span class="s1">&#39;by Handler subclasses&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Do whatever it takes to actually log the specified logging record.</p>

<p>This version is intended to be implemented by subclasses and so
raises a NotImplementedError.</p>
</div>


                            </div>
                            <div id="Handler.handle" class="classattr">
                                        <input id="Handler.handle-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.handle-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.handle"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.handle-1012"><a href="#Handler.handle-1012"><span class="linenos">1012</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Handler.handle-1013"><a href="#Handler.handle-1013"><span class="linenos">1013</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.handle-1014"><a href="#Handler.handle-1014"><span class="linenos">1014</span></a><span class="sd">        Conditionally emit the specified logging record.</span>
</span><span id="Handler.handle-1015"><a href="#Handler.handle-1015"><span class="linenos">1015</span></a>
</span><span id="Handler.handle-1016"><a href="#Handler.handle-1016"><span class="linenos">1016</span></a><span class="sd">        Emission depends on filters which may have been added to the handler.</span>
</span><span id="Handler.handle-1017"><a href="#Handler.handle-1017"><span class="linenos">1017</span></a><span class="sd">        Wrap the actual emission of the record with acquisition/release of</span>
</span><span id="Handler.handle-1018"><a href="#Handler.handle-1018"><span class="linenos">1018</span></a><span class="sd">        the I/O thread lock.</span>
</span><span id="Handler.handle-1019"><a href="#Handler.handle-1019"><span class="linenos">1019</span></a>
</span><span id="Handler.handle-1020"><a href="#Handler.handle-1020"><span class="linenos">1020</span></a><span class="sd">        Returns an instance of the log record that was emitted</span>
</span><span id="Handler.handle-1021"><a href="#Handler.handle-1021"><span class="linenos">1021</span></a><span class="sd">        if it passed all filters, otherwise a false value is returned.</span>
</span><span id="Handler.handle-1022"><a href="#Handler.handle-1022"><span class="linenos">1022</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.handle-1023"><a href="#Handler.handle-1023"><span class="linenos">1023</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Handler.handle-1024"><a href="#Handler.handle-1024"><span class="linenos">1024</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">LogRecord</span><span class="p">):</span>
</span><span id="Handler.handle-1025"><a href="#Handler.handle-1025"><span class="linenos">1025</span></a>            <span class="n">record</span> <span class="o">=</span> <span class="n">rv</span>
</span><span id="Handler.handle-1026"><a href="#Handler.handle-1026"><span class="linenos">1026</span></a>        <span class="k">if</span> <span class="n">rv</span><span class="p">:</span>
</span><span id="Handler.handle-1027"><a href="#Handler.handle-1027"><span class="linenos">1027</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="Handler.handle-1028"><a href="#Handler.handle-1028"><span class="linenos">1028</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Handler.handle-1029"><a href="#Handler.handle-1029"><span class="linenos">1029</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Handler.handle-1030"><a href="#Handler.handle-1030"><span class="linenos">1030</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="Handler.handle-1031"><a href="#Handler.handle-1031"><span class="linenos">1031</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="Handler.handle-1032"><a href="#Handler.handle-1032"><span class="linenos">1032</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span></pre></div>


            <div class="docstring"><p>Conditionally emit the specified logging record.</p>

<p>Emission depends on filters which may have been added to the handler.
Wrap the actual emission of the record with acquisition/release of
the I/O thread lock.</p>

<p>Returns an instance of the log record that was emitted
if it passed all filters, otherwise a false value is returned.</p>
</div>


                            </div>
                            <div id="Handler.setFormatter" class="classattr">
                                        <input id="Handler.setFormatter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setFormatter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fmt</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.setFormatter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.setFormatter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.setFormatter-1034"><a href="#Handler.setFormatter-1034"><span class="linenos">1034</span></a>    <span class="k">def</span> <span class="nf">setFormatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="p">):</span>
</span><span id="Handler.setFormatter-1035"><a href="#Handler.setFormatter-1035"><span class="linenos">1035</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.setFormatter-1036"><a href="#Handler.setFormatter-1036"><span class="linenos">1036</span></a><span class="sd">        Set the formatter for this handler.</span>
</span><span id="Handler.setFormatter-1037"><a href="#Handler.setFormatter-1037"><span class="linenos">1037</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.setFormatter-1038"><a href="#Handler.setFormatter-1038"><span class="linenos">1038</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">fmt</span>
</span></pre></div>


            <div class="docstring"><p>Set the formatter for this handler.</p>
</div>


                            </div>
                            <div id="Handler.flush" class="classattr">
                                        <input id="Handler.flush-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">flush</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.flush-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.flush"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.flush-1040"><a href="#Handler.flush-1040"><span class="linenos">1040</span></a>    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler.flush-1041"><a href="#Handler.flush-1041"><span class="linenos">1041</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.flush-1042"><a href="#Handler.flush-1042"><span class="linenos">1042</span></a><span class="sd">        Ensure all logging output has been flushed.</span>
</span><span id="Handler.flush-1043"><a href="#Handler.flush-1043"><span class="linenos">1043</span></a>
</span><span id="Handler.flush-1044"><a href="#Handler.flush-1044"><span class="linenos">1044</span></a><span class="sd">        This version does nothing and is intended to be implemented by</span>
</span><span id="Handler.flush-1045"><a href="#Handler.flush-1045"><span class="linenos">1045</span></a><span class="sd">        subclasses.</span>
</span><span id="Handler.flush-1046"><a href="#Handler.flush-1046"><span class="linenos">1046</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.flush-1047"><a href="#Handler.flush-1047"><span class="linenos">1047</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Ensure all logging output has been flushed.</p>

<p>This version does nothing and is intended to be implemented by
subclasses.</p>
</div>


                            </div>
                            <div id="Handler.close" class="classattr">
                                        <input id="Handler.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.close-1049"><a href="#Handler.close-1049"><span class="linenos">1049</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Handler.close-1050"><a href="#Handler.close-1050"><span class="linenos">1050</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.close-1051"><a href="#Handler.close-1051"><span class="linenos">1051</span></a><span class="sd">        Tidy up any resources used by the handler.</span>
</span><span id="Handler.close-1052"><a href="#Handler.close-1052"><span class="linenos">1052</span></a>
</span><span id="Handler.close-1053"><a href="#Handler.close-1053"><span class="linenos">1053</span></a><span class="sd">        This version removes the handler from an internal map of handlers,</span>
</span><span id="Handler.close-1054"><a href="#Handler.close-1054"><span class="linenos">1054</span></a><span class="sd">        _handlers, which is used for handler lookup by name. Subclasses</span>
</span><span id="Handler.close-1055"><a href="#Handler.close-1055"><span class="linenos">1055</span></a><span class="sd">        should ensure that this gets called from overridden close()</span>
</span><span id="Handler.close-1056"><a href="#Handler.close-1056"><span class="linenos">1056</span></a><span class="sd">        methods.</span>
</span><span id="Handler.close-1057"><a href="#Handler.close-1057"><span class="linenos">1057</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.close-1058"><a href="#Handler.close-1058"><span class="linenos">1058</span></a>        <span class="c1">#get the module data lock, as we&#39;re updating a shared structure.</span>
</span><span id="Handler.close-1059"><a href="#Handler.close-1059"><span class="linenos">1059</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Handler.close-1060"><a href="#Handler.close-1060"><span class="linenos">1060</span></a>        <span class="k">try</span><span class="p">:</span>    <span class="c1">#unlikely to raise an exception, but you never know...</span>
</span><span id="Handler.close-1061"><a href="#Handler.close-1061"><span class="linenos">1061</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Handler.close-1062"><a href="#Handler.close-1062"><span class="linenos">1062</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="n">_handlers</span><span class="p">:</span>
</span><span id="Handler.close-1063"><a href="#Handler.close-1063"><span class="linenos">1063</span></a>                <span class="k">del</span> <span class="n">_handlers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span>
</span><span id="Handler.close-1064"><a href="#Handler.close-1064"><span class="linenos">1064</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Handler.close-1065"><a href="#Handler.close-1065"><span class="linenos">1065</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Tidy up any resources used by the handler.</p>

<p>This version removes the handler from an internal map of handlers,
_handlers, which is used for handler lookup by name. Subclasses
should ensure that this gets called from overridden close()
methods.</p>
</div>


                            </div>
                            <div id="Handler.handleError" class="classattr">
                                        <input id="Handler.handleError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handleError</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Handler.handleError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Handler.handleError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Handler.handleError-1067"><a href="#Handler.handleError-1067"><span class="linenos">1067</span></a>    <span class="k">def</span> <span class="nf">handleError</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Handler.handleError-1068"><a href="#Handler.handleError-1068"><span class="linenos">1068</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Handler.handleError-1069"><a href="#Handler.handleError-1069"><span class="linenos">1069</span></a><span class="sd">        Handle errors which occur during an emit() call.</span>
</span><span id="Handler.handleError-1070"><a href="#Handler.handleError-1070"><span class="linenos">1070</span></a>
</span><span id="Handler.handleError-1071"><a href="#Handler.handleError-1071"><span class="linenos">1071</span></a><span class="sd">        This method should be called from handlers when an exception is</span>
</span><span id="Handler.handleError-1072"><a href="#Handler.handleError-1072"><span class="linenos">1072</span></a><span class="sd">        encountered during an emit() call. If raiseExceptions is false,</span>
</span><span id="Handler.handleError-1073"><a href="#Handler.handleError-1073"><span class="linenos">1073</span></a><span class="sd">        exceptions get silently ignored. This is what is mostly wanted</span>
</span><span id="Handler.handleError-1074"><a href="#Handler.handleError-1074"><span class="linenos">1074</span></a><span class="sd">        for a logging system - most users will not care about errors in</span>
</span><span id="Handler.handleError-1075"><a href="#Handler.handleError-1075"><span class="linenos">1075</span></a><span class="sd">        the logging system, they are more interested in application errors.</span>
</span><span id="Handler.handleError-1076"><a href="#Handler.handleError-1076"><span class="linenos">1076</span></a><span class="sd">        You could, however, replace this with a custom handler if you wish.</span>
</span><span id="Handler.handleError-1077"><a href="#Handler.handleError-1077"><span class="linenos">1077</span></a><span class="sd">        The record which was being processed is passed in to this method.</span>
</span><span id="Handler.handleError-1078"><a href="#Handler.handleError-1078"><span class="linenos">1078</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Handler.handleError-1079"><a href="#Handler.handleError-1079"><span class="linenos">1079</span></a>        <span class="k">if</span> <span class="n">raiseExceptions</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">:</span>  <span class="c1"># see issue 13807</span>
</span><span id="Handler.handleError-1080"><a href="#Handler.handleError-1080"><span class="linenos">1080</span></a>            <span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="Handler.handleError-1081"><a href="#Handler.handleError-1081"><span class="linenos">1081</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Handler.handleError-1082"><a href="#Handler.handleError-1082"><span class="linenos">1082</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;--- Logging error ---</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="Handler.handleError-1083"><a href="#Handler.handleError-1083"><span class="linenos">1083</span></a>                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exception</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</span><span id="Handler.handleError-1084"><a href="#Handler.handleError-1084"><span class="linenos">1084</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Call stack:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="Handler.handleError-1085"><a href="#Handler.handleError-1085"><span class="linenos">1085</span></a>                <span class="c1"># Walk the stack frame up until we&#39;re out of logging,</span>
</span><span id="Handler.handleError-1086"><a href="#Handler.handleError-1086"><span class="linenos">1086</span></a>                <span class="c1"># so as to print the calling context.</span>
</span><span id="Handler.handleError-1087"><a href="#Handler.handleError-1087"><span class="linenos">1087</span></a>                <span class="n">frame</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">tb_frame</span>
</span><span id="Handler.handleError-1088"><a href="#Handler.handleError-1088"><span class="linenos">1088</span></a>                <span class="k">while</span> <span class="p">(</span><span class="n">frame</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span><span class="p">)</span> <span class="o">==</span>
</span><span id="Handler.handleError-1089"><a href="#Handler.handleError-1089"><span class="linenos">1089</span></a>                       <span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
</span><span id="Handler.handleError-1090"><a href="#Handler.handleError-1090"><span class="linenos">1090</span></a>                    <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_back</span>
</span><span id="Handler.handleError-1091"><a href="#Handler.handleError-1091"><span class="linenos">1091</span></a>                <span class="k">if</span> <span class="n">frame</span><span class="p">:</span>
</span><span id="Handler.handleError-1092"><a href="#Handler.handleError-1092"><span class="linenos">1092</span></a>                    <span class="n">traceback</span><span class="o">.</span><span class="n">print_stack</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</span><span id="Handler.handleError-1093"><a href="#Handler.handleError-1093"><span class="linenos">1093</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Handler.handleError-1094"><a href="#Handler.handleError-1094"><span class="linenos">1094</span></a>                    <span class="c1"># couldn&#39;t find the right stack frame, for some reason</span>
</span><span id="Handler.handleError-1095"><a href="#Handler.handleError-1095"><span class="linenos">1095</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Logged from file </span><span class="si">%s</span><span class="s1">, line </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
</span><span id="Handler.handleError-1096"><a href="#Handler.handleError-1096"><span class="linenos">1096</span></a>                                     <span class="n">record</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="n">record</span><span class="o">.</span><span class="n">lineno</span><span class="p">))</span>
</span><span id="Handler.handleError-1097"><a href="#Handler.handleError-1097"><span class="linenos">1097</span></a>                <span class="c1"># Issue 18671: output logging message and arguments</span>
</span><span id="Handler.handleError-1098"><a href="#Handler.handleError-1098"><span class="linenos">1098</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="Handler.handleError-1099"><a href="#Handler.handleError-1099"><span class="linenos">1099</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Message: </span><span class="si">%r</span><span class="se">\n</span><span class="s1">&#39;</span>
</span><span id="Handler.handleError-1100"><a href="#Handler.handleError-1100"><span class="linenos">1100</span></a>                                     <span class="s1">&#39;Arguments: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">msg</span><span class="p">,</span>
</span><span id="Handler.handleError-1101"><a href="#Handler.handleError-1101"><span class="linenos">1101</span></a>                                                          <span class="n">record</span><span class="o">.</span><span class="n">args</span><span class="p">))</span>
</span><span id="Handler.handleError-1102"><a href="#Handler.handleError-1102"><span class="linenos">1102</span></a>                <span class="k">except</span> <span class="ne">RecursionError</span><span class="p">:</span>  <span class="c1"># See issue 36272</span>
</span><span id="Handler.handleError-1103"><a href="#Handler.handleError-1103"><span class="linenos">1103</span></a>                    <span class="k">raise</span>
</span><span id="Handler.handleError-1104"><a href="#Handler.handleError-1104"><span class="linenos">1104</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="Handler.handleError-1105"><a href="#Handler.handleError-1105"><span class="linenos">1105</span></a>                    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Unable to print the message and arguments&#39;</span>
</span><span id="Handler.handleError-1106"><a href="#Handler.handleError-1106"><span class="linenos">1106</span></a>                                     <span class="s1">&#39; - possible formatting error.</span><span class="se">\n</span><span class="s1">Use the&#39;</span>
</span><span id="Handler.handleError-1107"><a href="#Handler.handleError-1107"><span class="linenos">1107</span></a>                                     <span class="s1">&#39; traceback above to help find the error.</span><span class="se">\n</span><span class="s1">&#39;</span>
</span><span id="Handler.handleError-1108"><a href="#Handler.handleError-1108"><span class="linenos">1108</span></a>                                    <span class="p">)</span>
</span><span id="Handler.handleError-1109"><a href="#Handler.handleError-1109"><span class="linenos">1109</span></a>            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span> <span class="c1">#pragma: no cover</span>
</span><span id="Handler.handleError-1110"><a href="#Handler.handleError-1110"><span class="linenos">1110</span></a>                <span class="k">pass</span>    <span class="c1"># see issue 5971</span>
</span><span id="Handler.handleError-1111"><a href="#Handler.handleError-1111"><span class="linenos">1111</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="Handler.handleError-1112"><a href="#Handler.handleError-1112"><span class="linenos">1112</span></a>                <span class="k">del</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">tb</span>
</span></pre></div>


            <div class="docstring"><p>Handle errors which occur during an emit() call.</p>

<p>This method should be called from handlers when an exception is
encountered during an emit() call. If raiseExceptions is false,
exceptions get silently ignored. This is what is mostly wanted
for a logging system - most users will not care about errors in
the logging system, they are more interested in application errors.
You could, however, replace this with a custom handler if you wish.
The record which was being processed is passed in to this method.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Filterer">Filterer</a></dt>
                                <dd id="Handler.filters" class="variable"><a href="#Filterer.filters">filters</a></dd>
                <dd id="Handler.addFilter" class="function"><a href="#Filterer.addFilter">addFilter</a></dd>
                <dd id="Handler.removeFilter" class="function"><a href="#Filterer.removeFilter">removeFilter</a></dd>
                <dd id="Handler.filter" class="function"><a href="#Filterer.filter">filter</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="INFO">
                    <div class="attr variable">
            <span class="name">INFO</span>        =
<span class="default_value">20</span>

        
    </div>
    <a class="headerlink" href="#INFO"></a>
    
    

                </section>
                <section id="LogRecord">
                            <input id="LogRecord-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LogRecord</span>:

                <label class="view-source-button" for="LogRecord-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LogRecord"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LogRecord-287"><a href="#LogRecord-287"><span class="linenos">287</span></a><span class="k">class</span> <span class="nc">LogRecord</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="LogRecord-288"><a href="#LogRecord-288"><span class="linenos">288</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LogRecord-289"><a href="#LogRecord-289"><span class="linenos">289</span></a><span class="sd">    A LogRecord instance represents an event being logged.</span>
</span><span id="LogRecord-290"><a href="#LogRecord-290"><span class="linenos">290</span></a>
</span><span id="LogRecord-291"><a href="#LogRecord-291"><span class="linenos">291</span></a><span class="sd">    LogRecord instances are created every time something is logged. They</span>
</span><span id="LogRecord-292"><a href="#LogRecord-292"><span class="linenos">292</span></a><span class="sd">    contain all the information pertinent to the event being logged. The</span>
</span><span id="LogRecord-293"><a href="#LogRecord-293"><span class="linenos">293</span></a><span class="sd">    main information passed in is in msg and args, which are combined</span>
</span><span id="LogRecord-294"><a href="#LogRecord-294"><span class="linenos">294</span></a><span class="sd">    using str(msg) % args to create the message field of the record. The</span>
</span><span id="LogRecord-295"><a href="#LogRecord-295"><span class="linenos">295</span></a><span class="sd">    record also includes information such as when the record was created,</span>
</span><span id="LogRecord-296"><a href="#LogRecord-296"><span class="linenos">296</span></a><span class="sd">    the source line where the logging call was made, and any exception</span>
</span><span id="LogRecord-297"><a href="#LogRecord-297"><span class="linenos">297</span></a><span class="sd">    information to be logged.</span>
</span><span id="LogRecord-298"><a href="#LogRecord-298"><span class="linenos">298</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="LogRecord-299"><a href="#LogRecord-299"><span class="linenos">299</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">pathname</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span>
</span><span id="LogRecord-300"><a href="#LogRecord-300"><span class="linenos">300</span></a>                 <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LogRecord-301"><a href="#LogRecord-301"><span class="linenos">301</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LogRecord-302"><a href="#LogRecord-302"><span class="linenos">302</span></a><span class="sd">        Initialize a logging record with interesting information.</span>
</span><span id="LogRecord-303"><a href="#LogRecord-303"><span class="linenos">303</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LogRecord-304"><a href="#LogRecord-304"><span class="linenos">304</span></a>        <span class="n">ct</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="LogRecord-305"><a href="#LogRecord-305"><span class="linenos">305</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="LogRecord-306"><a href="#LogRecord-306"><span class="linenos">306</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span>
</span><span id="LogRecord-307"><a href="#LogRecord-307"><span class="linenos">307</span></a>        <span class="c1">#</span>
</span><span id="LogRecord-308"><a href="#LogRecord-308"><span class="linenos">308</span></a>        <span class="c1"># The following statement allows passing of a dictionary as a sole</span>
</span><span id="LogRecord-309"><a href="#LogRecord-309"><span class="linenos">309</span></a>        <span class="c1"># argument, so that you can do something like</span>
</span><span id="LogRecord-310"><a href="#LogRecord-310"><span class="linenos">310</span></a>        <span class="c1">#  logging.debug(&quot;a %(a)d b %(b)s&quot;, {&#39;a&#39;:1, &#39;b&#39;:2})</span>
</span><span id="LogRecord-311"><a href="#LogRecord-311"><span class="linenos">311</span></a>        <span class="c1"># Suggested by Stefan Behnel.</span>
</span><span id="LogRecord-312"><a href="#LogRecord-312"><span class="linenos">312</span></a>        <span class="c1"># Note that without the test for args[0], we get a problem because</span>
</span><span id="LogRecord-313"><a href="#LogRecord-313"><span class="linenos">313</span></a>        <span class="c1"># during formatting, we test to see if the arg is present using</span>
</span><span id="LogRecord-314"><a href="#LogRecord-314"><span class="linenos">314</span></a>        <span class="c1"># &#39;if self.args:&#39;. If the event being logged is e.g. &#39;Value is %d&#39;</span>
</span><span id="LogRecord-315"><a href="#LogRecord-315"><span class="linenos">315</span></a>        <span class="c1"># and if the passed arg fails &#39;if self.args:&#39; then no formatting</span>
</span><span id="LogRecord-316"><a href="#LogRecord-316"><span class="linenos">316</span></a>        <span class="c1"># is done. For example, logger.warning(&#39;Value is %d&#39;, 0) would log</span>
</span><span id="LogRecord-317"><a href="#LogRecord-317"><span class="linenos">317</span></a>        <span class="c1"># &#39;Value is %d&#39; instead of &#39;Value is 0&#39;.</span>
</span><span id="LogRecord-318"><a href="#LogRecord-318"><span class="linenos">318</span></a>        <span class="c1"># For the use case of passing a dictionary, this should not be a</span>
</span><span id="LogRecord-319"><a href="#LogRecord-319"><span class="linenos">319</span></a>        <span class="c1"># problem.</span>
</span><span id="LogRecord-320"><a href="#LogRecord-320"><span class="linenos">320</span></a>        <span class="c1"># Issue #21172: a request was made to relax the isinstance check</span>
</span><span id="LogRecord-321"><a href="#LogRecord-321"><span class="linenos">321</span></a>        <span class="c1"># to hasattr(args[0], &#39;__getitem__&#39;). However, the docs on string</span>
</span><span id="LogRecord-322"><a href="#LogRecord-322"><span class="linenos">322</span></a>        <span class="c1"># formatting still seem to suggest a mapping object is required.</span>
</span><span id="LogRecord-323"><a href="#LogRecord-323"><span class="linenos">323</span></a>        <span class="c1"># Thus, while not removing the isinstance check, it does now look</span>
</span><span id="LogRecord-324"><a href="#LogRecord-324"><span class="linenos">324</span></a>        <span class="c1"># for collections.abc.Mapping rather than, as before, dict.</span>
</span><span id="LogRecord-325"><a href="#LogRecord-325"><span class="linenos">325</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">args</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Mapping</span><span class="p">)</span>
</span><span id="LogRecord-326"><a href="#LogRecord-326"><span class="linenos">326</span></a>            <span class="ow">and</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
</span><span id="LogRecord-327"><a href="#LogRecord-327"><span class="linenos">327</span></a>            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="LogRecord-328"><a href="#LogRecord-328"><span class="linenos">328</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="LogRecord-329"><a href="#LogRecord-329"><span class="linenos">329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">levelname</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="LogRecord-330"><a href="#LogRecord-330"><span class="linenos">330</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">levelno</span> <span class="o">=</span> <span class="n">level</span>
</span><span id="LogRecord-331"><a href="#LogRecord-331"><span class="linenos">331</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pathname</span> <span class="o">=</span> <span class="n">pathname</span>
</span><span id="LogRecord-332"><a href="#LogRecord-332"><span class="linenos">332</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="LogRecord-333"><a href="#LogRecord-333"><span class="linenos">333</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">pathname</span><span class="p">)</span>
</span><span id="LogRecord-334"><a href="#LogRecord-334"><span class="linenos">334</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="LogRecord-335"><a href="#LogRecord-335"><span class="linenos">335</span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
</span><span id="LogRecord-336"><a href="#LogRecord-336"><span class="linenos">336</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">pathname</span>
</span><span id="LogRecord-337"><a href="#LogRecord-337"><span class="linenos">337</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="s2">&quot;Unknown module&quot;</span>
</span><span id="LogRecord-338"><a href="#LogRecord-338"><span class="linenos">338</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exc_info</span> <span class="o">=</span> <span class="n">exc_info</span>
</span><span id="LogRecord-339"><a href="#LogRecord-339"><span class="linenos">339</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exc_text</span> <span class="o">=</span> <span class="kc">None</span>      <span class="c1"># used to cache the traceback text</span>
</span><span id="LogRecord-340"><a href="#LogRecord-340"><span class="linenos">340</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stack_info</span> <span class="o">=</span> <span class="n">sinfo</span>
</span><span id="LogRecord-341"><a href="#LogRecord-341"><span class="linenos">341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">lineno</span>
</span><span id="LogRecord-342"><a href="#LogRecord-342"><span class="linenos">342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">funcName</span> <span class="o">=</span> <span class="n">func</span>
</span><span id="LogRecord-343"><a href="#LogRecord-343"><span class="linenos">343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">ct</span>
</span><span id="LogRecord-344"><a href="#LogRecord-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">msecs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">ct</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">ct</span><span class="p">))</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.0</span>  <span class="c1"># see gh-89047</span>
</span><span id="LogRecord-345"><a href="#LogRecord-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">relativeCreated</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">-</span> <span class="n">_startTime</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span>
</span><span id="LogRecord-346"><a href="#LogRecord-346"><span class="linenos">346</span></a>        <span class="k">if</span> <span class="n">logThreads</span><span class="p">:</span>
</span><span id="LogRecord-347"><a href="#LogRecord-347"><span class="linenos">347</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">get_ident</span><span class="p">()</span>
</span><span id="LogRecord-348"><a href="#LogRecord-348"><span class="linenos">348</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">threadName</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</span><span id="LogRecord-349"><a href="#LogRecord-349"><span class="linenos">349</span></a>        <span class="k">else</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="LogRecord-350"><a href="#LogRecord-350"><span class="linenos">350</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord-351"><a href="#LogRecord-351"><span class="linenos">351</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">threadName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord-352"><a href="#LogRecord-352"><span class="linenos">352</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">logMultiprocessing</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="LogRecord-353"><a href="#LogRecord-353"><span class="linenos">353</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord-354"><a href="#LogRecord-354"><span class="linenos">354</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="LogRecord-355"><a href="#LogRecord-355"><span class="linenos">355</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="s1">&#39;MainProcess&#39;</span>
</span><span id="LogRecord-356"><a href="#LogRecord-356"><span class="linenos">356</span></a>            <span class="n">mp</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;multiprocessing&#39;</span><span class="p">)</span>
</span><span id="LogRecord-357"><a href="#LogRecord-357"><span class="linenos">357</span></a>            <span class="k">if</span> <span class="n">mp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="LogRecord-358"><a href="#LogRecord-358"><span class="linenos">358</span></a>                <span class="c1"># Errors may occur if multiprocessing has not finished loading</span>
</span><span id="LogRecord-359"><a href="#LogRecord-359"><span class="linenos">359</span></a>                <span class="c1"># yet - e.g. if a custom import hook causes third-party code</span>
</span><span id="LogRecord-360"><a href="#LogRecord-360"><span class="linenos">360</span></a>                <span class="c1"># to run when multiprocessing calls import. See issue 8200</span>
</span><span id="LogRecord-361"><a href="#LogRecord-361"><span class="linenos">361</span></a>                <span class="c1"># for an example</span>
</span><span id="LogRecord-362"><a href="#LogRecord-362"><span class="linenos">362</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="LogRecord-363"><a href="#LogRecord-363"><span class="linenos">363</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">current_process</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</span><span id="LogRecord-364"><a href="#LogRecord-364"><span class="linenos">364</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span> <span class="c1">#pragma: no cover</span>
</span><span id="LogRecord-365"><a href="#LogRecord-365"><span class="linenos">365</span></a>                    <span class="k">pass</span>
</span><span id="LogRecord-366"><a href="#LogRecord-366"><span class="linenos">366</span></a>        <span class="k">if</span> <span class="n">logProcesses</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s1">&#39;getpid&#39;</span><span class="p">):</span>
</span><span id="LogRecord-367"><a href="#LogRecord-367"><span class="linenos">367</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span>
</span><span id="LogRecord-368"><a href="#LogRecord-368"><span class="linenos">368</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="LogRecord-369"><a href="#LogRecord-369"><span class="linenos">369</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord-370"><a href="#LogRecord-370"><span class="linenos">370</span></a>
</span><span id="LogRecord-371"><a href="#LogRecord-371"><span class="linenos">371</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">taskName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord-372"><a href="#LogRecord-372"><span class="linenos">372</span></a>        <span class="k">if</span> <span class="n">logAsyncioTasks</span><span class="p">:</span>
</span><span id="LogRecord-373"><a href="#LogRecord-373"><span class="linenos">373</span></a>            <span class="n">asyncio</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;asyncio&#39;</span><span class="p">)</span>
</span><span id="LogRecord-374"><a href="#LogRecord-374"><span class="linenos">374</span></a>            <span class="k">if</span> <span class="n">asyncio</span><span class="p">:</span>
</span><span id="LogRecord-375"><a href="#LogRecord-375"><span class="linenos">375</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="LogRecord-376"><a href="#LogRecord-376"><span class="linenos">376</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">taskName</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">current_task</span><span class="p">()</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
</span><span id="LogRecord-377"><a href="#LogRecord-377"><span class="linenos">377</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="LogRecord-378"><a href="#LogRecord-378"><span class="linenos">378</span></a>                    <span class="k">pass</span>
</span><span id="LogRecord-379"><a href="#LogRecord-379"><span class="linenos">379</span></a>
</span><span id="LogRecord-380"><a href="#LogRecord-380"><span class="linenos">380</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LogRecord-381"><a href="#LogRecord-381"><span class="linenos">381</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;LogRecord: </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">, &quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">levelno</span><span class="p">,</span>
</span><span id="LogRecord-382"><a href="#LogRecord-382"><span class="linenos">382</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pathname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>
</span><span id="LogRecord-383"><a href="#LogRecord-383"><span class="linenos">383</span></a>
</span><span id="LogRecord-384"><a href="#LogRecord-384"><span class="linenos">384</span></a>    <span class="k">def</span> <span class="nf">getMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LogRecord-385"><a href="#LogRecord-385"><span class="linenos">385</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LogRecord-386"><a href="#LogRecord-386"><span class="linenos">386</span></a><span class="sd">        Return the message for this LogRecord.</span>
</span><span id="LogRecord-387"><a href="#LogRecord-387"><span class="linenos">387</span></a>
</span><span id="LogRecord-388"><a href="#LogRecord-388"><span class="linenos">388</span></a><span class="sd">        Return the message for this LogRecord after merging any user-supplied</span>
</span><span id="LogRecord-389"><a href="#LogRecord-389"><span class="linenos">389</span></a><span class="sd">        arguments with the message.</span>
</span><span id="LogRecord-390"><a href="#LogRecord-390"><span class="linenos">390</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LogRecord-391"><a href="#LogRecord-391"><span class="linenos">391</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>
</span><span id="LogRecord-392"><a href="#LogRecord-392"><span class="linenos">392</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
</span><span id="LogRecord-393"><a href="#LogRecord-393"><span class="linenos">393</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
</span><span id="LogRecord-394"><a href="#LogRecord-394"><span class="linenos">394</span></a>        <span class="k">return</span> <span class="n">msg</span>
</span></pre></div>


            <div class="docstring"><p>A LogRecord instance represents an event being logged.</p>

<p>LogRecord instances are created every time something is logged. They
contain all the information pertinent to the event being logged. The
main information passed in is in msg and args, which are combined
using str(msg) % args to create the message field of the record. The
record also includes information such as when the record was created,
the source line where the logging call was made, and any exception
information to be logged.</p>
</div>


                            <div id="LogRecord.__init__" class="classattr">
                                        <input id="LogRecord.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">LogRecord</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">name</span>,</span><span class="param">	<span class="n">level</span>,</span><span class="param">	<span class="n">pathname</span>,</span><span class="param">	<span class="n">lineno</span>,</span><span class="param">	<span class="n">msg</span>,</span><span class="param">	<span class="n">args</span>,</span><span class="param">	<span class="n">exc_info</span>,</span><span class="param">	<span class="n">func</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">sinfo</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="LogRecord.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LogRecord.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LogRecord.__init__-299"><a href="#LogRecord.__init__-299"><span class="linenos">299</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">pathname</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span>
</span><span id="LogRecord.__init__-300"><a href="#LogRecord.__init__-300"><span class="linenos">300</span></a>                 <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LogRecord.__init__-301"><a href="#LogRecord.__init__-301"><span class="linenos">301</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LogRecord.__init__-302"><a href="#LogRecord.__init__-302"><span class="linenos">302</span></a><span class="sd">        Initialize a logging record with interesting information.</span>
</span><span id="LogRecord.__init__-303"><a href="#LogRecord.__init__-303"><span class="linenos">303</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LogRecord.__init__-304"><a href="#LogRecord.__init__-304"><span class="linenos">304</span></a>        <span class="n">ct</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="LogRecord.__init__-305"><a href="#LogRecord.__init__-305"><span class="linenos">305</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="LogRecord.__init__-306"><a href="#LogRecord.__init__-306"><span class="linenos">306</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span>
</span><span id="LogRecord.__init__-307"><a href="#LogRecord.__init__-307"><span class="linenos">307</span></a>        <span class="c1">#</span>
</span><span id="LogRecord.__init__-308"><a href="#LogRecord.__init__-308"><span class="linenos">308</span></a>        <span class="c1"># The following statement allows passing of a dictionary as a sole</span>
</span><span id="LogRecord.__init__-309"><a href="#LogRecord.__init__-309"><span class="linenos">309</span></a>        <span class="c1"># argument, so that you can do something like</span>
</span><span id="LogRecord.__init__-310"><a href="#LogRecord.__init__-310"><span class="linenos">310</span></a>        <span class="c1">#  logging.debug(&quot;a %(a)d b %(b)s&quot;, {&#39;a&#39;:1, &#39;b&#39;:2})</span>
</span><span id="LogRecord.__init__-311"><a href="#LogRecord.__init__-311"><span class="linenos">311</span></a>        <span class="c1"># Suggested by Stefan Behnel.</span>
</span><span id="LogRecord.__init__-312"><a href="#LogRecord.__init__-312"><span class="linenos">312</span></a>        <span class="c1"># Note that without the test for args[0], we get a problem because</span>
</span><span id="LogRecord.__init__-313"><a href="#LogRecord.__init__-313"><span class="linenos">313</span></a>        <span class="c1"># during formatting, we test to see if the arg is present using</span>
</span><span id="LogRecord.__init__-314"><a href="#LogRecord.__init__-314"><span class="linenos">314</span></a>        <span class="c1"># &#39;if self.args:&#39;. If the event being logged is e.g. &#39;Value is %d&#39;</span>
</span><span id="LogRecord.__init__-315"><a href="#LogRecord.__init__-315"><span class="linenos">315</span></a>        <span class="c1"># and if the passed arg fails &#39;if self.args:&#39; then no formatting</span>
</span><span id="LogRecord.__init__-316"><a href="#LogRecord.__init__-316"><span class="linenos">316</span></a>        <span class="c1"># is done. For example, logger.warning(&#39;Value is %d&#39;, 0) would log</span>
</span><span id="LogRecord.__init__-317"><a href="#LogRecord.__init__-317"><span class="linenos">317</span></a>        <span class="c1"># &#39;Value is %d&#39; instead of &#39;Value is 0&#39;.</span>
</span><span id="LogRecord.__init__-318"><a href="#LogRecord.__init__-318"><span class="linenos">318</span></a>        <span class="c1"># For the use case of passing a dictionary, this should not be a</span>
</span><span id="LogRecord.__init__-319"><a href="#LogRecord.__init__-319"><span class="linenos">319</span></a>        <span class="c1"># problem.</span>
</span><span id="LogRecord.__init__-320"><a href="#LogRecord.__init__-320"><span class="linenos">320</span></a>        <span class="c1"># Issue #21172: a request was made to relax the isinstance check</span>
</span><span id="LogRecord.__init__-321"><a href="#LogRecord.__init__-321"><span class="linenos">321</span></a>        <span class="c1"># to hasattr(args[0], &#39;__getitem__&#39;). However, the docs on string</span>
</span><span id="LogRecord.__init__-322"><a href="#LogRecord.__init__-322"><span class="linenos">322</span></a>        <span class="c1"># formatting still seem to suggest a mapping object is required.</span>
</span><span id="LogRecord.__init__-323"><a href="#LogRecord.__init__-323"><span class="linenos">323</span></a>        <span class="c1"># Thus, while not removing the isinstance check, it does now look</span>
</span><span id="LogRecord.__init__-324"><a href="#LogRecord.__init__-324"><span class="linenos">324</span></a>        <span class="c1"># for collections.abc.Mapping rather than, as before, dict.</span>
</span><span id="LogRecord.__init__-325"><a href="#LogRecord.__init__-325"><span class="linenos">325</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">args</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Mapping</span><span class="p">)</span>
</span><span id="LogRecord.__init__-326"><a href="#LogRecord.__init__-326"><span class="linenos">326</span></a>            <span class="ow">and</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
</span><span id="LogRecord.__init__-327"><a href="#LogRecord.__init__-327"><span class="linenos">327</span></a>            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="LogRecord.__init__-328"><a href="#LogRecord.__init__-328"><span class="linenos">328</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="LogRecord.__init__-329"><a href="#LogRecord.__init__-329"><span class="linenos">329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">levelname</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="LogRecord.__init__-330"><a href="#LogRecord.__init__-330"><span class="linenos">330</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">levelno</span> <span class="o">=</span> <span class="n">level</span>
</span><span id="LogRecord.__init__-331"><a href="#LogRecord.__init__-331"><span class="linenos">331</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pathname</span> <span class="o">=</span> <span class="n">pathname</span>
</span><span id="LogRecord.__init__-332"><a href="#LogRecord.__init__-332"><span class="linenos">332</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="LogRecord.__init__-333"><a href="#LogRecord.__init__-333"><span class="linenos">333</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">pathname</span><span class="p">)</span>
</span><span id="LogRecord.__init__-334"><a href="#LogRecord.__init__-334"><span class="linenos">334</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="LogRecord.__init__-335"><a href="#LogRecord.__init__-335"><span class="linenos">335</span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
</span><span id="LogRecord.__init__-336"><a href="#LogRecord.__init__-336"><span class="linenos">336</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">pathname</span>
</span><span id="LogRecord.__init__-337"><a href="#LogRecord.__init__-337"><span class="linenos">337</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="s2">&quot;Unknown module&quot;</span>
</span><span id="LogRecord.__init__-338"><a href="#LogRecord.__init__-338"><span class="linenos">338</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exc_info</span> <span class="o">=</span> <span class="n">exc_info</span>
</span><span id="LogRecord.__init__-339"><a href="#LogRecord.__init__-339"><span class="linenos">339</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exc_text</span> <span class="o">=</span> <span class="kc">None</span>      <span class="c1"># used to cache the traceback text</span>
</span><span id="LogRecord.__init__-340"><a href="#LogRecord.__init__-340"><span class="linenos">340</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stack_info</span> <span class="o">=</span> <span class="n">sinfo</span>
</span><span id="LogRecord.__init__-341"><a href="#LogRecord.__init__-341"><span class="linenos">341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">lineno</span>
</span><span id="LogRecord.__init__-342"><a href="#LogRecord.__init__-342"><span class="linenos">342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">funcName</span> <span class="o">=</span> <span class="n">func</span>
</span><span id="LogRecord.__init__-343"><a href="#LogRecord.__init__-343"><span class="linenos">343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">ct</span>
</span><span id="LogRecord.__init__-344"><a href="#LogRecord.__init__-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">msecs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">ct</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">ct</span><span class="p">))</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.0</span>  <span class="c1"># see gh-89047</span>
</span><span id="LogRecord.__init__-345"><a href="#LogRecord.__init__-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">relativeCreated</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">-</span> <span class="n">_startTime</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span>
</span><span id="LogRecord.__init__-346"><a href="#LogRecord.__init__-346"><span class="linenos">346</span></a>        <span class="k">if</span> <span class="n">logThreads</span><span class="p">:</span>
</span><span id="LogRecord.__init__-347"><a href="#LogRecord.__init__-347"><span class="linenos">347</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">get_ident</span><span class="p">()</span>
</span><span id="LogRecord.__init__-348"><a href="#LogRecord.__init__-348"><span class="linenos">348</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">threadName</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</span><span id="LogRecord.__init__-349"><a href="#LogRecord.__init__-349"><span class="linenos">349</span></a>        <span class="k">else</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="LogRecord.__init__-350"><a href="#LogRecord.__init__-350"><span class="linenos">350</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord.__init__-351"><a href="#LogRecord.__init__-351"><span class="linenos">351</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">threadName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord.__init__-352"><a href="#LogRecord.__init__-352"><span class="linenos">352</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">logMultiprocessing</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="LogRecord.__init__-353"><a href="#LogRecord.__init__-353"><span class="linenos">353</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord.__init__-354"><a href="#LogRecord.__init__-354"><span class="linenos">354</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="LogRecord.__init__-355"><a href="#LogRecord.__init__-355"><span class="linenos">355</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="s1">&#39;MainProcess&#39;</span>
</span><span id="LogRecord.__init__-356"><a href="#LogRecord.__init__-356"><span class="linenos">356</span></a>            <span class="n">mp</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;multiprocessing&#39;</span><span class="p">)</span>
</span><span id="LogRecord.__init__-357"><a href="#LogRecord.__init__-357"><span class="linenos">357</span></a>            <span class="k">if</span> <span class="n">mp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="LogRecord.__init__-358"><a href="#LogRecord.__init__-358"><span class="linenos">358</span></a>                <span class="c1"># Errors may occur if multiprocessing has not finished loading</span>
</span><span id="LogRecord.__init__-359"><a href="#LogRecord.__init__-359"><span class="linenos">359</span></a>                <span class="c1"># yet - e.g. if a custom import hook causes third-party code</span>
</span><span id="LogRecord.__init__-360"><a href="#LogRecord.__init__-360"><span class="linenos">360</span></a>                <span class="c1"># to run when multiprocessing calls import. See issue 8200</span>
</span><span id="LogRecord.__init__-361"><a href="#LogRecord.__init__-361"><span class="linenos">361</span></a>                <span class="c1"># for an example</span>
</span><span id="LogRecord.__init__-362"><a href="#LogRecord.__init__-362"><span class="linenos">362</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="LogRecord.__init__-363"><a href="#LogRecord.__init__-363"><span class="linenos">363</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">processName</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">current_process</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</span><span id="LogRecord.__init__-364"><a href="#LogRecord.__init__-364"><span class="linenos">364</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span> <span class="c1">#pragma: no cover</span>
</span><span id="LogRecord.__init__-365"><a href="#LogRecord.__init__-365"><span class="linenos">365</span></a>                    <span class="k">pass</span>
</span><span id="LogRecord.__init__-366"><a href="#LogRecord.__init__-366"><span class="linenos">366</span></a>        <span class="k">if</span> <span class="n">logProcesses</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s1">&#39;getpid&#39;</span><span class="p">):</span>
</span><span id="LogRecord.__init__-367"><a href="#LogRecord.__init__-367"><span class="linenos">367</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span>
</span><span id="LogRecord.__init__-368"><a href="#LogRecord.__init__-368"><span class="linenos">368</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="LogRecord.__init__-369"><a href="#LogRecord.__init__-369"><span class="linenos">369</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord.__init__-370"><a href="#LogRecord.__init__-370"><span class="linenos">370</span></a>
</span><span id="LogRecord.__init__-371"><a href="#LogRecord.__init__-371"><span class="linenos">371</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">taskName</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="LogRecord.__init__-372"><a href="#LogRecord.__init__-372"><span class="linenos">372</span></a>        <span class="k">if</span> <span class="n">logAsyncioTasks</span><span class="p">:</span>
</span><span id="LogRecord.__init__-373"><a href="#LogRecord.__init__-373"><span class="linenos">373</span></a>            <span class="n">asyncio</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;asyncio&#39;</span><span class="p">)</span>
</span><span id="LogRecord.__init__-374"><a href="#LogRecord.__init__-374"><span class="linenos">374</span></a>            <span class="k">if</span> <span class="n">asyncio</span><span class="p">:</span>
</span><span id="LogRecord.__init__-375"><a href="#LogRecord.__init__-375"><span class="linenos">375</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="LogRecord.__init__-376"><a href="#LogRecord.__init__-376"><span class="linenos">376</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">taskName</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">current_task</span><span class="p">()</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
</span><span id="LogRecord.__init__-377"><a href="#LogRecord.__init__-377"><span class="linenos">377</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="LogRecord.__init__-378"><a href="#LogRecord.__init__-378"><span class="linenos">378</span></a>                    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Initialize a logging record with interesting information.</p>
</div>


                            </div>
                            <div id="LogRecord.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.name"></a>
    
    

                            </div>
                            <div id="LogRecord.msg" class="classattr">
                                <div class="attr variable">
            <span class="name">msg</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.msg"></a>
    
    

                            </div>
                            <div id="LogRecord.args" class="classattr">
                                <div class="attr variable">
            <span class="name">args</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.args"></a>
    
    

                            </div>
                            <div id="LogRecord.levelname" class="classattr">
                                <div class="attr variable">
            <span class="name">levelname</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.levelname"></a>
    
    

                            </div>
                            <div id="LogRecord.levelno" class="classattr">
                                <div class="attr variable">
            <span class="name">levelno</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.levelno"></a>
    
    

                            </div>
                            <div id="LogRecord.pathname" class="classattr">
                                <div class="attr variable">
            <span class="name">pathname</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.pathname"></a>
    
    

                            </div>
                            <div id="LogRecord.exc_info" class="classattr">
                                <div class="attr variable">
            <span class="name">exc_info</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.exc_info"></a>
    
    

                            </div>
                            <div id="LogRecord.exc_text" class="classattr">
                                <div class="attr variable">
            <span class="name">exc_text</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.exc_text"></a>
    
    

                            </div>
                            <div id="LogRecord.stack_info" class="classattr">
                                <div class="attr variable">
            <span class="name">stack_info</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.stack_info"></a>
    
    

                            </div>
                            <div id="LogRecord.lineno" class="classattr">
                                <div class="attr variable">
            <span class="name">lineno</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.lineno"></a>
    
    

                            </div>
                            <div id="LogRecord.funcName" class="classattr">
                                <div class="attr variable">
            <span class="name">funcName</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.funcName"></a>
    
    

                            </div>
                            <div id="LogRecord.created" class="classattr">
                                <div class="attr variable">
            <span class="name">created</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.created"></a>
    
    

                            </div>
                            <div id="LogRecord.msecs" class="classattr">
                                <div class="attr variable">
            <span class="name">msecs</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.msecs"></a>
    
    

                            </div>
                            <div id="LogRecord.relativeCreated" class="classattr">
                                <div class="attr variable">
            <span class="name">relativeCreated</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.relativeCreated"></a>
    
    

                            </div>
                            <div id="LogRecord.taskName" class="classattr">
                                <div class="attr variable">
            <span class="name">taskName</span>

        
    </div>
    <a class="headerlink" href="#LogRecord.taskName"></a>
    
    

                            </div>
                            <div id="LogRecord.getMessage" class="classattr">
                                        <input id="LogRecord.getMessage-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getMessage</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LogRecord.getMessage-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LogRecord.getMessage"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LogRecord.getMessage-384"><a href="#LogRecord.getMessage-384"><span class="linenos">384</span></a>    <span class="k">def</span> <span class="nf">getMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LogRecord.getMessage-385"><a href="#LogRecord.getMessage-385"><span class="linenos">385</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LogRecord.getMessage-386"><a href="#LogRecord.getMessage-386"><span class="linenos">386</span></a><span class="sd">        Return the message for this LogRecord.</span>
</span><span id="LogRecord.getMessage-387"><a href="#LogRecord.getMessage-387"><span class="linenos">387</span></a>
</span><span id="LogRecord.getMessage-388"><a href="#LogRecord.getMessage-388"><span class="linenos">388</span></a><span class="sd">        Return the message for this LogRecord after merging any user-supplied</span>
</span><span id="LogRecord.getMessage-389"><a href="#LogRecord.getMessage-389"><span class="linenos">389</span></a><span class="sd">        arguments with the message.</span>
</span><span id="LogRecord.getMessage-390"><a href="#LogRecord.getMessage-390"><span class="linenos">390</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LogRecord.getMessage-391"><a href="#LogRecord.getMessage-391"><span class="linenos">391</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>
</span><span id="LogRecord.getMessage-392"><a href="#LogRecord.getMessage-392"><span class="linenos">392</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
</span><span id="LogRecord.getMessage-393"><a href="#LogRecord.getMessage-393"><span class="linenos">393</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
</span><span id="LogRecord.getMessage-394"><a href="#LogRecord.getMessage-394"><span class="linenos">394</span></a>        <span class="k">return</span> <span class="n">msg</span>
</span></pre></div>


            <div class="docstring"><p>Return the message for this LogRecord.</p>

<p>Return the message for this LogRecord after merging any user-supplied
arguments with the message.</p>
</div>


                            </div>
                </section>
                <section id="Logger">
                            <input id="Logger-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Logger</span><wbr>(<span class="base"><a href="#Filterer">Filterer</a></span>):

                <label class="view-source-button" for="Logger-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger-1483"><a href="#Logger-1483"><span class="linenos">1483</span></a><span class="k">class</span> <span class="nc">Logger</span><span class="p">(</span><span class="n">Filterer</span><span class="p">):</span>
</span><span id="Logger-1484"><a href="#Logger-1484"><span class="linenos">1484</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1485"><a href="#Logger-1485"><span class="linenos">1485</span></a><span class="sd">    Instances of the Logger class represent a single logging channel. A</span>
</span><span id="Logger-1486"><a href="#Logger-1486"><span class="linenos">1486</span></a><span class="sd">    &quot;logging channel&quot; indicates an area of an application. Exactly how an</span>
</span><span id="Logger-1487"><a href="#Logger-1487"><span class="linenos">1487</span></a><span class="sd">    &quot;area&quot; is defined is up to the application developer. Since an</span>
</span><span id="Logger-1488"><a href="#Logger-1488"><span class="linenos">1488</span></a><span class="sd">    application can have any number of areas, logging channels are identified</span>
</span><span id="Logger-1489"><a href="#Logger-1489"><span class="linenos">1489</span></a><span class="sd">    by a unique string. Application areas can be nested (e.g. an area</span>
</span><span id="Logger-1490"><a href="#Logger-1490"><span class="linenos">1490</span></a><span class="sd">    of &quot;input processing&quot; might include sub-areas &quot;read CSV files&quot;, &quot;read</span>
</span><span id="Logger-1491"><a href="#Logger-1491"><span class="linenos">1491</span></a><span class="sd">    XLS files&quot; and &quot;read Gnumeric files&quot;). To cater for this natural nesting,</span>
</span><span id="Logger-1492"><a href="#Logger-1492"><span class="linenos">1492</span></a><span class="sd">    channel names are organized into a namespace hierarchy where levels are</span>
</span><span id="Logger-1493"><a href="#Logger-1493"><span class="linenos">1493</span></a><span class="sd">    separated by periods, much like the Java or Python package namespace. So</span>
</span><span id="Logger-1494"><a href="#Logger-1494"><span class="linenos">1494</span></a><span class="sd">    in the instance given above, channel names might be &quot;input&quot; for the upper</span>
</span><span id="Logger-1495"><a href="#Logger-1495"><span class="linenos">1495</span></a><span class="sd">    level, and &quot;input.csv&quot;, &quot;input.xls&quot; and &quot;input.gnu&quot; for the sub-levels.</span>
</span><span id="Logger-1496"><a href="#Logger-1496"><span class="linenos">1496</span></a><span class="sd">    There is no arbitrary limit to the depth of nesting.</span>
</span><span id="Logger-1497"><a href="#Logger-1497"><span class="linenos">1497</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Logger-1498"><a href="#Logger-1498"><span class="linenos">1498</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">NOTSET</span><span class="p">):</span>
</span><span id="Logger-1499"><a href="#Logger-1499"><span class="linenos">1499</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1500"><a href="#Logger-1500"><span class="linenos">1500</span></a><span class="sd">        Initialize the logger with a name and an optional level.</span>
</span><span id="Logger-1501"><a href="#Logger-1501"><span class="linenos">1501</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1502"><a href="#Logger-1502"><span class="linenos">1502</span></a>        <span class="n">Filterer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Logger-1503"><a href="#Logger-1503"><span class="linenos">1503</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Logger-1504"><a href="#Logger-1504"><span class="linenos">1504</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="Logger-1505"><a href="#Logger-1505"><span class="linenos">1505</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Logger-1506"><a href="#Logger-1506"><span class="linenos">1506</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Logger-1507"><a href="#Logger-1507"><span class="linenos">1507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Logger-1508"><a href="#Logger-1508"><span class="linenos">1508</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Logger-1509"><a href="#Logger-1509"><span class="linenos">1509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Logger-1510"><a href="#Logger-1510"><span class="linenos">1510</span></a>
</span><span id="Logger-1511"><a href="#Logger-1511"><span class="linenos">1511</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="Logger-1512"><a href="#Logger-1512"><span class="linenos">1512</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1513"><a href="#Logger-1513"><span class="linenos">1513</span></a><span class="sd">        Set the logging level of this logger.  level must be an int or a str.</span>
</span><span id="Logger-1514"><a href="#Logger-1514"><span class="linenos">1514</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1515"><a href="#Logger-1515"><span class="linenos">1515</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="Logger-1516"><a href="#Logger-1516"><span class="linenos">1516</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">_clear_cache</span><span class="p">()</span>
</span><span id="Logger-1517"><a href="#Logger-1517"><span class="linenos">1517</span></a>
</span><span id="Logger-1518"><a href="#Logger-1518"><span class="linenos">1518</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1519"><a href="#Logger-1519"><span class="linenos">1519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1520"><a href="#Logger-1520"><span class="linenos">1520</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;DEBUG&#39;.</span>
</span><span id="Logger-1521"><a href="#Logger-1521"><span class="linenos">1521</span></a>
</span><span id="Logger-1522"><a href="#Logger-1522"><span class="linenos">1522</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger-1523"><a href="#Logger-1523"><span class="linenos">1523</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger-1524"><a href="#Logger-1524"><span class="linenos">1524</span></a>
</span><span id="Logger-1525"><a href="#Logger-1525"><span class="linenos">1525</span></a><span class="sd">        logger.debug(&quot;Houston, we have a %s&quot;, &quot;thorny problem&quot;, exc_info=True)</span>
</span><span id="Logger-1526"><a href="#Logger-1526"><span class="linenos">1526</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1527"><a href="#Logger-1527"><span class="linenos">1527</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">):</span>
</span><span id="Logger-1528"><a href="#Logger-1528"><span class="linenos">1528</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1529"><a href="#Logger-1529"><span class="linenos">1529</span></a>
</span><span id="Logger-1530"><a href="#Logger-1530"><span class="linenos">1530</span></a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1531"><a href="#Logger-1531"><span class="linenos">1531</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1532"><a href="#Logger-1532"><span class="linenos">1532</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;INFO&#39;.</span>
</span><span id="Logger-1533"><a href="#Logger-1533"><span class="linenos">1533</span></a>
</span><span id="Logger-1534"><a href="#Logger-1534"><span class="linenos">1534</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger-1535"><a href="#Logger-1535"><span class="linenos">1535</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger-1536"><a href="#Logger-1536"><span class="linenos">1536</span></a>
</span><span id="Logger-1537"><a href="#Logger-1537"><span class="linenos">1537</span></a><span class="sd">        logger.info(&quot;Houston, we have a %s&quot;, &quot;notable problem&quot;, exc_info=True)</span>
</span><span id="Logger-1538"><a href="#Logger-1538"><span class="linenos">1538</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1539"><a href="#Logger-1539"><span class="linenos">1539</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">INFO</span><span class="p">):</span>
</span><span id="Logger-1540"><a href="#Logger-1540"><span class="linenos">1540</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1541"><a href="#Logger-1541"><span class="linenos">1541</span></a>
</span><span id="Logger-1542"><a href="#Logger-1542"><span class="linenos">1542</span></a>    <span class="k">def</span> <span class="nf">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1543"><a href="#Logger-1543"><span class="linenos">1543</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1544"><a href="#Logger-1544"><span class="linenos">1544</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;WARNING&#39;.</span>
</span><span id="Logger-1545"><a href="#Logger-1545"><span class="linenos">1545</span></a>
</span><span id="Logger-1546"><a href="#Logger-1546"><span class="linenos">1546</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger-1547"><a href="#Logger-1547"><span class="linenos">1547</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger-1548"><a href="#Logger-1548"><span class="linenos">1548</span></a>
</span><span id="Logger-1549"><a href="#Logger-1549"><span class="linenos">1549</span></a><span class="sd">        logger.warning(&quot;Houston, we have a %s&quot;, &quot;bit of a problem&quot;, exc_info=True)</span>
</span><span id="Logger-1550"><a href="#Logger-1550"><span class="linenos">1550</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1551"><a href="#Logger-1551"><span class="linenos">1551</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">WARNING</span><span class="p">):</span>
</span><span id="Logger-1552"><a href="#Logger-1552"><span class="linenos">1552</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1553"><a href="#Logger-1553"><span class="linenos">1553</span></a>
</span><span id="Logger-1554"><a href="#Logger-1554"><span class="linenos">1554</span></a>    <span class="k">def</span> <span class="nf">warn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1555"><a href="#Logger-1555"><span class="linenos">1555</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The &#39;warn&#39; method is deprecated, &quot;</span>
</span><span id="Logger-1556"><a href="#Logger-1556"><span class="linenos">1556</span></a>            <span class="s2">&quot;use &#39;warning&#39; instead&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Logger-1557"><a href="#Logger-1557"><span class="linenos">1557</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1558"><a href="#Logger-1558"><span class="linenos">1558</span></a>
</span><span id="Logger-1559"><a href="#Logger-1559"><span class="linenos">1559</span></a>    <span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1560"><a href="#Logger-1560"><span class="linenos">1560</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1561"><a href="#Logger-1561"><span class="linenos">1561</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;ERROR&#39;.</span>
</span><span id="Logger-1562"><a href="#Logger-1562"><span class="linenos">1562</span></a>
</span><span id="Logger-1563"><a href="#Logger-1563"><span class="linenos">1563</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger-1564"><a href="#Logger-1564"><span class="linenos">1564</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger-1565"><a href="#Logger-1565"><span class="linenos">1565</span></a>
</span><span id="Logger-1566"><a href="#Logger-1566"><span class="linenos">1566</span></a><span class="sd">        logger.error(&quot;Houston, we have a %s&quot;, &quot;major problem&quot;, exc_info=True)</span>
</span><span id="Logger-1567"><a href="#Logger-1567"><span class="linenos">1567</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1568"><a href="#Logger-1568"><span class="linenos">1568</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">ERROR</span><span class="p">):</span>
</span><span id="Logger-1569"><a href="#Logger-1569"><span class="linenos">1569</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1570"><a href="#Logger-1570"><span class="linenos">1570</span></a>
</span><span id="Logger-1571"><a href="#Logger-1571"><span class="linenos">1571</span></a>    <span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1572"><a href="#Logger-1572"><span class="linenos">1572</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1573"><a href="#Logger-1573"><span class="linenos">1573</span></a><span class="sd">        Convenience method for logging an ERROR with exception information.</span>
</span><span id="Logger-1574"><a href="#Logger-1574"><span class="linenos">1574</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1575"><a href="#Logger-1575"><span class="linenos">1575</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">exc_info</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1576"><a href="#Logger-1576"><span class="linenos">1576</span></a>
</span><span id="Logger-1577"><a href="#Logger-1577"><span class="linenos">1577</span></a>    <span class="k">def</span> <span class="nf">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1578"><a href="#Logger-1578"><span class="linenos">1578</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1579"><a href="#Logger-1579"><span class="linenos">1579</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;CRITICAL&#39;.</span>
</span><span id="Logger-1580"><a href="#Logger-1580"><span class="linenos">1580</span></a>
</span><span id="Logger-1581"><a href="#Logger-1581"><span class="linenos">1581</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger-1582"><a href="#Logger-1582"><span class="linenos">1582</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger-1583"><a href="#Logger-1583"><span class="linenos">1583</span></a>
</span><span id="Logger-1584"><a href="#Logger-1584"><span class="linenos">1584</span></a><span class="sd">        logger.critical(&quot;Houston, we have a %s&quot;, &quot;major disaster&quot;, exc_info=True)</span>
</span><span id="Logger-1585"><a href="#Logger-1585"><span class="linenos">1585</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1586"><a href="#Logger-1586"><span class="linenos">1586</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">):</span>
</span><span id="Logger-1587"><a href="#Logger-1587"><span class="linenos">1587</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1588"><a href="#Logger-1588"><span class="linenos">1588</span></a>
</span><span id="Logger-1589"><a href="#Logger-1589"><span class="linenos">1589</span></a>    <span class="k">def</span> <span class="nf">fatal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1590"><a href="#Logger-1590"><span class="linenos">1590</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1591"><a href="#Logger-1591"><span class="linenos">1591</span></a><span class="sd">        Don&#39;t use this method, use critical() instead.</span>
</span><span id="Logger-1592"><a href="#Logger-1592"><span class="linenos">1592</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1593"><a href="#Logger-1593"><span class="linenos">1593</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1594"><a href="#Logger-1594"><span class="linenos">1594</span></a>
</span><span id="Logger-1595"><a href="#Logger-1595"><span class="linenos">1595</span></a>    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger-1596"><a href="#Logger-1596"><span class="linenos">1596</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1597"><a href="#Logger-1597"><span class="linenos">1597</span></a><span class="sd">        Log &#39;msg % args&#39; with the integer severity &#39;level&#39;.</span>
</span><span id="Logger-1598"><a href="#Logger-1598"><span class="linenos">1598</span></a>
</span><span id="Logger-1599"><a href="#Logger-1599"><span class="linenos">1599</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger-1600"><a href="#Logger-1600"><span class="linenos">1600</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger-1601"><a href="#Logger-1601"><span class="linenos">1601</span></a>
</span><span id="Logger-1602"><a href="#Logger-1602"><span class="linenos">1602</span></a><span class="sd">        logger.log(level, &quot;We have a %s&quot;, &quot;mysterious problem&quot;, exc_info=True)</span>
</span><span id="Logger-1603"><a href="#Logger-1603"><span class="linenos">1603</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1604"><a href="#Logger-1604"><span class="linenos">1604</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="Logger-1605"><a href="#Logger-1605"><span class="linenos">1605</span></a>            <span class="k">if</span> <span class="n">raiseExceptions</span><span class="p">:</span>
</span><span id="Logger-1606"><a href="#Logger-1606"><span class="linenos">1606</span></a>                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;level must be an integer&quot;</span><span class="p">)</span>
</span><span id="Logger-1607"><a href="#Logger-1607"><span class="linenos">1607</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Logger-1608"><a href="#Logger-1608"><span class="linenos">1608</span></a>                <span class="k">return</span>
</span><span id="Logger-1609"><a href="#Logger-1609"><span class="linenos">1609</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="Logger-1610"><a href="#Logger-1610"><span class="linenos">1610</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Logger-1611"><a href="#Logger-1611"><span class="linenos">1611</span></a>
</span><span id="Logger-1612"><a href="#Logger-1612"><span class="linenos">1612</span></a>    <span class="k">def</span> <span class="nf">findCaller</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="Logger-1613"><a href="#Logger-1613"><span class="linenos">1613</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1614"><a href="#Logger-1614"><span class="linenos">1614</span></a><span class="sd">        Find the stack frame of the caller so that we can note the source</span>
</span><span id="Logger-1615"><a href="#Logger-1615"><span class="linenos">1615</span></a><span class="sd">        file name, line number and function name.</span>
</span><span id="Logger-1616"><a href="#Logger-1616"><span class="linenos">1616</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1617"><a href="#Logger-1617"><span class="linenos">1617</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="n">currentframe</span><span class="p">()</span>
</span><span id="Logger-1618"><a href="#Logger-1618"><span class="linenos">1618</span></a>        <span class="c1">#On some versions of IronPython, currentframe() returns None if</span>
</span><span id="Logger-1619"><a href="#Logger-1619"><span class="linenos">1619</span></a>        <span class="c1">#IronPython isn&#39;t run with -X:Frames.</span>
</span><span id="Logger-1620"><a href="#Logger-1620"><span class="linenos">1620</span></a>        <span class="k">if</span> <span class="n">f</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Logger-1621"><a href="#Logger-1621"><span class="linenos">1621</span></a>            <span class="k">return</span> <span class="s2">&quot;(unknown file)&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;(unknown function)&quot;</span><span class="p">,</span> <span class="kc">None</span>
</span><span id="Logger-1622"><a href="#Logger-1622"><span class="linenos">1622</span></a>        <span class="k">while</span> <span class="n">stacklevel</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Logger-1623"><a href="#Logger-1623"><span class="linenos">1623</span></a>            <span class="n">next_f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">f_back</span>
</span><span id="Logger-1624"><a href="#Logger-1624"><span class="linenos">1624</span></a>            <span class="k">if</span> <span class="n">next_f</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Logger-1625"><a href="#Logger-1625"><span class="linenos">1625</span></a>                <span class="c1">## We&#39;ve got options here.</span>
</span><span id="Logger-1626"><a href="#Logger-1626"><span class="linenos">1626</span></a>                <span class="c1">## If we want to use the last (deepest) frame:</span>
</span><span id="Logger-1627"><a href="#Logger-1627"><span class="linenos">1627</span></a>                <span class="k">break</span>
</span><span id="Logger-1628"><a href="#Logger-1628"><span class="linenos">1628</span></a>                <span class="c1">## If we want to mimic the warnings module:</span>
</span><span id="Logger-1629"><a href="#Logger-1629"><span class="linenos">1629</span></a>                <span class="c1">#return (&quot;sys&quot;, 1, &quot;(unknown function)&quot;, None)</span>
</span><span id="Logger-1630"><a href="#Logger-1630"><span class="linenos">1630</span></a>                <span class="c1">## If we want to be pedantic:</span>
</span><span id="Logger-1631"><a href="#Logger-1631"><span class="linenos">1631</span></a>                <span class="c1">#raise ValueError(&quot;call stack is not deep enough&quot;)</span>
</span><span id="Logger-1632"><a href="#Logger-1632"><span class="linenos">1632</span></a>            <span class="n">f</span> <span class="o">=</span> <span class="n">next_f</span>
</span><span id="Logger-1633"><a href="#Logger-1633"><span class="linenos">1633</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">_is_internal_frame</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
</span><span id="Logger-1634"><a href="#Logger-1634"><span class="linenos">1634</span></a>                <span class="n">stacklevel</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="Logger-1635"><a href="#Logger-1635"><span class="linenos">1635</span></a>        <span class="n">co</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">f_code</span>
</span><span id="Logger-1636"><a href="#Logger-1636"><span class="linenos">1636</span></a>        <span class="n">sinfo</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Logger-1637"><a href="#Logger-1637"><span class="linenos">1637</span></a>        <span class="k">if</span> <span class="n">stack_info</span><span class="p">:</span>
</span><span id="Logger-1638"><a href="#Logger-1638"><span class="linenos">1638</span></a>            <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span> <span class="k">as</span> <span class="n">sio</span><span class="p">:</span>
</span><span id="Logger-1639"><a href="#Logger-1639"><span class="linenos">1639</span></a>                <span class="n">sio</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Stack (most recent call last):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Logger-1640"><a href="#Logger-1640"><span class="linenos">1640</span></a>                <span class="n">traceback</span><span class="o">.</span><span class="n">print_stack</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sio</span><span class="p">)</span>
</span><span id="Logger-1641"><a href="#Logger-1641"><span class="linenos">1641</span></a>                <span class="n">sinfo</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="Logger-1642"><a href="#Logger-1642"><span class="linenos">1642</span></a>                <span class="k">if</span> <span class="n">sinfo</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
</span><span id="Logger-1643"><a href="#Logger-1643"><span class="linenos">1643</span></a>                    <span class="n">sinfo</span> <span class="o">=</span> <span class="n">sinfo</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Logger-1644"><a href="#Logger-1644"><span class="linenos">1644</span></a>        <span class="k">return</span> <span class="n">co</span><span class="o">.</span><span class="n">co_filename</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="n">co</span><span class="o">.</span><span class="n">co_name</span><span class="p">,</span> <span class="n">sinfo</span>
</span><span id="Logger-1645"><a href="#Logger-1645"><span class="linenos">1645</span></a>
</span><span id="Logger-1646"><a href="#Logger-1646"><span class="linenos">1646</span></a>    <span class="k">def</span> <span class="nf">makeRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span>
</span><span id="Logger-1647"><a href="#Logger-1647"><span class="linenos">1647</span></a>                   <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Logger-1648"><a href="#Logger-1648"><span class="linenos">1648</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1649"><a href="#Logger-1649"><span class="linenos">1649</span></a><span class="sd">        A factory method which can be overridden in subclasses to create</span>
</span><span id="Logger-1650"><a href="#Logger-1650"><span class="linenos">1650</span></a><span class="sd">        specialized LogRecords.</span>
</span><span id="Logger-1651"><a href="#Logger-1651"><span class="linenos">1651</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1652"><a href="#Logger-1652"><span class="linenos">1652</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="n">_logRecordFactory</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
</span><span id="Logger-1653"><a href="#Logger-1653"><span class="linenos">1653</span></a>                             <span class="n">sinfo</span><span class="p">)</span>
</span><span id="Logger-1654"><a href="#Logger-1654"><span class="linenos">1654</span></a>        <span class="k">if</span> <span class="n">extra</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Logger-1655"><a href="#Logger-1655"><span class="linenos">1655</span></a>            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">extra</span><span class="p">:</span>
</span><span id="Logger-1656"><a href="#Logger-1656"><span class="linenos">1656</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;asctime&quot;</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="n">rv</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">):</span>
</span><span id="Logger-1657"><a href="#Logger-1657"><span class="linenos">1657</span></a>                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Attempt to overwrite </span><span class="si">%r</span><span class="s2"> in LogRecord&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Logger-1658"><a href="#Logger-1658"><span class="linenos">1658</span></a>                <span class="n">rv</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Logger-1659"><a href="#Logger-1659"><span class="linenos">1659</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span><span id="Logger-1660"><a href="#Logger-1660"><span class="linenos">1660</span></a>
</span><span id="Logger-1661"><a href="#Logger-1661"><span class="linenos">1661</span></a>    <span class="k">def</span> <span class="nf">_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stack_info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Logger-1662"><a href="#Logger-1662"><span class="linenos">1662</span></a>             <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="Logger-1663"><a href="#Logger-1663"><span class="linenos">1663</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1664"><a href="#Logger-1664"><span class="linenos">1664</span></a><span class="sd">        Low-level logging routine which creates a LogRecord and then calls</span>
</span><span id="Logger-1665"><a href="#Logger-1665"><span class="linenos">1665</span></a><span class="sd">        all the handlers of this logger to handle the record.</span>
</span><span id="Logger-1666"><a href="#Logger-1666"><span class="linenos">1666</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1667"><a href="#Logger-1667"><span class="linenos">1667</span></a>        <span class="n">sinfo</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Logger-1668"><a href="#Logger-1668"><span class="linenos">1668</span></a>        <span class="k">if</span> <span class="n">_srcfile</span><span class="p">:</span>
</span><span id="Logger-1669"><a href="#Logger-1669"><span class="linenos">1669</span></a>            <span class="c1">#IronPython doesn&#39;t track Python frames, so findCaller raises an</span>
</span><span id="Logger-1670"><a href="#Logger-1670"><span class="linenos">1670</span></a>            <span class="c1">#exception on some versions of IronPython. We trap it here so that</span>
</span><span id="Logger-1671"><a href="#Logger-1671"><span class="linenos">1671</span></a>            <span class="c1">#IronPython can use logging.</span>
</span><span id="Logger-1672"><a href="#Logger-1672"><span class="linenos">1672</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Logger-1673"><a href="#Logger-1673"><span class="linenos">1673</span></a>                <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">sinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">findCaller</span><span class="p">(</span><span class="n">stack_info</span><span class="p">,</span> <span class="n">stacklevel</span><span class="p">)</span>
</span><span id="Logger-1674"><a href="#Logger-1674"><span class="linenos">1674</span></a>            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="Logger-1675"><a href="#Logger-1675"><span class="linenos">1675</span></a>                <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">func</span> <span class="o">=</span> <span class="s2">&quot;(unknown file)&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;(unknown function)&quot;</span>
</span><span id="Logger-1676"><a href="#Logger-1676"><span class="linenos">1676</span></a>        <span class="k">else</span><span class="p">:</span> <span class="c1"># pragma: no cover</span>
</span><span id="Logger-1677"><a href="#Logger-1677"><span class="linenos">1677</span></a>            <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">func</span> <span class="o">=</span> <span class="s2">&quot;(unknown file)&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;(unknown function)&quot;</span>
</span><span id="Logger-1678"><a href="#Logger-1678"><span class="linenos">1678</span></a>        <span class="k">if</span> <span class="n">exc_info</span><span class="p">:</span>
</span><span id="Logger-1679"><a href="#Logger-1679"><span class="linenos">1679</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc_info</span><span class="p">,</span> <span class="ne">BaseException</span><span class="p">):</span>
</span><span id="Logger-1680"><a href="#Logger-1680"><span class="linenos">1680</span></a>                <span class="n">exc_info</span> <span class="o">=</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">exc_info</span><span class="p">),</span> <span class="n">exc_info</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">__traceback__</span><span class="p">)</span>
</span><span id="Logger-1681"><a href="#Logger-1681"><span class="linenos">1681</span></a>            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc_info</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="Logger-1682"><a href="#Logger-1682"><span class="linenos">1682</span></a>                <span class="n">exc_info</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="Logger-1683"><a href="#Logger-1683"><span class="linenos">1683</span></a>        <span class="n">record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">makeRecord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span>
</span><span id="Logger-1684"><a href="#Logger-1684"><span class="linenos">1684</span></a>                                 <span class="n">exc_info</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">extra</span><span class="p">,</span> <span class="n">sinfo</span><span class="p">)</span>
</span><span id="Logger-1685"><a href="#Logger-1685"><span class="linenos">1685</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Logger-1686"><a href="#Logger-1686"><span class="linenos">1686</span></a>
</span><span id="Logger-1687"><a href="#Logger-1687"><span class="linenos">1687</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Logger-1688"><a href="#Logger-1688"><span class="linenos">1688</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1689"><a href="#Logger-1689"><span class="linenos">1689</span></a><span class="sd">        Call the handlers for the specified record.</span>
</span><span id="Logger-1690"><a href="#Logger-1690"><span class="linenos">1690</span></a>
</span><span id="Logger-1691"><a href="#Logger-1691"><span class="linenos">1691</span></a><span class="sd">        This method is used for unpickled records received from a socket, as</span>
</span><span id="Logger-1692"><a href="#Logger-1692"><span class="linenos">1692</span></a><span class="sd">        well as those created locally. Logger-level filtering is applied.</span>
</span><span id="Logger-1693"><a href="#Logger-1693"><span class="linenos">1693</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1694"><a href="#Logger-1694"><span class="linenos">1694</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span><span class="p">:</span>
</span><span id="Logger-1695"><a href="#Logger-1695"><span class="linenos">1695</span></a>            <span class="k">return</span>
</span><span id="Logger-1696"><a href="#Logger-1696"><span class="linenos">1696</span></a>        <span class="n">maybe_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Logger-1697"><a href="#Logger-1697"><span class="linenos">1697</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">maybe_record</span><span class="p">:</span>
</span><span id="Logger-1698"><a href="#Logger-1698"><span class="linenos">1698</span></a>            <span class="k">return</span>
</span><span id="Logger-1699"><a href="#Logger-1699"><span class="linenos">1699</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">maybe_record</span><span class="p">,</span> <span class="n">LogRecord</span><span class="p">):</span>
</span><span id="Logger-1700"><a href="#Logger-1700"><span class="linenos">1700</span></a>            <span class="n">record</span> <span class="o">=</span> <span class="n">maybe_record</span>
</span><span id="Logger-1701"><a href="#Logger-1701"><span class="linenos">1701</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">callHandlers</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Logger-1702"><a href="#Logger-1702"><span class="linenos">1702</span></a>
</span><span id="Logger-1703"><a href="#Logger-1703"><span class="linenos">1703</span></a>    <span class="k">def</span> <span class="nf">addHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdlr</span><span class="p">):</span>
</span><span id="Logger-1704"><a href="#Logger-1704"><span class="linenos">1704</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1705"><a href="#Logger-1705"><span class="linenos">1705</span></a><span class="sd">        Add the specified handler to this logger.</span>
</span><span id="Logger-1706"><a href="#Logger-1706"><span class="linenos">1706</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1707"><a href="#Logger-1707"><span class="linenos">1707</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Logger-1708"><a href="#Logger-1708"><span class="linenos">1708</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Logger-1709"><a href="#Logger-1709"><span class="linenos">1709</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">hdlr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="p">):</span>
</span><span id="Logger-1710"><a href="#Logger-1710"><span class="linenos">1710</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hdlr</span><span class="p">)</span>
</span><span id="Logger-1711"><a href="#Logger-1711"><span class="linenos">1711</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Logger-1712"><a href="#Logger-1712"><span class="linenos">1712</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="Logger-1713"><a href="#Logger-1713"><span class="linenos">1713</span></a>
</span><span id="Logger-1714"><a href="#Logger-1714"><span class="linenos">1714</span></a>    <span class="k">def</span> <span class="nf">removeHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdlr</span><span class="p">):</span>
</span><span id="Logger-1715"><a href="#Logger-1715"><span class="linenos">1715</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1716"><a href="#Logger-1716"><span class="linenos">1716</span></a><span class="sd">        Remove the specified handler from this logger.</span>
</span><span id="Logger-1717"><a href="#Logger-1717"><span class="linenos">1717</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1718"><a href="#Logger-1718"><span class="linenos">1718</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Logger-1719"><a href="#Logger-1719"><span class="linenos">1719</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Logger-1720"><a href="#Logger-1720"><span class="linenos">1720</span></a>            <span class="k">if</span> <span class="n">hdlr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="Logger-1721"><a href="#Logger-1721"><span class="linenos">1721</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">hdlr</span><span class="p">)</span>
</span><span id="Logger-1722"><a href="#Logger-1722"><span class="linenos">1722</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Logger-1723"><a href="#Logger-1723"><span class="linenos">1723</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="Logger-1724"><a href="#Logger-1724"><span class="linenos">1724</span></a>
</span><span id="Logger-1725"><a href="#Logger-1725"><span class="linenos">1725</span></a>    <span class="k">def</span> <span class="nf">hasHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Logger-1726"><a href="#Logger-1726"><span class="linenos">1726</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1727"><a href="#Logger-1727"><span class="linenos">1727</span></a><span class="sd">        See if this logger has any handlers configured.</span>
</span><span id="Logger-1728"><a href="#Logger-1728"><span class="linenos">1728</span></a>
</span><span id="Logger-1729"><a href="#Logger-1729"><span class="linenos">1729</span></a><span class="sd">        Loop through all handlers for this logger and its parents in the</span>
</span><span id="Logger-1730"><a href="#Logger-1730"><span class="linenos">1730</span></a><span class="sd">        logger hierarchy. Return True if a handler was found, else False.</span>
</span><span id="Logger-1731"><a href="#Logger-1731"><span class="linenos">1731</span></a><span class="sd">        Stop searching up the hierarchy whenever a logger with the &quot;propagate&quot;</span>
</span><span id="Logger-1732"><a href="#Logger-1732"><span class="linenos">1732</span></a><span class="sd">        attribute set to zero is found - that will be the last logger which</span>
</span><span id="Logger-1733"><a href="#Logger-1733"><span class="linenos">1733</span></a><span class="sd">        is checked for the existence of handlers.</span>
</span><span id="Logger-1734"><a href="#Logger-1734"><span class="linenos">1734</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1735"><a href="#Logger-1735"><span class="linenos">1735</span></a>        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Logger-1736"><a href="#Logger-1736"><span class="linenos">1736</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Logger-1737"><a href="#Logger-1737"><span class="linenos">1737</span></a>        <span class="k">while</span> <span class="n">c</span><span class="p">:</span>
</span><span id="Logger-1738"><a href="#Logger-1738"><span class="linenos">1738</span></a>            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="Logger-1739"><a href="#Logger-1739"><span class="linenos">1739</span></a>                <span class="n">rv</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Logger-1740"><a href="#Logger-1740"><span class="linenos">1740</span></a>                <span class="k">break</span>
</span><span id="Logger-1741"><a href="#Logger-1741"><span class="linenos">1741</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">propagate</span><span class="p">:</span>
</span><span id="Logger-1742"><a href="#Logger-1742"><span class="linenos">1742</span></a>                <span class="k">break</span>
</span><span id="Logger-1743"><a href="#Logger-1743"><span class="linenos">1743</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Logger-1744"><a href="#Logger-1744"><span class="linenos">1744</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span>
</span><span id="Logger-1745"><a href="#Logger-1745"><span class="linenos">1745</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span><span id="Logger-1746"><a href="#Logger-1746"><span class="linenos">1746</span></a>
</span><span id="Logger-1747"><a href="#Logger-1747"><span class="linenos">1747</span></a>    <span class="k">def</span> <span class="nf">callHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Logger-1748"><a href="#Logger-1748"><span class="linenos">1748</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1749"><a href="#Logger-1749"><span class="linenos">1749</span></a><span class="sd">        Pass a record to all relevant handlers.</span>
</span><span id="Logger-1750"><a href="#Logger-1750"><span class="linenos">1750</span></a>
</span><span id="Logger-1751"><a href="#Logger-1751"><span class="linenos">1751</span></a><span class="sd">        Loop through all handlers for this logger and its parents in the</span>
</span><span id="Logger-1752"><a href="#Logger-1752"><span class="linenos">1752</span></a><span class="sd">        logger hierarchy. If no handler was found, output a one-off error</span>
</span><span id="Logger-1753"><a href="#Logger-1753"><span class="linenos">1753</span></a><span class="sd">        message to sys.stderr. Stop searching up the hierarchy whenever a</span>
</span><span id="Logger-1754"><a href="#Logger-1754"><span class="linenos">1754</span></a><span class="sd">        logger with the &quot;propagate&quot; attribute set to zero is found - that</span>
</span><span id="Logger-1755"><a href="#Logger-1755"><span class="linenos">1755</span></a><span class="sd">        will be the last logger whose handlers are called.</span>
</span><span id="Logger-1756"><a href="#Logger-1756"><span class="linenos">1756</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1757"><a href="#Logger-1757"><span class="linenos">1757</span></a>        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Logger-1758"><a href="#Logger-1758"><span class="linenos">1758</span></a>        <span class="n">found</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Logger-1759"><a href="#Logger-1759"><span class="linenos">1759</span></a>        <span class="k">while</span> <span class="n">c</span><span class="p">:</span>
</span><span id="Logger-1760"><a href="#Logger-1760"><span class="linenos">1760</span></a>            <span class="k">for</span> <span class="n">hdlr</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="Logger-1761"><a href="#Logger-1761"><span class="linenos">1761</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="n">found</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="Logger-1762"><a href="#Logger-1762"><span class="linenos">1762</span></a>                <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">levelno</span> <span class="o">&gt;=</span> <span class="n">hdlr</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="Logger-1763"><a href="#Logger-1763"><span class="linenos">1763</span></a>                    <span class="n">hdlr</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Logger-1764"><a href="#Logger-1764"><span class="linenos">1764</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">propagate</span><span class="p">:</span>
</span><span id="Logger-1765"><a href="#Logger-1765"><span class="linenos">1765</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="kc">None</span>    <span class="c1">#break out</span>
</span><span id="Logger-1766"><a href="#Logger-1766"><span class="linenos">1766</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Logger-1767"><a href="#Logger-1767"><span class="linenos">1767</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span>
</span><span id="Logger-1768"><a href="#Logger-1768"><span class="linenos">1768</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">found</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Logger-1769"><a href="#Logger-1769"><span class="linenos">1769</span></a>            <span class="k">if</span> <span class="n">lastResort</span><span class="p">:</span>
</span><span id="Logger-1770"><a href="#Logger-1770"><span class="linenos">1770</span></a>                <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">levelno</span> <span class="o">&gt;=</span> <span class="n">lastResort</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="Logger-1771"><a href="#Logger-1771"><span class="linenos">1771</span></a>                    <span class="n">lastResort</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Logger-1772"><a href="#Logger-1772"><span class="linenos">1772</span></a>            <span class="k">elif</span> <span class="n">raiseExceptions</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">emittedNoHandlerWarning</span><span class="p">:</span>
</span><span id="Logger-1773"><a href="#Logger-1773"><span class="linenos">1773</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;No handlers could be found for logger&quot;</span>
</span><span id="Logger-1774"><a href="#Logger-1774"><span class="linenos">1774</span></a>                                 <span class="s2">&quot; </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="Logger-1775"><a href="#Logger-1775"><span class="linenos">1775</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">emittedNoHandlerWarning</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Logger-1776"><a href="#Logger-1776"><span class="linenos">1776</span></a>
</span><span id="Logger-1777"><a href="#Logger-1777"><span class="linenos">1777</span></a>    <span class="k">def</span> <span class="nf">getEffectiveLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Logger-1778"><a href="#Logger-1778"><span class="linenos">1778</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1779"><a href="#Logger-1779"><span class="linenos">1779</span></a><span class="sd">        Get the effective level for this logger.</span>
</span><span id="Logger-1780"><a href="#Logger-1780"><span class="linenos">1780</span></a>
</span><span id="Logger-1781"><a href="#Logger-1781"><span class="linenos">1781</span></a><span class="sd">        Loop through this logger and its parents in the logger hierarchy,</span>
</span><span id="Logger-1782"><a href="#Logger-1782"><span class="linenos">1782</span></a><span class="sd">        looking for a non-zero logging level. Return the first one found.</span>
</span><span id="Logger-1783"><a href="#Logger-1783"><span class="linenos">1783</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1784"><a href="#Logger-1784"><span class="linenos">1784</span></a>        <span class="n">logger</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Logger-1785"><a href="#Logger-1785"><span class="linenos">1785</span></a>        <span class="k">while</span> <span class="n">logger</span><span class="p">:</span>
</span><span id="Logger-1786"><a href="#Logger-1786"><span class="linenos">1786</span></a>            <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="Logger-1787"><a href="#Logger-1787"><span class="linenos">1787</span></a>                <span class="k">return</span> <span class="n">logger</span><span class="o">.</span><span class="n">level</span>
</span><span id="Logger-1788"><a href="#Logger-1788"><span class="linenos">1788</span></a>            <span class="n">logger</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">parent</span>
</span><span id="Logger-1789"><a href="#Logger-1789"><span class="linenos">1789</span></a>        <span class="k">return</span> <span class="n">NOTSET</span>
</span><span id="Logger-1790"><a href="#Logger-1790"><span class="linenos">1790</span></a>
</span><span id="Logger-1791"><a href="#Logger-1791"><span class="linenos">1791</span></a>    <span class="k">def</span> <span class="nf">isEnabledFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="Logger-1792"><a href="#Logger-1792"><span class="linenos">1792</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1793"><a href="#Logger-1793"><span class="linenos">1793</span></a><span class="sd">        Is this logger enabled for level &#39;level&#39;?</span>
</span><span id="Logger-1794"><a href="#Logger-1794"><span class="linenos">1794</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1795"><a href="#Logger-1795"><span class="linenos">1795</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span><span class="p">:</span>
</span><span id="Logger-1796"><a href="#Logger-1796"><span class="linenos">1796</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Logger-1797"><a href="#Logger-1797"><span class="linenos">1797</span></a>
</span><span id="Logger-1798"><a href="#Logger-1798"><span class="linenos">1798</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Logger-1799"><a href="#Logger-1799"><span class="linenos">1799</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span>
</span><span id="Logger-1800"><a href="#Logger-1800"><span class="linenos">1800</span></a>        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="Logger-1801"><a href="#Logger-1801"><span class="linenos">1801</span></a>            <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Logger-1802"><a href="#Logger-1802"><span class="linenos">1802</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Logger-1803"><a href="#Logger-1803"><span class="linenos">1803</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">disable</span> <span class="o">&gt;=</span> <span class="n">level</span><span class="p">:</span>
</span><span id="Logger-1804"><a href="#Logger-1804"><span class="linenos">1804</span></a>                    <span class="n">is_enabled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Logger-1805"><a href="#Logger-1805"><span class="linenos">1805</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Logger-1806"><a href="#Logger-1806"><span class="linenos">1806</span></a>                    <span class="n">is_enabled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="Logger-1807"><a href="#Logger-1807"><span class="linenos">1807</span></a>                        <span class="n">level</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">()</span>
</span><span id="Logger-1808"><a href="#Logger-1808"><span class="linenos">1808</span></a>                    <span class="p">)</span>
</span><span id="Logger-1809"><a href="#Logger-1809"><span class="linenos">1809</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="Logger-1810"><a href="#Logger-1810"><span class="linenos">1810</span></a>                <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="Logger-1811"><a href="#Logger-1811"><span class="linenos">1811</span></a>            <span class="k">return</span> <span class="n">is_enabled</span>
</span><span id="Logger-1812"><a href="#Logger-1812"><span class="linenos">1812</span></a>
</span><span id="Logger-1813"><a href="#Logger-1813"><span class="linenos">1813</span></a>    <span class="k">def</span> <span class="nf">getChild</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">suffix</span><span class="p">):</span>
</span><span id="Logger-1814"><a href="#Logger-1814"><span class="linenos">1814</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger-1815"><a href="#Logger-1815"><span class="linenos">1815</span></a><span class="sd">        Get a logger which is a descendant to this one.</span>
</span><span id="Logger-1816"><a href="#Logger-1816"><span class="linenos">1816</span></a>
</span><span id="Logger-1817"><a href="#Logger-1817"><span class="linenos">1817</span></a><span class="sd">        This is a convenience method, such that</span>
</span><span id="Logger-1818"><a href="#Logger-1818"><span class="linenos">1818</span></a>
</span><span id="Logger-1819"><a href="#Logger-1819"><span class="linenos">1819</span></a><span class="sd">        logging.getLogger(&#39;abc&#39;).getChild(&#39;def.ghi&#39;)</span>
</span><span id="Logger-1820"><a href="#Logger-1820"><span class="linenos">1820</span></a>
</span><span id="Logger-1821"><a href="#Logger-1821"><span class="linenos">1821</span></a><span class="sd">        is the same as</span>
</span><span id="Logger-1822"><a href="#Logger-1822"><span class="linenos">1822</span></a>
</span><span id="Logger-1823"><a href="#Logger-1823"><span class="linenos">1823</span></a><span class="sd">        logging.getLogger(&#39;abc.def.ghi&#39;)</span>
</span><span id="Logger-1824"><a href="#Logger-1824"><span class="linenos">1824</span></a>
</span><span id="Logger-1825"><a href="#Logger-1825"><span class="linenos">1825</span></a><span class="sd">        It&#39;s useful, for example, when the parent logger is named using</span>
</span><span id="Logger-1826"><a href="#Logger-1826"><span class="linenos">1826</span></a><span class="sd">        __name__ rather than a literal string.</span>
</span><span id="Logger-1827"><a href="#Logger-1827"><span class="linenos">1827</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger-1828"><a href="#Logger-1828"><span class="linenos">1828</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="Logger-1829"><a href="#Logger-1829"><span class="linenos">1829</span></a>            <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">suffix</span><span class="p">))</span>
</span><span id="Logger-1830"><a href="#Logger-1830"><span class="linenos">1830</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
</span><span id="Logger-1831"><a href="#Logger-1831"><span class="linenos">1831</span></a>
</span><span id="Logger-1832"><a href="#Logger-1832"><span class="linenos">1832</span></a>    <span class="k">def</span> <span class="nf">getChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Logger-1833"><a href="#Logger-1833"><span class="linenos">1833</span></a>
</span><span id="Logger-1834"><a href="#Logger-1834"><span class="linenos">1834</span></a>        <span class="k">def</span> <span class="nf">_hierlevel</span><span class="p">(</span><span class="n">logger</span><span class="p">):</span>
</span><span id="Logger-1835"><a href="#Logger-1835"><span class="linenos">1835</span></a>            <span class="k">if</span> <span class="n">logger</span> <span class="ow">is</span> <span class="n">logger</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">root</span><span class="p">:</span>
</span><span id="Logger-1836"><a href="#Logger-1836"><span class="linenos">1836</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="Logger-1837"><a href="#Logger-1837"><span class="linenos">1837</span></a>            <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">logger</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</span><span id="Logger-1838"><a href="#Logger-1838"><span class="linenos">1838</span></a>
</span><span id="Logger-1839"><a href="#Logger-1839"><span class="linenos">1839</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">loggerDict</span>
</span><span id="Logger-1840"><a href="#Logger-1840"><span class="linenos">1840</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Logger-1841"><a href="#Logger-1841"><span class="linenos">1841</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Logger-1842"><a href="#Logger-1842"><span class="linenos">1842</span></a>            <span class="c1"># exclude PlaceHolders - the last check is to ensure that lower-level</span>
</span><span id="Logger-1843"><a href="#Logger-1843"><span class="linenos">1843</span></a>            <span class="c1"># descendants aren&#39;t returned - if there are placeholders, a logger&#39;s</span>
</span><span id="Logger-1844"><a href="#Logger-1844"><span class="linenos">1844</span></a>            <span class="c1"># parent field might point to a grandparent or ancestor thereof.</span>
</span><span id="Logger-1845"><a href="#Logger-1845"><span class="linenos">1845</span></a>            <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</span><span id="Logger-1846"><a href="#Logger-1846"><span class="linenos">1846</span></a>                       <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Logger</span><span class="p">)</span> <span class="ow">and</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="bp">self</span> <span class="ow">and</span>
</span><span id="Logger-1847"><a href="#Logger-1847"><span class="linenos">1847</span></a>                       <span class="n">_hierlevel</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">_hierlevel</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">))</span>
</span><span id="Logger-1848"><a href="#Logger-1848"><span class="linenos">1848</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Logger-1849"><a href="#Logger-1849"><span class="linenos">1849</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="Logger-1850"><a href="#Logger-1850"><span class="linenos">1850</span></a>
</span><span id="Logger-1851"><a href="#Logger-1851"><span class="linenos">1851</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Logger-1852"><a href="#Logger-1852"><span class="linenos">1852</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">())</span>
</span><span id="Logger-1853"><a href="#Logger-1853"><span class="linenos">1853</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="Logger-1854"><a href="#Logger-1854"><span class="linenos">1854</span></a>
</span><span id="Logger-1855"><a href="#Logger-1855"><span class="linenos">1855</span></a>    <span class="k">def</span> <span class="nf">__reduce__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Logger-1856"><a href="#Logger-1856"><span class="linenos">1856</span></a>        <span class="k">if</span> <span class="n">getLogger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="Logger-1857"><a href="#Logger-1857"><span class="linenos">1857</span></a>            <span class="kn">import</span> <span class="nn">pickle</span>
</span><span id="Logger-1858"><a href="#Logger-1858"><span class="linenos">1858</span></a>            <span class="k">raise</span> <span class="n">pickle</span><span class="o">.</span><span class="n">PicklingError</span><span class="p">(</span><span class="s1">&#39;logger cannot be pickled&#39;</span><span class="p">)</span>
</span><span id="Logger-1859"><a href="#Logger-1859"><span class="linenos">1859</span></a>        <span class="k">return</span> <span class="n">getLogger</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,)</span>
</span></pre></div>


            <div class="docstring"><p>Instances of the Logger class represent a single logging channel. A
"logging channel" indicates an area of an application. Exactly how an
"area" is defined is up to the application developer. Since an
application can have any number of areas, logging channels are identified
by a unique string. Application areas can be nested (e.g. an area
of "input processing" might include sub-areas "read CSV files", "read
XLS files" and "read Gnumeric files"). To cater for this natural nesting,
channel names are organized into a namespace hierarchy where levels are
separated by periods, much like the Java or Python package namespace. So
in the instance given above, channel names might be "input" for the upper
level, and "input.csv", "input.xls" and "input.gnu" for the sub-levels.
There is no arbitrary limit to the depth of nesting.</p>
</div>


                            <div id="Logger.__init__" class="classattr">
                                        <input id="Logger.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Logger</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">level</span><span class="o">=</span><span class="mi">0</span></span>)</span>

                <label class="view-source-button" for="Logger.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.__init__-1498"><a href="#Logger.__init__-1498"><span class="linenos">1498</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">NOTSET</span><span class="p">):</span>
</span><span id="Logger.__init__-1499"><a href="#Logger.__init__-1499"><span class="linenos">1499</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.__init__-1500"><a href="#Logger.__init__-1500"><span class="linenos">1500</span></a><span class="sd">        Initialize the logger with a name and an optional level.</span>
</span><span id="Logger.__init__-1501"><a href="#Logger.__init__-1501"><span class="linenos">1501</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.__init__-1502"><a href="#Logger.__init__-1502"><span class="linenos">1502</span></a>        <span class="n">Filterer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Logger.__init__-1503"><a href="#Logger.__init__-1503"><span class="linenos">1503</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Logger.__init__-1504"><a href="#Logger.__init__-1504"><span class="linenos">1504</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="Logger.__init__-1505"><a href="#Logger.__init__-1505"><span class="linenos">1505</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Logger.__init__-1506"><a href="#Logger.__init__-1506"><span class="linenos">1506</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Logger.__init__-1507"><a href="#Logger.__init__-1507"><span class="linenos">1507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Logger.__init__-1508"><a href="#Logger.__init__-1508"><span class="linenos">1508</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Logger.__init__-1509"><a href="#Logger.__init__-1509"><span class="linenos">1509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="p">{}</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the logger with a name and an optional level.</p>
</div>


                            </div>
                            <div id="Logger.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span>

        
    </div>
    <a class="headerlink" href="#Logger.name"></a>
    
    

                            </div>
                            <div id="Logger.level" class="classattr">
                                <div class="attr variable">
            <span class="name">level</span>

        
    </div>
    <a class="headerlink" href="#Logger.level"></a>
    
    

                            </div>
                            <div id="Logger.parent" class="classattr">
                                <div class="attr variable">
            <span class="name">parent</span>

        
    </div>
    <a class="headerlink" href="#Logger.parent"></a>
    
    

                            </div>
                            <div id="Logger.propagate" class="classattr">
                                <div class="attr variable">
            <span class="name">propagate</span>

        
    </div>
    <a class="headerlink" href="#Logger.propagate"></a>
    
    

                            </div>
                            <div id="Logger.handlers" class="classattr">
                                <div class="attr variable">
            <span class="name">handlers</span>

        
    </div>
    <a class="headerlink" href="#Logger.handlers"></a>
    
    

                            </div>
                            <div id="Logger.disabled" class="classattr">
                                <div class="attr variable">
            <span class="name">disabled</span>

        
    </div>
    <a class="headerlink" href="#Logger.disabled"></a>
    
    

                            </div>
                            <div id="Logger.setLevel" class="classattr">
                                        <input id="Logger.setLevel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setLevel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">level</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.setLevel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.setLevel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.setLevel-1511"><a href="#Logger.setLevel-1511"><span class="linenos">1511</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="Logger.setLevel-1512"><a href="#Logger.setLevel-1512"><span class="linenos">1512</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.setLevel-1513"><a href="#Logger.setLevel-1513"><span class="linenos">1513</span></a><span class="sd">        Set the logging level of this logger.  level must be an int or a str.</span>
</span><span id="Logger.setLevel-1514"><a href="#Logger.setLevel-1514"><span class="linenos">1514</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.setLevel-1515"><a href="#Logger.setLevel-1515"><span class="linenos">1515</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">_checkLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="Logger.setLevel-1516"><a href="#Logger.setLevel-1516"><span class="linenos">1516</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">_clear_cache</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Set the logging level of this logger.  level must be an int or a str.</p>
</div>


                            </div>
                            <div id="Logger.debug" class="classattr">
                                        <input id="Logger.debug-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">debug</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.debug-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.debug"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.debug-1518"><a href="#Logger.debug-1518"><span class="linenos">1518</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.debug-1519"><a href="#Logger.debug-1519"><span class="linenos">1519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.debug-1520"><a href="#Logger.debug-1520"><span class="linenos">1520</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;DEBUG&#39;.</span>
</span><span id="Logger.debug-1521"><a href="#Logger.debug-1521"><span class="linenos">1521</span></a>
</span><span id="Logger.debug-1522"><a href="#Logger.debug-1522"><span class="linenos">1522</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger.debug-1523"><a href="#Logger.debug-1523"><span class="linenos">1523</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger.debug-1524"><a href="#Logger.debug-1524"><span class="linenos">1524</span></a>
</span><span id="Logger.debug-1525"><a href="#Logger.debug-1525"><span class="linenos">1525</span></a><span class="sd">        logger.debug(&quot;Houston, we have a %s&quot;, &quot;thorny problem&quot;, exc_info=True)</span>
</span><span id="Logger.debug-1526"><a href="#Logger.debug-1526"><span class="linenos">1526</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.debug-1527"><a href="#Logger.debug-1527"><span class="linenos">1527</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">):</span>
</span><span id="Logger.debug-1528"><a href="#Logger.debug-1528"><span class="linenos">1528</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log 'msg % args' with severity 'DEBUG'.</p>

<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>

<p>logger.debug("Houston, we have a %s", "thorny problem", exc_info=True)</p>
</div>


                            </div>
                            <div id="Logger.info" class="classattr">
                                        <input id="Logger.info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.info-1530"><a href="#Logger.info-1530"><span class="linenos">1530</span></a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.info-1531"><a href="#Logger.info-1531"><span class="linenos">1531</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.info-1532"><a href="#Logger.info-1532"><span class="linenos">1532</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;INFO&#39;.</span>
</span><span id="Logger.info-1533"><a href="#Logger.info-1533"><span class="linenos">1533</span></a>
</span><span id="Logger.info-1534"><a href="#Logger.info-1534"><span class="linenos">1534</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger.info-1535"><a href="#Logger.info-1535"><span class="linenos">1535</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger.info-1536"><a href="#Logger.info-1536"><span class="linenos">1536</span></a>
</span><span id="Logger.info-1537"><a href="#Logger.info-1537"><span class="linenos">1537</span></a><span class="sd">        logger.info(&quot;Houston, we have a %s&quot;, &quot;notable problem&quot;, exc_info=True)</span>
</span><span id="Logger.info-1538"><a href="#Logger.info-1538"><span class="linenos">1538</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.info-1539"><a href="#Logger.info-1539"><span class="linenos">1539</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">INFO</span><span class="p">):</span>
</span><span id="Logger.info-1540"><a href="#Logger.info-1540"><span class="linenos">1540</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log 'msg % args' with severity 'INFO'.</p>

<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>

<p>logger.info("Houston, we have a %s", "notable problem", exc_info=True)</p>
</div>


                            </div>
                            <div id="Logger.warning" class="classattr">
                                        <input id="Logger.warning-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">warning</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.warning-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.warning"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.warning-1542"><a href="#Logger.warning-1542"><span class="linenos">1542</span></a>    <span class="k">def</span> <span class="nf">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.warning-1543"><a href="#Logger.warning-1543"><span class="linenos">1543</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.warning-1544"><a href="#Logger.warning-1544"><span class="linenos">1544</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;WARNING&#39;.</span>
</span><span id="Logger.warning-1545"><a href="#Logger.warning-1545"><span class="linenos">1545</span></a>
</span><span id="Logger.warning-1546"><a href="#Logger.warning-1546"><span class="linenos">1546</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger.warning-1547"><a href="#Logger.warning-1547"><span class="linenos">1547</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger.warning-1548"><a href="#Logger.warning-1548"><span class="linenos">1548</span></a>
</span><span id="Logger.warning-1549"><a href="#Logger.warning-1549"><span class="linenos">1549</span></a><span class="sd">        logger.warning(&quot;Houston, we have a %s&quot;, &quot;bit of a problem&quot;, exc_info=True)</span>
</span><span id="Logger.warning-1550"><a href="#Logger.warning-1550"><span class="linenos">1550</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.warning-1551"><a href="#Logger.warning-1551"><span class="linenos">1551</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">WARNING</span><span class="p">):</span>
</span><span id="Logger.warning-1552"><a href="#Logger.warning-1552"><span class="linenos">1552</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log 'msg % args' with severity 'WARNING'.</p>

<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>

<p>logger.warning("Houston, we have a %s", "bit of a problem", exc_info=True)</p>
</div>


                            </div>
                            <div id="Logger.warn" class="classattr">
                                        <input id="Logger.warn-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">warn</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.warn-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.warn"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.warn-1554"><a href="#Logger.warn-1554"><span class="linenos">1554</span></a>    <span class="k">def</span> <span class="nf">warn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.warn-1555"><a href="#Logger.warn-1555"><span class="linenos">1555</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The &#39;warn&#39; method is deprecated, &quot;</span>
</span><span id="Logger.warn-1556"><a href="#Logger.warn-1556"><span class="linenos">1556</span></a>            <span class="s2">&quot;use &#39;warning&#39; instead&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Logger.warn-1557"><a href="#Logger.warn-1557"><span class="linenos">1557</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Logger.error" class="classattr">
                                        <input id="Logger.error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">error</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.error-1559"><a href="#Logger.error-1559"><span class="linenos">1559</span></a>    <span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.error-1560"><a href="#Logger.error-1560"><span class="linenos">1560</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.error-1561"><a href="#Logger.error-1561"><span class="linenos">1561</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;ERROR&#39;.</span>
</span><span id="Logger.error-1562"><a href="#Logger.error-1562"><span class="linenos">1562</span></a>
</span><span id="Logger.error-1563"><a href="#Logger.error-1563"><span class="linenos">1563</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger.error-1564"><a href="#Logger.error-1564"><span class="linenos">1564</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger.error-1565"><a href="#Logger.error-1565"><span class="linenos">1565</span></a>
</span><span id="Logger.error-1566"><a href="#Logger.error-1566"><span class="linenos">1566</span></a><span class="sd">        logger.error(&quot;Houston, we have a %s&quot;, &quot;major problem&quot;, exc_info=True)</span>
</span><span id="Logger.error-1567"><a href="#Logger.error-1567"><span class="linenos">1567</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.error-1568"><a href="#Logger.error-1568"><span class="linenos">1568</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">ERROR</span><span class="p">):</span>
</span><span id="Logger.error-1569"><a href="#Logger.error-1569"><span class="linenos">1569</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log 'msg % args' with severity 'ERROR'.</p>

<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>

<p>logger.error("Houston, we have a %s", "major problem", exc_info=True)</p>
</div>


                            </div>
                            <div id="Logger.exception" class="classattr">
                                        <input id="Logger.exception-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">exception</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.exception-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.exception"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.exception-1571"><a href="#Logger.exception-1571"><span class="linenos">1571</span></a>    <span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.exception-1572"><a href="#Logger.exception-1572"><span class="linenos">1572</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.exception-1573"><a href="#Logger.exception-1573"><span class="linenos">1573</span></a><span class="sd">        Convenience method for logging an ERROR with exception information.</span>
</span><span id="Logger.exception-1574"><a href="#Logger.exception-1574"><span class="linenos">1574</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.exception-1575"><a href="#Logger.exception-1575"><span class="linenos">1575</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">exc_info</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Convenience method for logging an ERROR with exception information.</p>
</div>


                            </div>
                            <div id="Logger.critical" class="classattr">
                                        <input id="Logger.critical-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">critical</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.critical-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.critical"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.critical-1577"><a href="#Logger.critical-1577"><span class="linenos">1577</span></a>    <span class="k">def</span> <span class="nf">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.critical-1578"><a href="#Logger.critical-1578"><span class="linenos">1578</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.critical-1579"><a href="#Logger.critical-1579"><span class="linenos">1579</span></a><span class="sd">        Log &#39;msg % args&#39; with severity &#39;CRITICAL&#39;.</span>
</span><span id="Logger.critical-1580"><a href="#Logger.critical-1580"><span class="linenos">1580</span></a>
</span><span id="Logger.critical-1581"><a href="#Logger.critical-1581"><span class="linenos">1581</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger.critical-1582"><a href="#Logger.critical-1582"><span class="linenos">1582</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger.critical-1583"><a href="#Logger.critical-1583"><span class="linenos">1583</span></a>
</span><span id="Logger.critical-1584"><a href="#Logger.critical-1584"><span class="linenos">1584</span></a><span class="sd">        logger.critical(&quot;Houston, we have a %s&quot;, &quot;major disaster&quot;, exc_info=True)</span>
</span><span id="Logger.critical-1585"><a href="#Logger.critical-1585"><span class="linenos">1585</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.critical-1586"><a href="#Logger.critical-1586"><span class="linenos">1586</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">):</span>
</span><span id="Logger.critical-1587"><a href="#Logger.critical-1587"><span class="linenos">1587</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log 'msg % args' with severity 'CRITICAL'.</p>

<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>

<p>logger.critical("Houston, we have a %s", "major disaster", exc_info=True)</p>
</div>


                            </div>
                            <div id="Logger.fatal" class="classattr">
                                        <input id="Logger.fatal-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fatal</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.fatal-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.fatal"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.fatal-1589"><a href="#Logger.fatal-1589"><span class="linenos">1589</span></a>    <span class="k">def</span> <span class="nf">fatal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.fatal-1590"><a href="#Logger.fatal-1590"><span class="linenos">1590</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.fatal-1591"><a href="#Logger.fatal-1591"><span class="linenos">1591</span></a><span class="sd">        Don&#39;t use this method, use critical() instead.</span>
</span><span id="Logger.fatal-1592"><a href="#Logger.fatal-1592"><span class="linenos">1592</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.fatal-1593"><a href="#Logger.fatal-1593"><span class="linenos">1593</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Don't use this method, use critical() instead.</p>
</div>


                            </div>
                            <div id="Logger.log" class="classattr">
                                        <input id="Logger.log-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">log</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">level</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.log-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.log"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.log-1595"><a href="#Logger.log-1595"><span class="linenos">1595</span></a>    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.log-1596"><a href="#Logger.log-1596"><span class="linenos">1596</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.log-1597"><a href="#Logger.log-1597"><span class="linenos">1597</span></a><span class="sd">        Log &#39;msg % args&#39; with the integer severity &#39;level&#39;.</span>
</span><span id="Logger.log-1598"><a href="#Logger.log-1598"><span class="linenos">1598</span></a>
</span><span id="Logger.log-1599"><a href="#Logger.log-1599"><span class="linenos">1599</span></a><span class="sd">        To pass exception information, use the keyword argument exc_info with</span>
</span><span id="Logger.log-1600"><a href="#Logger.log-1600"><span class="linenos">1600</span></a><span class="sd">        a true value, e.g.</span>
</span><span id="Logger.log-1601"><a href="#Logger.log-1601"><span class="linenos">1601</span></a>
</span><span id="Logger.log-1602"><a href="#Logger.log-1602"><span class="linenos">1602</span></a><span class="sd">        logger.log(level, &quot;We have a %s&quot;, &quot;mysterious problem&quot;, exc_info=True)</span>
</span><span id="Logger.log-1603"><a href="#Logger.log-1603"><span class="linenos">1603</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.log-1604"><a href="#Logger.log-1604"><span class="linenos">1604</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="Logger.log-1605"><a href="#Logger.log-1605"><span class="linenos">1605</span></a>            <span class="k">if</span> <span class="n">raiseExceptions</span><span class="p">:</span>
</span><span id="Logger.log-1606"><a href="#Logger.log-1606"><span class="linenos">1606</span></a>                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;level must be an integer&quot;</span><span class="p">)</span>
</span><span id="Logger.log-1607"><a href="#Logger.log-1607"><span class="linenos">1607</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Logger.log-1608"><a href="#Logger.log-1608"><span class="linenos">1608</span></a>                <span class="k">return</span>
</span><span id="Logger.log-1609"><a href="#Logger.log-1609"><span class="linenos">1609</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="Logger.log-1610"><a href="#Logger.log-1610"><span class="linenos">1610</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log 'msg % args' with the integer severity 'level'.</p>

<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>

<p>logger.log(level, "We have a %s", "mysterious problem", exc_info=True)</p>
</div>


                            </div>
                            <div id="Logger.findCaller" class="classattr">
                                        <input id="Logger.findCaller-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">findCaller</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">stack_info</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.findCaller-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.findCaller"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.findCaller-1612"><a href="#Logger.findCaller-1612"><span class="linenos">1612</span></a>    <span class="k">def</span> <span class="nf">findCaller</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="Logger.findCaller-1613"><a href="#Logger.findCaller-1613"><span class="linenos">1613</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.findCaller-1614"><a href="#Logger.findCaller-1614"><span class="linenos">1614</span></a><span class="sd">        Find the stack frame of the caller so that we can note the source</span>
</span><span id="Logger.findCaller-1615"><a href="#Logger.findCaller-1615"><span class="linenos">1615</span></a><span class="sd">        file name, line number and function name.</span>
</span><span id="Logger.findCaller-1616"><a href="#Logger.findCaller-1616"><span class="linenos">1616</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.findCaller-1617"><a href="#Logger.findCaller-1617"><span class="linenos">1617</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="n">currentframe</span><span class="p">()</span>
</span><span id="Logger.findCaller-1618"><a href="#Logger.findCaller-1618"><span class="linenos">1618</span></a>        <span class="c1">#On some versions of IronPython, currentframe() returns None if</span>
</span><span id="Logger.findCaller-1619"><a href="#Logger.findCaller-1619"><span class="linenos">1619</span></a>        <span class="c1">#IronPython isn&#39;t run with -X:Frames.</span>
</span><span id="Logger.findCaller-1620"><a href="#Logger.findCaller-1620"><span class="linenos">1620</span></a>        <span class="k">if</span> <span class="n">f</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Logger.findCaller-1621"><a href="#Logger.findCaller-1621"><span class="linenos">1621</span></a>            <span class="k">return</span> <span class="s2">&quot;(unknown file)&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;(unknown function)&quot;</span><span class="p">,</span> <span class="kc">None</span>
</span><span id="Logger.findCaller-1622"><a href="#Logger.findCaller-1622"><span class="linenos">1622</span></a>        <span class="k">while</span> <span class="n">stacklevel</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Logger.findCaller-1623"><a href="#Logger.findCaller-1623"><span class="linenos">1623</span></a>            <span class="n">next_f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">f_back</span>
</span><span id="Logger.findCaller-1624"><a href="#Logger.findCaller-1624"><span class="linenos">1624</span></a>            <span class="k">if</span> <span class="n">next_f</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Logger.findCaller-1625"><a href="#Logger.findCaller-1625"><span class="linenos">1625</span></a>                <span class="c1">## We&#39;ve got options here.</span>
</span><span id="Logger.findCaller-1626"><a href="#Logger.findCaller-1626"><span class="linenos">1626</span></a>                <span class="c1">## If we want to use the last (deepest) frame:</span>
</span><span id="Logger.findCaller-1627"><a href="#Logger.findCaller-1627"><span class="linenos">1627</span></a>                <span class="k">break</span>
</span><span id="Logger.findCaller-1628"><a href="#Logger.findCaller-1628"><span class="linenos">1628</span></a>                <span class="c1">## If we want to mimic the warnings module:</span>
</span><span id="Logger.findCaller-1629"><a href="#Logger.findCaller-1629"><span class="linenos">1629</span></a>                <span class="c1">#return (&quot;sys&quot;, 1, &quot;(unknown function)&quot;, None)</span>
</span><span id="Logger.findCaller-1630"><a href="#Logger.findCaller-1630"><span class="linenos">1630</span></a>                <span class="c1">## If we want to be pedantic:</span>
</span><span id="Logger.findCaller-1631"><a href="#Logger.findCaller-1631"><span class="linenos">1631</span></a>                <span class="c1">#raise ValueError(&quot;call stack is not deep enough&quot;)</span>
</span><span id="Logger.findCaller-1632"><a href="#Logger.findCaller-1632"><span class="linenos">1632</span></a>            <span class="n">f</span> <span class="o">=</span> <span class="n">next_f</span>
</span><span id="Logger.findCaller-1633"><a href="#Logger.findCaller-1633"><span class="linenos">1633</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">_is_internal_frame</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
</span><span id="Logger.findCaller-1634"><a href="#Logger.findCaller-1634"><span class="linenos">1634</span></a>                <span class="n">stacklevel</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="Logger.findCaller-1635"><a href="#Logger.findCaller-1635"><span class="linenos">1635</span></a>        <span class="n">co</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">f_code</span>
</span><span id="Logger.findCaller-1636"><a href="#Logger.findCaller-1636"><span class="linenos">1636</span></a>        <span class="n">sinfo</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Logger.findCaller-1637"><a href="#Logger.findCaller-1637"><span class="linenos">1637</span></a>        <span class="k">if</span> <span class="n">stack_info</span><span class="p">:</span>
</span><span id="Logger.findCaller-1638"><a href="#Logger.findCaller-1638"><span class="linenos">1638</span></a>            <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span> <span class="k">as</span> <span class="n">sio</span><span class="p">:</span>
</span><span id="Logger.findCaller-1639"><a href="#Logger.findCaller-1639"><span class="linenos">1639</span></a>                <span class="n">sio</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Stack (most recent call last):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Logger.findCaller-1640"><a href="#Logger.findCaller-1640"><span class="linenos">1640</span></a>                <span class="n">traceback</span><span class="o">.</span><span class="n">print_stack</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sio</span><span class="p">)</span>
</span><span id="Logger.findCaller-1641"><a href="#Logger.findCaller-1641"><span class="linenos">1641</span></a>                <span class="n">sinfo</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="Logger.findCaller-1642"><a href="#Logger.findCaller-1642"><span class="linenos">1642</span></a>                <span class="k">if</span> <span class="n">sinfo</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
</span><span id="Logger.findCaller-1643"><a href="#Logger.findCaller-1643"><span class="linenos">1643</span></a>                    <span class="n">sinfo</span> <span class="o">=</span> <span class="n">sinfo</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Logger.findCaller-1644"><a href="#Logger.findCaller-1644"><span class="linenos">1644</span></a>        <span class="k">return</span> <span class="n">co</span><span class="o">.</span><span class="n">co_filename</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="n">co</span><span class="o">.</span><span class="n">co_name</span><span class="p">,</span> <span class="n">sinfo</span>
</span></pre></div>


            <div class="docstring"><p>Find the stack frame of the caller so that we can note the source
file name, line number and function name.</p>
</div>


                            </div>
                            <div id="Logger.makeRecord" class="classattr">
                                        <input id="Logger.makeRecord-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">makeRecord</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">name</span>,</span><span class="param">	<span class="n">level</span>,</span><span class="param">	<span class="n">fn</span>,</span><span class="param">	<span class="n">lno</span>,</span><span class="param">	<span class="n">msg</span>,</span><span class="param">	<span class="n">args</span>,</span><span class="param">	<span class="n">exc_info</span>,</span><span class="param">	<span class="n">func</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">extra</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">sinfo</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.makeRecord-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.makeRecord"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.makeRecord-1646"><a href="#Logger.makeRecord-1646"><span class="linenos">1646</span></a>    <span class="k">def</span> <span class="nf">makeRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span>
</span><span id="Logger.makeRecord-1647"><a href="#Logger.makeRecord-1647"><span class="linenos">1647</span></a>                   <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Logger.makeRecord-1648"><a href="#Logger.makeRecord-1648"><span class="linenos">1648</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.makeRecord-1649"><a href="#Logger.makeRecord-1649"><span class="linenos">1649</span></a><span class="sd">        A factory method which can be overridden in subclasses to create</span>
</span><span id="Logger.makeRecord-1650"><a href="#Logger.makeRecord-1650"><span class="linenos">1650</span></a><span class="sd">        specialized LogRecords.</span>
</span><span id="Logger.makeRecord-1651"><a href="#Logger.makeRecord-1651"><span class="linenos">1651</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.makeRecord-1652"><a href="#Logger.makeRecord-1652"><span class="linenos">1652</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="n">_logRecordFactory</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">lno</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
</span><span id="Logger.makeRecord-1653"><a href="#Logger.makeRecord-1653"><span class="linenos">1653</span></a>                             <span class="n">sinfo</span><span class="p">)</span>
</span><span id="Logger.makeRecord-1654"><a href="#Logger.makeRecord-1654"><span class="linenos">1654</span></a>        <span class="k">if</span> <span class="n">extra</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Logger.makeRecord-1655"><a href="#Logger.makeRecord-1655"><span class="linenos">1655</span></a>            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">extra</span><span class="p">:</span>
</span><span id="Logger.makeRecord-1656"><a href="#Logger.makeRecord-1656"><span class="linenos">1656</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;asctime&quot;</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="n">rv</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">):</span>
</span><span id="Logger.makeRecord-1657"><a href="#Logger.makeRecord-1657"><span class="linenos">1657</span></a>                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Attempt to overwrite </span><span class="si">%r</span><span class="s2"> in LogRecord&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Logger.makeRecord-1658"><a href="#Logger.makeRecord-1658"><span class="linenos">1658</span></a>                <span class="n">rv</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Logger.makeRecord-1659"><a href="#Logger.makeRecord-1659"><span class="linenos">1659</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span></pre></div>


            <div class="docstring"><p>A factory method which can be overridden in subclasses to create
specialized LogRecords.</p>
</div>


                            </div>
                            <div id="Logger.handle" class="classattr">
                                        <input id="Logger.handle-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.handle-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.handle"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.handle-1687"><a href="#Logger.handle-1687"><span class="linenos">1687</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Logger.handle-1688"><a href="#Logger.handle-1688"><span class="linenos">1688</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.handle-1689"><a href="#Logger.handle-1689"><span class="linenos">1689</span></a><span class="sd">        Call the handlers for the specified record.</span>
</span><span id="Logger.handle-1690"><a href="#Logger.handle-1690"><span class="linenos">1690</span></a>
</span><span id="Logger.handle-1691"><a href="#Logger.handle-1691"><span class="linenos">1691</span></a><span class="sd">        This method is used for unpickled records received from a socket, as</span>
</span><span id="Logger.handle-1692"><a href="#Logger.handle-1692"><span class="linenos">1692</span></a><span class="sd">        well as those created locally. Logger-level filtering is applied.</span>
</span><span id="Logger.handle-1693"><a href="#Logger.handle-1693"><span class="linenos">1693</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.handle-1694"><a href="#Logger.handle-1694"><span class="linenos">1694</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span><span class="p">:</span>
</span><span id="Logger.handle-1695"><a href="#Logger.handle-1695"><span class="linenos">1695</span></a>            <span class="k">return</span>
</span><span id="Logger.handle-1696"><a href="#Logger.handle-1696"><span class="linenos">1696</span></a>        <span class="n">maybe_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Logger.handle-1697"><a href="#Logger.handle-1697"><span class="linenos">1697</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">maybe_record</span><span class="p">:</span>
</span><span id="Logger.handle-1698"><a href="#Logger.handle-1698"><span class="linenos">1698</span></a>            <span class="k">return</span>
</span><span id="Logger.handle-1699"><a href="#Logger.handle-1699"><span class="linenos">1699</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">maybe_record</span><span class="p">,</span> <span class="n">LogRecord</span><span class="p">):</span>
</span><span id="Logger.handle-1700"><a href="#Logger.handle-1700"><span class="linenos">1700</span></a>            <span class="n">record</span> <span class="o">=</span> <span class="n">maybe_record</span>
</span><span id="Logger.handle-1701"><a href="#Logger.handle-1701"><span class="linenos">1701</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">callHandlers</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call the handlers for the specified record.</p>

<p>This method is used for unpickled records received from a socket, as
well as those created locally. Logger-level filtering is applied.</p>
</div>


                            </div>
                            <div id="Logger.addHandler" class="classattr">
                                        <input id="Logger.addHandler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">addHandler</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">hdlr</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.addHandler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.addHandler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.addHandler-1703"><a href="#Logger.addHandler-1703"><span class="linenos">1703</span></a>    <span class="k">def</span> <span class="nf">addHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdlr</span><span class="p">):</span>
</span><span id="Logger.addHandler-1704"><a href="#Logger.addHandler-1704"><span class="linenos">1704</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.addHandler-1705"><a href="#Logger.addHandler-1705"><span class="linenos">1705</span></a><span class="sd">        Add the specified handler to this logger.</span>
</span><span id="Logger.addHandler-1706"><a href="#Logger.addHandler-1706"><span class="linenos">1706</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.addHandler-1707"><a href="#Logger.addHandler-1707"><span class="linenos">1707</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Logger.addHandler-1708"><a href="#Logger.addHandler-1708"><span class="linenos">1708</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Logger.addHandler-1709"><a href="#Logger.addHandler-1709"><span class="linenos">1709</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">hdlr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="p">):</span>
</span><span id="Logger.addHandler-1710"><a href="#Logger.addHandler-1710"><span class="linenos">1710</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hdlr</span><span class="p">)</span>
</span><span id="Logger.addHandler-1711"><a href="#Logger.addHandler-1711"><span class="linenos">1711</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Logger.addHandler-1712"><a href="#Logger.addHandler-1712"><span class="linenos">1712</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Add the specified handler to this logger.</p>
</div>


                            </div>
                            <div id="Logger.removeHandler" class="classattr">
                                        <input id="Logger.removeHandler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">removeHandler</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">hdlr</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.removeHandler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.removeHandler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.removeHandler-1714"><a href="#Logger.removeHandler-1714"><span class="linenos">1714</span></a>    <span class="k">def</span> <span class="nf">removeHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdlr</span><span class="p">):</span>
</span><span id="Logger.removeHandler-1715"><a href="#Logger.removeHandler-1715"><span class="linenos">1715</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.removeHandler-1716"><a href="#Logger.removeHandler-1716"><span class="linenos">1716</span></a><span class="sd">        Remove the specified handler from this logger.</span>
</span><span id="Logger.removeHandler-1717"><a href="#Logger.removeHandler-1717"><span class="linenos">1717</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.removeHandler-1718"><a href="#Logger.removeHandler-1718"><span class="linenos">1718</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Logger.removeHandler-1719"><a href="#Logger.removeHandler-1719"><span class="linenos">1719</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Logger.removeHandler-1720"><a href="#Logger.removeHandler-1720"><span class="linenos">1720</span></a>            <span class="k">if</span> <span class="n">hdlr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="Logger.removeHandler-1721"><a href="#Logger.removeHandler-1721"><span class="linenos">1721</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">hdlr</span><span class="p">)</span>
</span><span id="Logger.removeHandler-1722"><a href="#Logger.removeHandler-1722"><span class="linenos">1722</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Logger.removeHandler-1723"><a href="#Logger.removeHandler-1723"><span class="linenos">1723</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Remove the specified handler from this logger.</p>
</div>


                            </div>
                            <div id="Logger.hasHandlers" class="classattr">
                                        <input id="Logger.hasHandlers-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">hasHandlers</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.hasHandlers-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.hasHandlers"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.hasHandlers-1725"><a href="#Logger.hasHandlers-1725"><span class="linenos">1725</span></a>    <span class="k">def</span> <span class="nf">hasHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Logger.hasHandlers-1726"><a href="#Logger.hasHandlers-1726"><span class="linenos">1726</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.hasHandlers-1727"><a href="#Logger.hasHandlers-1727"><span class="linenos">1727</span></a><span class="sd">        See if this logger has any handlers configured.</span>
</span><span id="Logger.hasHandlers-1728"><a href="#Logger.hasHandlers-1728"><span class="linenos">1728</span></a>
</span><span id="Logger.hasHandlers-1729"><a href="#Logger.hasHandlers-1729"><span class="linenos">1729</span></a><span class="sd">        Loop through all handlers for this logger and its parents in the</span>
</span><span id="Logger.hasHandlers-1730"><a href="#Logger.hasHandlers-1730"><span class="linenos">1730</span></a><span class="sd">        logger hierarchy. Return True if a handler was found, else False.</span>
</span><span id="Logger.hasHandlers-1731"><a href="#Logger.hasHandlers-1731"><span class="linenos">1731</span></a><span class="sd">        Stop searching up the hierarchy whenever a logger with the &quot;propagate&quot;</span>
</span><span id="Logger.hasHandlers-1732"><a href="#Logger.hasHandlers-1732"><span class="linenos">1732</span></a><span class="sd">        attribute set to zero is found - that will be the last logger which</span>
</span><span id="Logger.hasHandlers-1733"><a href="#Logger.hasHandlers-1733"><span class="linenos">1733</span></a><span class="sd">        is checked for the existence of handlers.</span>
</span><span id="Logger.hasHandlers-1734"><a href="#Logger.hasHandlers-1734"><span class="linenos">1734</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.hasHandlers-1735"><a href="#Logger.hasHandlers-1735"><span class="linenos">1735</span></a>        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Logger.hasHandlers-1736"><a href="#Logger.hasHandlers-1736"><span class="linenos">1736</span></a>        <span class="n">rv</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Logger.hasHandlers-1737"><a href="#Logger.hasHandlers-1737"><span class="linenos">1737</span></a>        <span class="k">while</span> <span class="n">c</span><span class="p">:</span>
</span><span id="Logger.hasHandlers-1738"><a href="#Logger.hasHandlers-1738"><span class="linenos">1738</span></a>            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="Logger.hasHandlers-1739"><a href="#Logger.hasHandlers-1739"><span class="linenos">1739</span></a>                <span class="n">rv</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Logger.hasHandlers-1740"><a href="#Logger.hasHandlers-1740"><span class="linenos">1740</span></a>                <span class="k">break</span>
</span><span id="Logger.hasHandlers-1741"><a href="#Logger.hasHandlers-1741"><span class="linenos">1741</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">propagate</span><span class="p">:</span>
</span><span id="Logger.hasHandlers-1742"><a href="#Logger.hasHandlers-1742"><span class="linenos">1742</span></a>                <span class="k">break</span>
</span><span id="Logger.hasHandlers-1743"><a href="#Logger.hasHandlers-1743"><span class="linenos">1743</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Logger.hasHandlers-1744"><a href="#Logger.hasHandlers-1744"><span class="linenos">1744</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span>
</span><span id="Logger.hasHandlers-1745"><a href="#Logger.hasHandlers-1745"><span class="linenos">1745</span></a>        <span class="k">return</span> <span class="n">rv</span>
</span></pre></div>


            <div class="docstring"><p>See if this logger has any handlers configured.</p>

<p>Loop through all handlers for this logger and its parents in the
logger hierarchy. Return True if a handler was found, else False.
Stop searching up the hierarchy whenever a logger with the "propagate"
attribute set to zero is found - that will be the last logger which
is checked for the existence of handlers.</p>
</div>


                            </div>
                            <div id="Logger.callHandlers" class="classattr">
                                        <input id="Logger.callHandlers-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">callHandlers</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.callHandlers-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.callHandlers"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.callHandlers-1747"><a href="#Logger.callHandlers-1747"><span class="linenos">1747</span></a>    <span class="k">def</span> <span class="nf">callHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="Logger.callHandlers-1748"><a href="#Logger.callHandlers-1748"><span class="linenos">1748</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.callHandlers-1749"><a href="#Logger.callHandlers-1749"><span class="linenos">1749</span></a><span class="sd">        Pass a record to all relevant handlers.</span>
</span><span id="Logger.callHandlers-1750"><a href="#Logger.callHandlers-1750"><span class="linenos">1750</span></a>
</span><span id="Logger.callHandlers-1751"><a href="#Logger.callHandlers-1751"><span class="linenos">1751</span></a><span class="sd">        Loop through all handlers for this logger and its parents in the</span>
</span><span id="Logger.callHandlers-1752"><a href="#Logger.callHandlers-1752"><span class="linenos">1752</span></a><span class="sd">        logger hierarchy. If no handler was found, output a one-off error</span>
</span><span id="Logger.callHandlers-1753"><a href="#Logger.callHandlers-1753"><span class="linenos">1753</span></a><span class="sd">        message to sys.stderr. Stop searching up the hierarchy whenever a</span>
</span><span id="Logger.callHandlers-1754"><a href="#Logger.callHandlers-1754"><span class="linenos">1754</span></a><span class="sd">        logger with the &quot;propagate&quot; attribute set to zero is found - that</span>
</span><span id="Logger.callHandlers-1755"><a href="#Logger.callHandlers-1755"><span class="linenos">1755</span></a><span class="sd">        will be the last logger whose handlers are called.</span>
</span><span id="Logger.callHandlers-1756"><a href="#Logger.callHandlers-1756"><span class="linenos">1756</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.callHandlers-1757"><a href="#Logger.callHandlers-1757"><span class="linenos">1757</span></a>        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Logger.callHandlers-1758"><a href="#Logger.callHandlers-1758"><span class="linenos">1758</span></a>        <span class="n">found</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Logger.callHandlers-1759"><a href="#Logger.callHandlers-1759"><span class="linenos">1759</span></a>        <span class="k">while</span> <span class="n">c</span><span class="p">:</span>
</span><span id="Logger.callHandlers-1760"><a href="#Logger.callHandlers-1760"><span class="linenos">1760</span></a>            <span class="k">for</span> <span class="n">hdlr</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
</span><span id="Logger.callHandlers-1761"><a href="#Logger.callHandlers-1761"><span class="linenos">1761</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="n">found</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="Logger.callHandlers-1762"><a href="#Logger.callHandlers-1762"><span class="linenos">1762</span></a>                <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">levelno</span> <span class="o">&gt;=</span> <span class="n">hdlr</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="Logger.callHandlers-1763"><a href="#Logger.callHandlers-1763"><span class="linenos">1763</span></a>                    <span class="n">hdlr</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Logger.callHandlers-1764"><a href="#Logger.callHandlers-1764"><span class="linenos">1764</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">propagate</span><span class="p">:</span>
</span><span id="Logger.callHandlers-1765"><a href="#Logger.callHandlers-1765"><span class="linenos">1765</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="kc">None</span>    <span class="c1">#break out</span>
</span><span id="Logger.callHandlers-1766"><a href="#Logger.callHandlers-1766"><span class="linenos">1766</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Logger.callHandlers-1767"><a href="#Logger.callHandlers-1767"><span class="linenos">1767</span></a>                <span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span>
</span><span id="Logger.callHandlers-1768"><a href="#Logger.callHandlers-1768"><span class="linenos">1768</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">found</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Logger.callHandlers-1769"><a href="#Logger.callHandlers-1769"><span class="linenos">1769</span></a>            <span class="k">if</span> <span class="n">lastResort</span><span class="p">:</span>
</span><span id="Logger.callHandlers-1770"><a href="#Logger.callHandlers-1770"><span class="linenos">1770</span></a>                <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">levelno</span> <span class="o">&gt;=</span> <span class="n">lastResort</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="Logger.callHandlers-1771"><a href="#Logger.callHandlers-1771"><span class="linenos">1771</span></a>                    <span class="n">lastResort</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="Logger.callHandlers-1772"><a href="#Logger.callHandlers-1772"><span class="linenos">1772</span></a>            <span class="k">elif</span> <span class="n">raiseExceptions</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">emittedNoHandlerWarning</span><span class="p">:</span>
</span><span id="Logger.callHandlers-1773"><a href="#Logger.callHandlers-1773"><span class="linenos">1773</span></a>                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;No handlers could be found for logger&quot;</span>
</span><span id="Logger.callHandlers-1774"><a href="#Logger.callHandlers-1774"><span class="linenos">1774</span></a>                                 <span class="s2">&quot; </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="Logger.callHandlers-1775"><a href="#Logger.callHandlers-1775"><span class="linenos">1775</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">emittedNoHandlerWarning</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Pass a record to all relevant handlers.</p>

<p>Loop through all handlers for this logger and its parents in the
logger hierarchy. If no handler was found, output a one-off error
message to sys.stderr. Stop searching up the hierarchy whenever a
logger with the "propagate" attribute set to zero is found - that
will be the last logger whose handlers are called.</p>
</div>


                            </div>
                            <div id="Logger.getEffectiveLevel" class="classattr">
                                        <input id="Logger.getEffectiveLevel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getEffectiveLevel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.getEffectiveLevel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.getEffectiveLevel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.getEffectiveLevel-1777"><a href="#Logger.getEffectiveLevel-1777"><span class="linenos">1777</span></a>    <span class="k">def</span> <span class="nf">getEffectiveLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Logger.getEffectiveLevel-1778"><a href="#Logger.getEffectiveLevel-1778"><span class="linenos">1778</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.getEffectiveLevel-1779"><a href="#Logger.getEffectiveLevel-1779"><span class="linenos">1779</span></a><span class="sd">        Get the effective level for this logger.</span>
</span><span id="Logger.getEffectiveLevel-1780"><a href="#Logger.getEffectiveLevel-1780"><span class="linenos">1780</span></a>
</span><span id="Logger.getEffectiveLevel-1781"><a href="#Logger.getEffectiveLevel-1781"><span class="linenos">1781</span></a><span class="sd">        Loop through this logger and its parents in the logger hierarchy,</span>
</span><span id="Logger.getEffectiveLevel-1782"><a href="#Logger.getEffectiveLevel-1782"><span class="linenos">1782</span></a><span class="sd">        looking for a non-zero logging level. Return the first one found.</span>
</span><span id="Logger.getEffectiveLevel-1783"><a href="#Logger.getEffectiveLevel-1783"><span class="linenos">1783</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.getEffectiveLevel-1784"><a href="#Logger.getEffectiveLevel-1784"><span class="linenos">1784</span></a>        <span class="n">logger</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Logger.getEffectiveLevel-1785"><a href="#Logger.getEffectiveLevel-1785"><span class="linenos">1785</span></a>        <span class="k">while</span> <span class="n">logger</span><span class="p">:</span>
</span><span id="Logger.getEffectiveLevel-1786"><a href="#Logger.getEffectiveLevel-1786"><span class="linenos">1786</span></a>            <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">level</span><span class="p">:</span>
</span><span id="Logger.getEffectiveLevel-1787"><a href="#Logger.getEffectiveLevel-1787"><span class="linenos">1787</span></a>                <span class="k">return</span> <span class="n">logger</span><span class="o">.</span><span class="n">level</span>
</span><span id="Logger.getEffectiveLevel-1788"><a href="#Logger.getEffectiveLevel-1788"><span class="linenos">1788</span></a>            <span class="n">logger</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">parent</span>
</span><span id="Logger.getEffectiveLevel-1789"><a href="#Logger.getEffectiveLevel-1789"><span class="linenos">1789</span></a>        <span class="k">return</span> <span class="n">NOTSET</span>
</span></pre></div>


            <div class="docstring"><p>Get the effective level for this logger.</p>

<p>Loop through this logger and its parents in the logger hierarchy,
looking for a non-zero logging level. Return the first one found.</p>
</div>


                            </div>
                            <div id="Logger.isEnabledFor" class="classattr">
                                        <input id="Logger.isEnabledFor-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">isEnabledFor</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">level</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.isEnabledFor-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.isEnabledFor"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.isEnabledFor-1791"><a href="#Logger.isEnabledFor-1791"><span class="linenos">1791</span></a>    <span class="k">def</span> <span class="nf">isEnabledFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="Logger.isEnabledFor-1792"><a href="#Logger.isEnabledFor-1792"><span class="linenos">1792</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.isEnabledFor-1793"><a href="#Logger.isEnabledFor-1793"><span class="linenos">1793</span></a><span class="sd">        Is this logger enabled for level &#39;level&#39;?</span>
</span><span id="Logger.isEnabledFor-1794"><a href="#Logger.isEnabledFor-1794"><span class="linenos">1794</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.isEnabledFor-1795"><a href="#Logger.isEnabledFor-1795"><span class="linenos">1795</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span><span class="p">:</span>
</span><span id="Logger.isEnabledFor-1796"><a href="#Logger.isEnabledFor-1796"><span class="linenos">1796</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Logger.isEnabledFor-1797"><a href="#Logger.isEnabledFor-1797"><span class="linenos">1797</span></a>
</span><span id="Logger.isEnabledFor-1798"><a href="#Logger.isEnabledFor-1798"><span class="linenos">1798</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Logger.isEnabledFor-1799"><a href="#Logger.isEnabledFor-1799"><span class="linenos">1799</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span>
</span><span id="Logger.isEnabledFor-1800"><a href="#Logger.isEnabledFor-1800"><span class="linenos">1800</span></a>        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="Logger.isEnabledFor-1801"><a href="#Logger.isEnabledFor-1801"><span class="linenos">1801</span></a>            <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Logger.isEnabledFor-1802"><a href="#Logger.isEnabledFor-1802"><span class="linenos">1802</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Logger.isEnabledFor-1803"><a href="#Logger.isEnabledFor-1803"><span class="linenos">1803</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">disable</span> <span class="o">&gt;=</span> <span class="n">level</span><span class="p">:</span>
</span><span id="Logger.isEnabledFor-1804"><a href="#Logger.isEnabledFor-1804"><span class="linenos">1804</span></a>                    <span class="n">is_enabled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Logger.isEnabledFor-1805"><a href="#Logger.isEnabledFor-1805"><span class="linenos">1805</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Logger.isEnabledFor-1806"><a href="#Logger.isEnabledFor-1806"><span class="linenos">1806</span></a>                    <span class="n">is_enabled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="Logger.isEnabledFor-1807"><a href="#Logger.isEnabledFor-1807"><span class="linenos">1807</span></a>                        <span class="n">level</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">()</span>
</span><span id="Logger.isEnabledFor-1808"><a href="#Logger.isEnabledFor-1808"><span class="linenos">1808</span></a>                    <span class="p">)</span>
</span><span id="Logger.isEnabledFor-1809"><a href="#Logger.isEnabledFor-1809"><span class="linenos">1809</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="Logger.isEnabledFor-1810"><a href="#Logger.isEnabledFor-1810"><span class="linenos">1810</span></a>                <span class="n">_releaseLock</span><span class="p">()</span>
</span><span id="Logger.isEnabledFor-1811"><a href="#Logger.isEnabledFor-1811"><span class="linenos">1811</span></a>            <span class="k">return</span> <span class="n">is_enabled</span>
</span></pre></div>


            <div class="docstring"><p>Is this logger enabled for level 'level'?</p>
</div>


                            </div>
                            <div id="Logger.getChild" class="classattr">
                                        <input id="Logger.getChild-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getChild</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">suffix</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.getChild-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.getChild"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.getChild-1813"><a href="#Logger.getChild-1813"><span class="linenos">1813</span></a>    <span class="k">def</span> <span class="nf">getChild</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">suffix</span><span class="p">):</span>
</span><span id="Logger.getChild-1814"><a href="#Logger.getChild-1814"><span class="linenos">1814</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.getChild-1815"><a href="#Logger.getChild-1815"><span class="linenos">1815</span></a><span class="sd">        Get a logger which is a descendant to this one.</span>
</span><span id="Logger.getChild-1816"><a href="#Logger.getChild-1816"><span class="linenos">1816</span></a>
</span><span id="Logger.getChild-1817"><a href="#Logger.getChild-1817"><span class="linenos">1817</span></a><span class="sd">        This is a convenience method, such that</span>
</span><span id="Logger.getChild-1818"><a href="#Logger.getChild-1818"><span class="linenos">1818</span></a>
</span><span id="Logger.getChild-1819"><a href="#Logger.getChild-1819"><span class="linenos">1819</span></a><span class="sd">        logging.getLogger(&#39;abc&#39;).getChild(&#39;def.ghi&#39;)</span>
</span><span id="Logger.getChild-1820"><a href="#Logger.getChild-1820"><span class="linenos">1820</span></a>
</span><span id="Logger.getChild-1821"><a href="#Logger.getChild-1821"><span class="linenos">1821</span></a><span class="sd">        is the same as</span>
</span><span id="Logger.getChild-1822"><a href="#Logger.getChild-1822"><span class="linenos">1822</span></a>
</span><span id="Logger.getChild-1823"><a href="#Logger.getChild-1823"><span class="linenos">1823</span></a><span class="sd">        logging.getLogger(&#39;abc.def.ghi&#39;)</span>
</span><span id="Logger.getChild-1824"><a href="#Logger.getChild-1824"><span class="linenos">1824</span></a>
</span><span id="Logger.getChild-1825"><a href="#Logger.getChild-1825"><span class="linenos">1825</span></a><span class="sd">        It&#39;s useful, for example, when the parent logger is named using</span>
</span><span id="Logger.getChild-1826"><a href="#Logger.getChild-1826"><span class="linenos">1826</span></a><span class="sd">        __name__ rather than a literal string.</span>
</span><span id="Logger.getChild-1827"><a href="#Logger.getChild-1827"><span class="linenos">1827</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Logger.getChild-1828"><a href="#Logger.getChild-1828"><span class="linenos">1828</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="Logger.getChild-1829"><a href="#Logger.getChild-1829"><span class="linenos">1829</span></a>            <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">suffix</span><span class="p">))</span>
</span><span id="Logger.getChild-1830"><a href="#Logger.getChild-1830"><span class="linenos">1830</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get a logger which is a descendant to this one.</p>

<p>This is a convenience method, such that</p>

<p><a href="#getLogger">logging.getLogger</a>('abc').getChild('def.ghi')</p>

<p>is the same as</p>

<p><a href="#getLogger">logging.getLogger</a>('abc.def.ghi')</p>

<p>It's useful, for example, when the parent logger is named using
__name__ rather than a literal string.</p>
</div>


                            </div>
                            <div id="Logger.getChildren" class="classattr">
                                        <input id="Logger.getChildren-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getChildren</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.getChildren-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.getChildren"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.getChildren-1832"><a href="#Logger.getChildren-1832"><span class="linenos">1832</span></a>    <span class="k">def</span> <span class="nf">getChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Logger.getChildren-1833"><a href="#Logger.getChildren-1833"><span class="linenos">1833</span></a>
</span><span id="Logger.getChildren-1834"><a href="#Logger.getChildren-1834"><span class="linenos">1834</span></a>        <span class="k">def</span> <span class="nf">_hierlevel</span><span class="p">(</span><span class="n">logger</span><span class="p">):</span>
</span><span id="Logger.getChildren-1835"><a href="#Logger.getChildren-1835"><span class="linenos">1835</span></a>            <span class="k">if</span> <span class="n">logger</span> <span class="ow">is</span> <span class="n">logger</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">root</span><span class="p">:</span>
</span><span id="Logger.getChildren-1836"><a href="#Logger.getChildren-1836"><span class="linenos">1836</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="Logger.getChildren-1837"><a href="#Logger.getChildren-1837"><span class="linenos">1837</span></a>            <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">logger</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</span><span id="Logger.getChildren-1838"><a href="#Logger.getChildren-1838"><span class="linenos">1838</span></a>
</span><span id="Logger.getChildren-1839"><a href="#Logger.getChildren-1839"><span class="linenos">1839</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">loggerDict</span>
</span><span id="Logger.getChildren-1840"><a href="#Logger.getChildren-1840"><span class="linenos">1840</span></a>        <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="Logger.getChildren-1841"><a href="#Logger.getChildren-1841"><span class="linenos">1841</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Logger.getChildren-1842"><a href="#Logger.getChildren-1842"><span class="linenos">1842</span></a>            <span class="c1"># exclude PlaceHolders - the last check is to ensure that lower-level</span>
</span><span id="Logger.getChildren-1843"><a href="#Logger.getChildren-1843"><span class="linenos">1843</span></a>            <span class="c1"># descendants aren&#39;t returned - if there are placeholders, a logger&#39;s</span>
</span><span id="Logger.getChildren-1844"><a href="#Logger.getChildren-1844"><span class="linenos">1844</span></a>            <span class="c1"># parent field might point to a grandparent or ancestor thereof.</span>
</span><span id="Logger.getChildren-1845"><a href="#Logger.getChildren-1845"><span class="linenos">1845</span></a>            <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</span><span id="Logger.getChildren-1846"><a href="#Logger.getChildren-1846"><span class="linenos">1846</span></a>                       <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Logger</span><span class="p">)</span> <span class="ow">and</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="bp">self</span> <span class="ow">and</span>
</span><span id="Logger.getChildren-1847"><a href="#Logger.getChildren-1847"><span class="linenos">1847</span></a>                       <span class="n">_hierlevel</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">_hierlevel</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">))</span>
</span><span id="Logger.getChildren-1848"><a href="#Logger.getChildren-1848"><span class="linenos">1848</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Logger.getChildren-1849"><a href="#Logger.getChildren-1849"><span class="linenos">1849</span></a>            <span class="n">_releaseLock</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Logger.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span>        =
<span class="default_value">&lt;RootLogger root (WARNING)&gt;</span>

        
    </div>
    <a class="headerlink" href="#Logger.root"></a>
    
    

                            </div>
                            <div id="Logger.manager" class="classattr">
                                <div class="attr variable">
            <span class="name">manager</span>        =
<span class="default_value">&lt;logging.Manager object&gt;</span>

        
    </div>
    <a class="headerlink" href="#Logger.manager"></a>
    
    

                            </div>
                            <div id="Logger.warning_advice" class="classattr">
                                        <input id="Logger.warning_advice-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">warning_advice</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.warning_advice-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.warning_advice"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.warning_advice-306"><a href="#Logger.warning_advice-306"><span class="linenos">306</span></a><span class="k">def</span> <span class="nf">warning_advice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.warning_advice-307"><a href="#Logger.warning_advice-307"><span class="linenos">307</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.warning_advice-308"><a href="#Logger.warning_advice-308"><span class="linenos">308</span></a><span class="sd">    This method is identical to `logger.warning()`, but if env var TRANSFORMERS_NO_ADVISORY_WARNINGS=1 is set, this</span>
</span><span id="Logger.warning_advice-309"><a href="#Logger.warning_advice-309"><span class="linenos">309</span></a><span class="sd">    warning will not be printed</span>
</span><span id="Logger.warning_advice-310"><a href="#Logger.warning_advice-310"><span class="linenos">310</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Logger.warning_advice-311"><a href="#Logger.warning_advice-311"><span class="linenos">311</span></a>    <span class="n">no_advisory_warnings</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;TRANSFORMERS_NO_ADVISORY_WARNINGS&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="Logger.warning_advice-312"><a href="#Logger.warning_advice-312"><span class="linenos">312</span></a>    <span class="k">if</span> <span class="n">no_advisory_warnings</span><span class="p">:</span>
</span><span id="Logger.warning_advice-313"><a href="#Logger.warning_advice-313"><span class="linenos">313</span></a>        <span class="k">return</span>
</span><span id="Logger.warning_advice-314"><a href="#Logger.warning_advice-314"><span class="linenos">314</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This method is identical to <code>logger.warning()</code>, but if env var TRANSFORMERS_NO_ADVISORY_WARNINGS=1 is set, this
warning will not be printed</p>
</div>


                            </div>
                            <div id="Logger.warning_once" class="classattr">
                                        <input id="Logger.warning_once-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@functools.lru_cache(None)</div>

        <span class="def">def</span>
        <span class="name">warning_once</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.warning_once-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.warning_once"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.warning_once-320"><a href="#Logger.warning_once-320"><span class="linenos">320</span></a><span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="Logger.warning_once-321"><a href="#Logger.warning_once-321"><span class="linenos">321</span></a><span class="k">def</span> <span class="nf">warning_once</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.warning_once-322"><a href="#Logger.warning_once-322"><span class="linenos">322</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.warning_once-323"><a href="#Logger.warning_once-323"><span class="linenos">323</span></a><span class="sd">    This method is identical to `logger.warning()`, but will emit the warning with the same message only once</span>
</span><span id="Logger.warning_once-324"><a href="#Logger.warning_once-324"><span class="linenos">324</span></a>
</span><span id="Logger.warning_once-325"><a href="#Logger.warning_once-325"><span class="linenos">325</span></a><span class="sd">    Note: The cache is for the function arguments, so 2 different callers using the same arguments will hit the cache.</span>
</span><span id="Logger.warning_once-326"><a href="#Logger.warning_once-326"><span class="linenos">326</span></a><span class="sd">    The assumption here is that all warning messages are unique across the code. If they aren&#39;t then need to switch to</span>
</span><span id="Logger.warning_once-327"><a href="#Logger.warning_once-327"><span class="linenos">327</span></a><span class="sd">    another type of cache that includes the caller frame information in the hashing function.</span>
</span><span id="Logger.warning_once-328"><a href="#Logger.warning_once-328"><span class="linenos">328</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Logger.warning_once-329"><a href="#Logger.warning_once-329"><span class="linenos">329</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This method is identical to <code>logger.warning()</code>, but will emit the warning with the same message only once</p>

<p>Note: The cache is for the function arguments, so 2 different callers using the same arguments will hit the cache.
The assumption here is that all warning messages are unique across the code. If they aren't then need to switch to
another type of cache that includes the caller frame information in the hashing function.</p>
</div>


                            </div>
                            <div id="Logger.info_once" class="classattr">
                                        <input id="Logger.info_once-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@functools.lru_cache(None)</div>

        <span class="def">def</span>
        <span class="name">info_once</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Logger.info_once-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Logger.info_once"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Logger.info_once-335"><a href="#Logger.info_once-335"><span class="linenos">335</span></a><span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="Logger.info_once-336"><a href="#Logger.info_once-336"><span class="linenos">336</span></a><span class="k">def</span> <span class="nf">info_once</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Logger.info_once-337"><a href="#Logger.info_once-337"><span class="linenos">337</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Logger.info_once-338"><a href="#Logger.info_once-338"><span class="linenos">338</span></a><span class="sd">    This method is identical to `logger.info()`, but will emit the info with the same message only once</span>
</span><span id="Logger.info_once-339"><a href="#Logger.info_once-339"><span class="linenos">339</span></a>
</span><span id="Logger.info_once-340"><a href="#Logger.info_once-340"><span class="linenos">340</span></a><span class="sd">    Note: The cache is for the function arguments, so 2 different callers using the same arguments will hit the cache.</span>
</span><span id="Logger.info_once-341"><a href="#Logger.info_once-341"><span class="linenos">341</span></a><span class="sd">    The assumption here is that all warning messages are unique across the code. If they aren&#39;t then need to switch to</span>
</span><span id="Logger.info_once-342"><a href="#Logger.info_once-342"><span class="linenos">342</span></a><span class="sd">    another type of cache that includes the caller frame information in the hashing function.</span>
</span><span id="Logger.info_once-343"><a href="#Logger.info_once-343"><span class="linenos">343</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Logger.info_once-344"><a href="#Logger.info_once-344"><span class="linenos">344</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This method is identical to <code>logger.info()</code>, but will emit the info with the same message only once</p>

<p>Note: The cache is for the function arguments, so 2 different callers using the same arguments will hit the cache.
The assumption here is that all warning messages are unique across the code. If they aren't then need to switch to
another type of cache that includes the caller frame information in the hashing function.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Filterer">Filterer</a></dt>
                                <dd id="Logger.filters" class="variable"><a href="#Filterer.filters">filters</a></dd>
                <dd id="Logger.addFilter" class="function"><a href="#Filterer.addFilter">addFilter</a></dd>
                <dd id="Logger.removeFilter" class="function"><a href="#Filterer.removeFilter">removeFilter</a></dd>
                <dd id="Logger.filter" class="function"><a href="#Filterer.filter">filter</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="LoggerAdapter">
                            <input id="LoggerAdapter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LoggerAdapter</span>:

                <label class="view-source-button" for="LoggerAdapter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter-1879"><a href="#LoggerAdapter-1879"><span class="linenos">1879</span></a><span class="k">class</span> <span class="nc">LoggerAdapter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="LoggerAdapter-1880"><a href="#LoggerAdapter-1880"><span class="linenos">1880</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1881"><a href="#LoggerAdapter-1881"><span class="linenos">1881</span></a><span class="sd">    An adapter for loggers which makes it easier to specify contextual</span>
</span><span id="LoggerAdapter-1882"><a href="#LoggerAdapter-1882"><span class="linenos">1882</span></a><span class="sd">    information in logging output.</span>
</span><span id="LoggerAdapter-1883"><a href="#LoggerAdapter-1883"><span class="linenos">1883</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1884"><a href="#LoggerAdapter-1884"><span class="linenos">1884</span></a>
</span><span id="LoggerAdapter-1885"><a href="#LoggerAdapter-1885"><span class="linenos">1885</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logger</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="LoggerAdapter-1886"><a href="#LoggerAdapter-1886"><span class="linenos">1886</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1887"><a href="#LoggerAdapter-1887"><span class="linenos">1887</span></a><span class="sd">        Initialize the adapter with a logger and a dict-like object which</span>
</span><span id="LoggerAdapter-1888"><a href="#LoggerAdapter-1888"><span class="linenos">1888</span></a><span class="sd">        provides contextual information. This constructor signature allows</span>
</span><span id="LoggerAdapter-1889"><a href="#LoggerAdapter-1889"><span class="linenos">1889</span></a><span class="sd">        easy stacking of LoggerAdapters, if so desired.</span>
</span><span id="LoggerAdapter-1890"><a href="#LoggerAdapter-1890"><span class="linenos">1890</span></a>
</span><span id="LoggerAdapter-1891"><a href="#LoggerAdapter-1891"><span class="linenos">1891</span></a><span class="sd">        You can effectively pass keyword arguments as shown in the</span>
</span><span id="LoggerAdapter-1892"><a href="#LoggerAdapter-1892"><span class="linenos">1892</span></a><span class="sd">        following example:</span>
</span><span id="LoggerAdapter-1893"><a href="#LoggerAdapter-1893"><span class="linenos">1893</span></a>
</span><span id="LoggerAdapter-1894"><a href="#LoggerAdapter-1894"><span class="linenos">1894</span></a><span class="sd">        adapter = LoggerAdapter(someLogger, dict(p1=v1, p2=&quot;v2&quot;))</span>
</span><span id="LoggerAdapter-1895"><a href="#LoggerAdapter-1895"><span class="linenos">1895</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1896"><a href="#LoggerAdapter-1896"><span class="linenos">1896</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logger</span>
</span><span id="LoggerAdapter-1897"><a href="#LoggerAdapter-1897"><span class="linenos">1897</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">extra</span>
</span><span id="LoggerAdapter-1898"><a href="#LoggerAdapter-1898"><span class="linenos">1898</span></a>
</span><span id="LoggerAdapter-1899"><a href="#LoggerAdapter-1899"><span class="linenos">1899</span></a>    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1900"><a href="#LoggerAdapter-1900"><span class="linenos">1900</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1901"><a href="#LoggerAdapter-1901"><span class="linenos">1901</span></a><span class="sd">        Process the logging message and keyword arguments passed in to</span>
</span><span id="LoggerAdapter-1902"><a href="#LoggerAdapter-1902"><span class="linenos">1902</span></a><span class="sd">        a logging call to insert contextual information. You can either</span>
</span><span id="LoggerAdapter-1903"><a href="#LoggerAdapter-1903"><span class="linenos">1903</span></a><span class="sd">        manipulate the message itself, the keyword args or both. Return</span>
</span><span id="LoggerAdapter-1904"><a href="#LoggerAdapter-1904"><span class="linenos">1904</span></a><span class="sd">        the message and kwargs modified (or not) to suit your needs.</span>
</span><span id="LoggerAdapter-1905"><a href="#LoggerAdapter-1905"><span class="linenos">1905</span></a>
</span><span id="LoggerAdapter-1906"><a href="#LoggerAdapter-1906"><span class="linenos">1906</span></a><span class="sd">        Normally, you&#39;ll only need to override this one method in a</span>
</span><span id="LoggerAdapter-1907"><a href="#LoggerAdapter-1907"><span class="linenos">1907</span></a><span class="sd">        LoggerAdapter subclass for your specific needs.</span>
</span><span id="LoggerAdapter-1908"><a href="#LoggerAdapter-1908"><span class="linenos">1908</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1909"><a href="#LoggerAdapter-1909"><span class="linenos">1909</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;extra&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span>
</span><span id="LoggerAdapter-1910"><a href="#LoggerAdapter-1910"><span class="linenos">1910</span></a>        <span class="k">return</span> <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span>
</span><span id="LoggerAdapter-1911"><a href="#LoggerAdapter-1911"><span class="linenos">1911</span></a>
</span><span id="LoggerAdapter-1912"><a href="#LoggerAdapter-1912"><span class="linenos">1912</span></a>    <span class="c1">#</span>
</span><span id="LoggerAdapter-1913"><a href="#LoggerAdapter-1913"><span class="linenos">1913</span></a>    <span class="c1"># Boilerplate convenience methods</span>
</span><span id="LoggerAdapter-1914"><a href="#LoggerAdapter-1914"><span class="linenos">1914</span></a>    <span class="c1">#</span>
</span><span id="LoggerAdapter-1915"><a href="#LoggerAdapter-1915"><span class="linenos">1915</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1916"><a href="#LoggerAdapter-1916"><span class="linenos">1916</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1917"><a href="#LoggerAdapter-1917"><span class="linenos">1917</span></a><span class="sd">        Delegate a debug call to the underlying logger.</span>
</span><span id="LoggerAdapter-1918"><a href="#LoggerAdapter-1918"><span class="linenos">1918</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1919"><a href="#LoggerAdapter-1919"><span class="linenos">1919</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1920"><a href="#LoggerAdapter-1920"><span class="linenos">1920</span></a>
</span><span id="LoggerAdapter-1921"><a href="#LoggerAdapter-1921"><span class="linenos">1921</span></a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1922"><a href="#LoggerAdapter-1922"><span class="linenos">1922</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1923"><a href="#LoggerAdapter-1923"><span class="linenos">1923</span></a><span class="sd">        Delegate an info call to the underlying logger.</span>
</span><span id="LoggerAdapter-1924"><a href="#LoggerAdapter-1924"><span class="linenos">1924</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1925"><a href="#LoggerAdapter-1925"><span class="linenos">1925</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1926"><a href="#LoggerAdapter-1926"><span class="linenos">1926</span></a>
</span><span id="LoggerAdapter-1927"><a href="#LoggerAdapter-1927"><span class="linenos">1927</span></a>    <span class="k">def</span> <span class="nf">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1928"><a href="#LoggerAdapter-1928"><span class="linenos">1928</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1929"><a href="#LoggerAdapter-1929"><span class="linenos">1929</span></a><span class="sd">        Delegate a warning call to the underlying logger.</span>
</span><span id="LoggerAdapter-1930"><a href="#LoggerAdapter-1930"><span class="linenos">1930</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1931"><a href="#LoggerAdapter-1931"><span class="linenos">1931</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1932"><a href="#LoggerAdapter-1932"><span class="linenos">1932</span></a>
</span><span id="LoggerAdapter-1933"><a href="#LoggerAdapter-1933"><span class="linenos">1933</span></a>    <span class="k">def</span> <span class="nf">warn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1934"><a href="#LoggerAdapter-1934"><span class="linenos">1934</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The &#39;warn&#39; method is deprecated, &quot;</span>
</span><span id="LoggerAdapter-1935"><a href="#LoggerAdapter-1935"><span class="linenos">1935</span></a>            <span class="s2">&quot;use &#39;warning&#39; instead&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="LoggerAdapter-1936"><a href="#LoggerAdapter-1936"><span class="linenos">1936</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1937"><a href="#LoggerAdapter-1937"><span class="linenos">1937</span></a>
</span><span id="LoggerAdapter-1938"><a href="#LoggerAdapter-1938"><span class="linenos">1938</span></a>    <span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1939"><a href="#LoggerAdapter-1939"><span class="linenos">1939</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1940"><a href="#LoggerAdapter-1940"><span class="linenos">1940</span></a><span class="sd">        Delegate an error call to the underlying logger.</span>
</span><span id="LoggerAdapter-1941"><a href="#LoggerAdapter-1941"><span class="linenos">1941</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1942"><a href="#LoggerAdapter-1942"><span class="linenos">1942</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1943"><a href="#LoggerAdapter-1943"><span class="linenos">1943</span></a>
</span><span id="LoggerAdapter-1944"><a href="#LoggerAdapter-1944"><span class="linenos">1944</span></a>    <span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1945"><a href="#LoggerAdapter-1945"><span class="linenos">1945</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1946"><a href="#LoggerAdapter-1946"><span class="linenos">1946</span></a><span class="sd">        Delegate an exception call to the underlying logger.</span>
</span><span id="LoggerAdapter-1947"><a href="#LoggerAdapter-1947"><span class="linenos">1947</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1948"><a href="#LoggerAdapter-1948"><span class="linenos">1948</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">exc_info</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1949"><a href="#LoggerAdapter-1949"><span class="linenos">1949</span></a>
</span><span id="LoggerAdapter-1950"><a href="#LoggerAdapter-1950"><span class="linenos">1950</span></a>    <span class="k">def</span> <span class="nf">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1951"><a href="#LoggerAdapter-1951"><span class="linenos">1951</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1952"><a href="#LoggerAdapter-1952"><span class="linenos">1952</span></a><span class="sd">        Delegate a critical call to the underlying logger.</span>
</span><span id="LoggerAdapter-1953"><a href="#LoggerAdapter-1953"><span class="linenos">1953</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1954"><a href="#LoggerAdapter-1954"><span class="linenos">1954</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1955"><a href="#LoggerAdapter-1955"><span class="linenos">1955</span></a>
</span><span id="LoggerAdapter-1956"><a href="#LoggerAdapter-1956"><span class="linenos">1956</span></a>    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1957"><a href="#LoggerAdapter-1957"><span class="linenos">1957</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1958"><a href="#LoggerAdapter-1958"><span class="linenos">1958</span></a><span class="sd">        Delegate a log call to the underlying logger, after adding</span>
</span><span id="LoggerAdapter-1959"><a href="#LoggerAdapter-1959"><span class="linenos">1959</span></a><span class="sd">        contextual information from this adapter instance.</span>
</span><span id="LoggerAdapter-1960"><a href="#LoggerAdapter-1960"><span class="linenos">1960</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1961"><a href="#LoggerAdapter-1961"><span class="linenos">1961</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="LoggerAdapter-1962"><a href="#LoggerAdapter-1962"><span class="linenos">1962</span></a>            <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1963"><a href="#LoggerAdapter-1963"><span class="linenos">1963</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1964"><a href="#LoggerAdapter-1964"><span class="linenos">1964</span></a>
</span><span id="LoggerAdapter-1965"><a href="#LoggerAdapter-1965"><span class="linenos">1965</span></a>    <span class="k">def</span> <span class="nf">isEnabledFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="LoggerAdapter-1966"><a href="#LoggerAdapter-1966"><span class="linenos">1966</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1967"><a href="#LoggerAdapter-1967"><span class="linenos">1967</span></a><span class="sd">        Is this logger enabled for level &#39;level&#39;?</span>
</span><span id="LoggerAdapter-1968"><a href="#LoggerAdapter-1968"><span class="linenos">1968</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1969"><a href="#LoggerAdapter-1969"><span class="linenos">1969</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="LoggerAdapter-1970"><a href="#LoggerAdapter-1970"><span class="linenos">1970</span></a>
</span><span id="LoggerAdapter-1971"><a href="#LoggerAdapter-1971"><span class="linenos">1971</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="LoggerAdapter-1972"><a href="#LoggerAdapter-1972"><span class="linenos">1972</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1973"><a href="#LoggerAdapter-1973"><span class="linenos">1973</span></a><span class="sd">        Set the specified level on the underlying logger.</span>
</span><span id="LoggerAdapter-1974"><a href="#LoggerAdapter-1974"><span class="linenos">1974</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1975"><a href="#LoggerAdapter-1975"><span class="linenos">1975</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="LoggerAdapter-1976"><a href="#LoggerAdapter-1976"><span class="linenos">1976</span></a>
</span><span id="LoggerAdapter-1977"><a href="#LoggerAdapter-1977"><span class="linenos">1977</span></a>    <span class="k">def</span> <span class="nf">getEffectiveLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter-1978"><a href="#LoggerAdapter-1978"><span class="linenos">1978</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1979"><a href="#LoggerAdapter-1979"><span class="linenos">1979</span></a><span class="sd">        Get the effective level for the underlying logger.</span>
</span><span id="LoggerAdapter-1980"><a href="#LoggerAdapter-1980"><span class="linenos">1980</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1981"><a href="#LoggerAdapter-1981"><span class="linenos">1981</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">()</span>
</span><span id="LoggerAdapter-1982"><a href="#LoggerAdapter-1982"><span class="linenos">1982</span></a>
</span><span id="LoggerAdapter-1983"><a href="#LoggerAdapter-1983"><span class="linenos">1983</span></a>    <span class="k">def</span> <span class="nf">hasHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter-1984"><a href="#LoggerAdapter-1984"><span class="linenos">1984</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1985"><a href="#LoggerAdapter-1985"><span class="linenos">1985</span></a><span class="sd">        See if the underlying logger has any handlers.</span>
</span><span id="LoggerAdapter-1986"><a href="#LoggerAdapter-1986"><span class="linenos">1986</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1987"><a href="#LoggerAdapter-1987"><span class="linenos">1987</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">hasHandlers</span><span class="p">()</span>
</span><span id="LoggerAdapter-1988"><a href="#LoggerAdapter-1988"><span class="linenos">1988</span></a>
</span><span id="LoggerAdapter-1989"><a href="#LoggerAdapter-1989"><span class="linenos">1989</span></a>    <span class="k">def</span> <span class="nf">_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter-1990"><a href="#LoggerAdapter-1990"><span class="linenos">1990</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1991"><a href="#LoggerAdapter-1991"><span class="linenos">1991</span></a><span class="sd">        Low-level log implementation, proxied to allow nested logger adapters.</span>
</span><span id="LoggerAdapter-1992"><a href="#LoggerAdapter-1992"><span class="linenos">1992</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter-1993"><a href="#LoggerAdapter-1993"><span class="linenos">1993</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter-1994"><a href="#LoggerAdapter-1994"><span class="linenos">1994</span></a>
</span><span id="LoggerAdapter-1995"><a href="#LoggerAdapter-1995"><span class="linenos">1995</span></a>    <span class="nd">@property</span>
</span><span id="LoggerAdapter-1996"><a href="#LoggerAdapter-1996"><span class="linenos">1996</span></a>    <span class="k">def</span> <span class="nf">manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter-1997"><a href="#LoggerAdapter-1997"><span class="linenos">1997</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">manager</span>
</span><span id="LoggerAdapter-1998"><a href="#LoggerAdapter-1998"><span class="linenos">1998</span></a>
</span><span id="LoggerAdapter-1999"><a href="#LoggerAdapter-1999"><span class="linenos">1999</span></a>    <span class="nd">@manager</span><span class="o">.</span><span class="n">setter</span>
</span><span id="LoggerAdapter-2000"><a href="#LoggerAdapter-2000"><span class="linenos">2000</span></a>    <span class="k">def</span> <span class="nf">manager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="LoggerAdapter-2001"><a href="#LoggerAdapter-2001"><span class="linenos">2001</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">manager</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="LoggerAdapter-2002"><a href="#LoggerAdapter-2002"><span class="linenos">2002</span></a>
</span><span id="LoggerAdapter-2003"><a href="#LoggerAdapter-2003"><span class="linenos">2003</span></a>    <span class="nd">@property</span>
</span><span id="LoggerAdapter-2004"><a href="#LoggerAdapter-2004"><span class="linenos">2004</span></a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter-2005"><a href="#LoggerAdapter-2005"><span class="linenos">2005</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">name</span>
</span><span id="LoggerAdapter-2006"><a href="#LoggerAdapter-2006"><span class="linenos">2006</span></a>
</span><span id="LoggerAdapter-2007"><a href="#LoggerAdapter-2007"><span class="linenos">2007</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter-2008"><a href="#LoggerAdapter-2008"><span class="linenos">2008</span></a>        <span class="n">logger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span>
</span><span id="LoggerAdapter-2009"><a href="#LoggerAdapter-2009"><span class="linenos">2009</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="n">logger</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">())</span>
</span><span id="LoggerAdapter-2010"><a href="#LoggerAdapter-2010"><span class="linenos">2010</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">logger</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="LoggerAdapter-2011"><a href="#LoggerAdapter-2011"><span class="linenos">2011</span></a>
</span><span id="LoggerAdapter-2012"><a href="#LoggerAdapter-2012"><span class="linenos">2012</span></a>    <span class="n">__class_getitem__</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">GenericAlias</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An adapter for loggers which makes it easier to specify contextual
information in logging output.</p>
</div>


                            <div id="LoggerAdapter.__init__" class="classattr">
                                        <input id="LoggerAdapter.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">LoggerAdapter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">logger</span>, </span><span class="param"><span class="n">extra</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="LoggerAdapter.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.__init__-1885"><a href="#LoggerAdapter.__init__-1885"><span class="linenos">1885</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logger</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="LoggerAdapter.__init__-1886"><a href="#LoggerAdapter.__init__-1886"><span class="linenos">1886</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.__init__-1887"><a href="#LoggerAdapter.__init__-1887"><span class="linenos">1887</span></a><span class="sd">        Initialize the adapter with a logger and a dict-like object which</span>
</span><span id="LoggerAdapter.__init__-1888"><a href="#LoggerAdapter.__init__-1888"><span class="linenos">1888</span></a><span class="sd">        provides contextual information. This constructor signature allows</span>
</span><span id="LoggerAdapter.__init__-1889"><a href="#LoggerAdapter.__init__-1889"><span class="linenos">1889</span></a><span class="sd">        easy stacking of LoggerAdapters, if so desired.</span>
</span><span id="LoggerAdapter.__init__-1890"><a href="#LoggerAdapter.__init__-1890"><span class="linenos">1890</span></a>
</span><span id="LoggerAdapter.__init__-1891"><a href="#LoggerAdapter.__init__-1891"><span class="linenos">1891</span></a><span class="sd">        You can effectively pass keyword arguments as shown in the</span>
</span><span id="LoggerAdapter.__init__-1892"><a href="#LoggerAdapter.__init__-1892"><span class="linenos">1892</span></a><span class="sd">        following example:</span>
</span><span id="LoggerAdapter.__init__-1893"><a href="#LoggerAdapter.__init__-1893"><span class="linenos">1893</span></a>
</span><span id="LoggerAdapter.__init__-1894"><a href="#LoggerAdapter.__init__-1894"><span class="linenos">1894</span></a><span class="sd">        adapter = LoggerAdapter(someLogger, dict(p1=v1, p2=&quot;v2&quot;))</span>
</span><span id="LoggerAdapter.__init__-1895"><a href="#LoggerAdapter.__init__-1895"><span class="linenos">1895</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.__init__-1896"><a href="#LoggerAdapter.__init__-1896"><span class="linenos">1896</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logger</span>
</span><span id="LoggerAdapter.__init__-1897"><a href="#LoggerAdapter.__init__-1897"><span class="linenos">1897</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">extra</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the adapter with a logger and a dict-like object which
provides contextual information. This constructor signature allows
easy stacking of LoggerAdapters, if so desired.</p>

<p>You can effectively pass keyword arguments as shown in the
following example:</p>

<p>adapter = LoggerAdapter(someLogger, dict(p1=v1, p2="v2"))</p>
</div>


                            </div>
                            <div id="LoggerAdapter.logger" class="classattr">
                                <div class="attr variable">
            <span class="name">logger</span>

        
    </div>
    <a class="headerlink" href="#LoggerAdapter.logger"></a>
    
    

                            </div>
                            <div id="LoggerAdapter.extra" class="classattr">
                                <div class="attr variable">
            <span class="name">extra</span>

        
    </div>
    <a class="headerlink" href="#LoggerAdapter.extra"></a>
    
    

                            </div>
                            <div id="LoggerAdapter.process" class="classattr">
                                        <input id="LoggerAdapter.process-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">process</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.process-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.process"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.process-1899"><a href="#LoggerAdapter.process-1899"><span class="linenos">1899</span></a>    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.process-1900"><a href="#LoggerAdapter.process-1900"><span class="linenos">1900</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.process-1901"><a href="#LoggerAdapter.process-1901"><span class="linenos">1901</span></a><span class="sd">        Process the logging message and keyword arguments passed in to</span>
</span><span id="LoggerAdapter.process-1902"><a href="#LoggerAdapter.process-1902"><span class="linenos">1902</span></a><span class="sd">        a logging call to insert contextual information. You can either</span>
</span><span id="LoggerAdapter.process-1903"><a href="#LoggerAdapter.process-1903"><span class="linenos">1903</span></a><span class="sd">        manipulate the message itself, the keyword args or both. Return</span>
</span><span id="LoggerAdapter.process-1904"><a href="#LoggerAdapter.process-1904"><span class="linenos">1904</span></a><span class="sd">        the message and kwargs modified (or not) to suit your needs.</span>
</span><span id="LoggerAdapter.process-1905"><a href="#LoggerAdapter.process-1905"><span class="linenos">1905</span></a>
</span><span id="LoggerAdapter.process-1906"><a href="#LoggerAdapter.process-1906"><span class="linenos">1906</span></a><span class="sd">        Normally, you&#39;ll only need to override this one method in a</span>
</span><span id="LoggerAdapter.process-1907"><a href="#LoggerAdapter.process-1907"><span class="linenos">1907</span></a><span class="sd">        LoggerAdapter subclass for your specific needs.</span>
</span><span id="LoggerAdapter.process-1908"><a href="#LoggerAdapter.process-1908"><span class="linenos">1908</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.process-1909"><a href="#LoggerAdapter.process-1909"><span class="linenos">1909</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;extra&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span>
</span><span id="LoggerAdapter.process-1910"><a href="#LoggerAdapter.process-1910"><span class="linenos">1910</span></a>        <span class="k">return</span> <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span>
</span></pre></div>


            <div class="docstring"><p>Process the logging message and keyword arguments passed in to
a logging call to insert contextual information. You can either
manipulate the message itself, the keyword args or both. Return
the message and kwargs modified (or not) to suit your needs.</p>

<p>Normally, you'll only need to override this one method in a
LoggerAdapter subclass for your specific needs.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.debug" class="classattr">
                                        <input id="LoggerAdapter.debug-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">debug</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.debug-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.debug"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.debug-1915"><a href="#LoggerAdapter.debug-1915"><span class="linenos">1915</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.debug-1916"><a href="#LoggerAdapter.debug-1916"><span class="linenos">1916</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.debug-1917"><a href="#LoggerAdapter.debug-1917"><span class="linenos">1917</span></a><span class="sd">        Delegate a debug call to the underlying logger.</span>
</span><span id="LoggerAdapter.debug-1918"><a href="#LoggerAdapter.debug-1918"><span class="linenos">1918</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.debug-1919"><a href="#LoggerAdapter.debug-1919"><span class="linenos">1919</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Delegate a debug call to the underlying logger.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.info" class="classattr">
                                        <input id="LoggerAdapter.info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.info-1921"><a href="#LoggerAdapter.info-1921"><span class="linenos">1921</span></a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.info-1922"><a href="#LoggerAdapter.info-1922"><span class="linenos">1922</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.info-1923"><a href="#LoggerAdapter.info-1923"><span class="linenos">1923</span></a><span class="sd">        Delegate an info call to the underlying logger.</span>
</span><span id="LoggerAdapter.info-1924"><a href="#LoggerAdapter.info-1924"><span class="linenos">1924</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.info-1925"><a href="#LoggerAdapter.info-1925"><span class="linenos">1925</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Delegate an info call to the underlying logger.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.warning" class="classattr">
                                        <input id="LoggerAdapter.warning-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">warning</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.warning-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.warning"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.warning-1927"><a href="#LoggerAdapter.warning-1927"><span class="linenos">1927</span></a>    <span class="k">def</span> <span class="nf">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.warning-1928"><a href="#LoggerAdapter.warning-1928"><span class="linenos">1928</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.warning-1929"><a href="#LoggerAdapter.warning-1929"><span class="linenos">1929</span></a><span class="sd">        Delegate a warning call to the underlying logger.</span>
</span><span id="LoggerAdapter.warning-1930"><a href="#LoggerAdapter.warning-1930"><span class="linenos">1930</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.warning-1931"><a href="#LoggerAdapter.warning-1931"><span class="linenos">1931</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Delegate a warning call to the underlying logger.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.warn" class="classattr">
                                        <input id="LoggerAdapter.warn-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">warn</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.warn-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.warn"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.warn-1933"><a href="#LoggerAdapter.warn-1933"><span class="linenos">1933</span></a>    <span class="k">def</span> <span class="nf">warn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.warn-1934"><a href="#LoggerAdapter.warn-1934"><span class="linenos">1934</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The &#39;warn&#39; method is deprecated, &quot;</span>
</span><span id="LoggerAdapter.warn-1935"><a href="#LoggerAdapter.warn-1935"><span class="linenos">1935</span></a>            <span class="s2">&quot;use &#39;warning&#39; instead&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="LoggerAdapter.warn-1936"><a href="#LoggerAdapter.warn-1936"><span class="linenos">1936</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="LoggerAdapter.error" class="classattr">
                                        <input id="LoggerAdapter.error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">error</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.error-1938"><a href="#LoggerAdapter.error-1938"><span class="linenos">1938</span></a>    <span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.error-1939"><a href="#LoggerAdapter.error-1939"><span class="linenos">1939</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.error-1940"><a href="#LoggerAdapter.error-1940"><span class="linenos">1940</span></a><span class="sd">        Delegate an error call to the underlying logger.</span>
</span><span id="LoggerAdapter.error-1941"><a href="#LoggerAdapter.error-1941"><span class="linenos">1941</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.error-1942"><a href="#LoggerAdapter.error-1942"><span class="linenos">1942</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Delegate an error call to the underlying logger.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.exception" class="classattr">
                                        <input id="LoggerAdapter.exception-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">exception</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.exception-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.exception"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.exception-1944"><a href="#LoggerAdapter.exception-1944"><span class="linenos">1944</span></a>    <span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.exception-1945"><a href="#LoggerAdapter.exception-1945"><span class="linenos">1945</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.exception-1946"><a href="#LoggerAdapter.exception-1946"><span class="linenos">1946</span></a><span class="sd">        Delegate an exception call to the underlying logger.</span>
</span><span id="LoggerAdapter.exception-1947"><a href="#LoggerAdapter.exception-1947"><span class="linenos">1947</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.exception-1948"><a href="#LoggerAdapter.exception-1948"><span class="linenos">1948</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">exc_info</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Delegate an exception call to the underlying logger.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.critical" class="classattr">
                                        <input id="LoggerAdapter.critical-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">critical</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.critical-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.critical"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.critical-1950"><a href="#LoggerAdapter.critical-1950"><span class="linenos">1950</span></a>    <span class="k">def</span> <span class="nf">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.critical-1951"><a href="#LoggerAdapter.critical-1951"><span class="linenos">1951</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.critical-1952"><a href="#LoggerAdapter.critical-1952"><span class="linenos">1952</span></a><span class="sd">        Delegate a critical call to the underlying logger.</span>
</span><span id="LoggerAdapter.critical-1953"><a href="#LoggerAdapter.critical-1953"><span class="linenos">1953</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.critical-1954"><a href="#LoggerAdapter.critical-1954"><span class="linenos">1954</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">CRITICAL</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Delegate a critical call to the underlying logger.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.log" class="classattr">
                                        <input id="LoggerAdapter.log-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">log</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">level</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.log-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.log"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.log-1956"><a href="#LoggerAdapter.log-1956"><span class="linenos">1956</span></a>    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="LoggerAdapter.log-1957"><a href="#LoggerAdapter.log-1957"><span class="linenos">1957</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.log-1958"><a href="#LoggerAdapter.log-1958"><span class="linenos">1958</span></a><span class="sd">        Delegate a log call to the underlying logger, after adding</span>
</span><span id="LoggerAdapter.log-1959"><a href="#LoggerAdapter.log-1959"><span class="linenos">1959</span></a><span class="sd">        contextual information from this adapter instance.</span>
</span><span id="LoggerAdapter.log-1960"><a href="#LoggerAdapter.log-1960"><span class="linenos">1960</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.log-1961"><a href="#LoggerAdapter.log-1961"><span class="linenos">1961</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="LoggerAdapter.log-1962"><a href="#LoggerAdapter.log-1962"><span class="linenos">1962</span></a>            <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
</span><span id="LoggerAdapter.log-1963"><a href="#LoggerAdapter.log-1963"><span class="linenos">1963</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Delegate a log call to the underlying logger, after adding
contextual information from this adapter instance.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.isEnabledFor" class="classattr">
                                        <input id="LoggerAdapter.isEnabledFor-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">isEnabledFor</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">level</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.isEnabledFor-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.isEnabledFor"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.isEnabledFor-1965"><a href="#LoggerAdapter.isEnabledFor-1965"><span class="linenos">1965</span></a>    <span class="k">def</span> <span class="nf">isEnabledFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="LoggerAdapter.isEnabledFor-1966"><a href="#LoggerAdapter.isEnabledFor-1966"><span class="linenos">1966</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.isEnabledFor-1967"><a href="#LoggerAdapter.isEnabledFor-1967"><span class="linenos">1967</span></a><span class="sd">        Is this logger enabled for level &#39;level&#39;?</span>
</span><span id="LoggerAdapter.isEnabledFor-1968"><a href="#LoggerAdapter.isEnabledFor-1968"><span class="linenos">1968</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.isEnabledFor-1969"><a href="#LoggerAdapter.isEnabledFor-1969"><span class="linenos">1969</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Is this logger enabled for level 'level'?</p>
</div>


                            </div>
                            <div id="LoggerAdapter.setLevel" class="classattr">
                                        <input id="LoggerAdapter.setLevel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setLevel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">level</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.setLevel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.setLevel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.setLevel-1971"><a href="#LoggerAdapter.setLevel-1971"><span class="linenos">1971</span></a>    <span class="k">def</span> <span class="nf">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
</span><span id="LoggerAdapter.setLevel-1972"><a href="#LoggerAdapter.setLevel-1972"><span class="linenos">1972</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.setLevel-1973"><a href="#LoggerAdapter.setLevel-1973"><span class="linenos">1973</span></a><span class="sd">        Set the specified level on the underlying logger.</span>
</span><span id="LoggerAdapter.setLevel-1974"><a href="#LoggerAdapter.setLevel-1974"><span class="linenos">1974</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.setLevel-1975"><a href="#LoggerAdapter.setLevel-1975"><span class="linenos">1975</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the specified level on the underlying logger.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.getEffectiveLevel" class="classattr">
                                        <input id="LoggerAdapter.getEffectiveLevel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getEffectiveLevel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.getEffectiveLevel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.getEffectiveLevel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.getEffectiveLevel-1977"><a href="#LoggerAdapter.getEffectiveLevel-1977"><span class="linenos">1977</span></a>    <span class="k">def</span> <span class="nf">getEffectiveLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter.getEffectiveLevel-1978"><a href="#LoggerAdapter.getEffectiveLevel-1978"><span class="linenos">1978</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.getEffectiveLevel-1979"><a href="#LoggerAdapter.getEffectiveLevel-1979"><span class="linenos">1979</span></a><span class="sd">        Get the effective level for the underlying logger.</span>
</span><span id="LoggerAdapter.getEffectiveLevel-1980"><a href="#LoggerAdapter.getEffectiveLevel-1980"><span class="linenos">1980</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.getEffectiveLevel-1981"><a href="#LoggerAdapter.getEffectiveLevel-1981"><span class="linenos">1981</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the effective level for the underlying logger.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.hasHandlers" class="classattr">
                                        <input id="LoggerAdapter.hasHandlers-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">hasHandlers</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LoggerAdapter.hasHandlers-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.hasHandlers"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.hasHandlers-1983"><a href="#LoggerAdapter.hasHandlers-1983"><span class="linenos">1983</span></a>    <span class="k">def</span> <span class="nf">hasHandlers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter.hasHandlers-1984"><a href="#LoggerAdapter.hasHandlers-1984"><span class="linenos">1984</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.hasHandlers-1985"><a href="#LoggerAdapter.hasHandlers-1985"><span class="linenos">1985</span></a><span class="sd">        See if the underlying logger has any handlers.</span>
</span><span id="LoggerAdapter.hasHandlers-1986"><a href="#LoggerAdapter.hasHandlers-1986"><span class="linenos">1986</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LoggerAdapter.hasHandlers-1987"><a href="#LoggerAdapter.hasHandlers-1987"><span class="linenos">1987</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">hasHandlers</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>See if the underlying logger has any handlers.</p>
</div>


                            </div>
                            <div id="LoggerAdapter.manager" class="classattr">
                                        <input id="LoggerAdapter.manager-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">manager</span>

                <label class="view-source-button" for="LoggerAdapter.manager-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.manager"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.manager-1995"><a href="#LoggerAdapter.manager-1995"><span class="linenos">1995</span></a>    <span class="nd">@property</span>
</span><span id="LoggerAdapter.manager-1996"><a href="#LoggerAdapter.manager-1996"><span class="linenos">1996</span></a>    <span class="k">def</span> <span class="nf">manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter.manager-1997"><a href="#LoggerAdapter.manager-1997"><span class="linenos">1997</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">manager</span>
</span></pre></div>


    

                            </div>
                            <div id="LoggerAdapter.name" class="classattr">
                                        <input id="LoggerAdapter.name-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">name</span>

                <label class="view-source-button" for="LoggerAdapter.name-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoggerAdapter.name"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoggerAdapter.name-2003"><a href="#LoggerAdapter.name-2003"><span class="linenos">2003</span></a>    <span class="nd">@property</span>
</span><span id="LoggerAdapter.name-2004"><a href="#LoggerAdapter.name-2004"><span class="linenos">2004</span></a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="LoggerAdapter.name-2005"><a href="#LoggerAdapter.name-2005"><span class="linenos">2005</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">name</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="NOTSET">
                    <div class="attr variable">
            <span class="name">NOTSET</span>        =
<span class="default_value">0</span>

        
    </div>
    <a class="headerlink" href="#NOTSET"></a>
    
    

                </section>
                <section id="NullHandler">
                            <input id="NullHandler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NullHandler</span><wbr>(<span class="base"><a href="#Handler">Handler</a></span>):

                <label class="view-source-button" for="NullHandler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NullHandler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NullHandler-2286"><a href="#NullHandler-2286"><span class="linenos">2286</span></a><span class="k">class</span> <span class="nc">NullHandler</span><span class="p">(</span><span class="n">Handler</span><span class="p">):</span>
</span><span id="NullHandler-2287"><a href="#NullHandler-2287"><span class="linenos">2287</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="NullHandler-2288"><a href="#NullHandler-2288"><span class="linenos">2288</span></a><span class="sd">    This handler does nothing. It&#39;s intended to be used to avoid the</span>
</span><span id="NullHandler-2289"><a href="#NullHandler-2289"><span class="linenos">2289</span></a><span class="sd">    &quot;No handlers could be found for logger XXX&quot; one-off warning. This is</span>
</span><span id="NullHandler-2290"><a href="#NullHandler-2290"><span class="linenos">2290</span></a><span class="sd">    important for library code, which may contain code to log events. If a user</span>
</span><span id="NullHandler-2291"><a href="#NullHandler-2291"><span class="linenos">2291</span></a><span class="sd">    of the library does not configure logging, the one-off warning might be</span>
</span><span id="NullHandler-2292"><a href="#NullHandler-2292"><span class="linenos">2292</span></a><span class="sd">    produced; to avoid this, the library developer simply needs to instantiate</span>
</span><span id="NullHandler-2293"><a href="#NullHandler-2293"><span class="linenos">2293</span></a><span class="sd">    a NullHandler and add it to the top-level logger of the library module or</span>
</span><span id="NullHandler-2294"><a href="#NullHandler-2294"><span class="linenos">2294</span></a><span class="sd">    package.</span>
</span><span id="NullHandler-2295"><a href="#NullHandler-2295"><span class="linenos">2295</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="NullHandler-2296"><a href="#NullHandler-2296"><span class="linenos">2296</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="NullHandler-2297"><a href="#NullHandler-2297"><span class="linenos">2297</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Stub.&quot;&quot;&quot;</span>
</span><span id="NullHandler-2298"><a href="#NullHandler-2298"><span class="linenos">2298</span></a>
</span><span id="NullHandler-2299"><a href="#NullHandler-2299"><span class="linenos">2299</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="NullHandler-2300"><a href="#NullHandler-2300"><span class="linenos">2300</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Stub.&quot;&quot;&quot;</span>
</span><span id="NullHandler-2301"><a href="#NullHandler-2301"><span class="linenos">2301</span></a>
</span><span id="NullHandler-2302"><a href="#NullHandler-2302"><span class="linenos">2302</span></a>    <span class="k">def</span> <span class="nf">createLock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="NullHandler-2303"><a href="#NullHandler-2303"><span class="linenos">2303</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="NullHandler-2304"><a href="#NullHandler-2304"><span class="linenos">2304</span></a>
</span><span id="NullHandler-2305"><a href="#NullHandler-2305"><span class="linenos">2305</span></a>    <span class="k">def</span> <span class="nf">_at_fork_reinit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="NullHandler-2306"><a href="#NullHandler-2306"><span class="linenos">2306</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>This handler does nothing. It's intended to be used to avoid the
"No handlers could be found for logger XXX" one-off warning. This is
important for library code, which may contain code to log events. If a user
of the library does not configure logging, the one-off warning might be
produced; to avoid this, the library developer simply needs to instantiate
a NullHandler and add it to the top-level logger of the library module or
package.</p>
</div>


                            <div id="NullHandler.handle" class="classattr">
                                        <input id="NullHandler.handle-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="NullHandler.handle-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NullHandler.handle"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NullHandler.handle-2296"><a href="#NullHandler.handle-2296"><span class="linenos">2296</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="NullHandler.handle-2297"><a href="#NullHandler.handle-2297"><span class="linenos">2297</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Stub.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Stub.</p>
</div>


                            </div>
                            <div id="NullHandler.emit" class="classattr">
                                        <input id="NullHandler.emit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">emit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="NullHandler.emit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NullHandler.emit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NullHandler.emit-2299"><a href="#NullHandler.emit-2299"><span class="linenos">2299</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="NullHandler.emit-2300"><a href="#NullHandler.emit-2300"><span class="linenos">2300</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Stub.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Stub.</p>
</div>


                            </div>
                            <div id="NullHandler.createLock" class="classattr">
                                        <input id="NullHandler.createLock-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">createLock</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="NullHandler.createLock-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NullHandler.createLock"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NullHandler.createLock-2302"><a href="#NullHandler.createLock-2302"><span class="linenos">2302</span></a>    <span class="k">def</span> <span class="nf">createLock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="NullHandler.createLock-2303"><a href="#NullHandler.createLock-2303"><span class="linenos">2303</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Acquire a thread lock for serializing access to the underlying I/O.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Handler">Handler</a></dt>
                                <dd id="NullHandler.__init__" class="function"><a href="#Handler.__init__">Handler</a></dd>
                <dd id="NullHandler.level" class="variable"><a href="#Handler.level">level</a></dd>
                <dd id="NullHandler.formatter" class="variable"><a href="#Handler.formatter">formatter</a></dd>
                <dd id="NullHandler.get_name" class="function"><a href="#Handler.get_name">get_name</a></dd>
                <dd id="NullHandler.set_name" class="function"><a href="#Handler.set_name">set_name</a></dd>
                <dd id="NullHandler.name" class="variable"><a href="#Handler.name">name</a></dd>
                <dd id="NullHandler.acquire" class="function"><a href="#Handler.acquire">acquire</a></dd>
                <dd id="NullHandler.release" class="function"><a href="#Handler.release">release</a></dd>
                <dd id="NullHandler.setLevel" class="function"><a href="#Handler.setLevel">setLevel</a></dd>
                <dd id="NullHandler.format" class="function"><a href="#Handler.format">format</a></dd>
                <dd id="NullHandler.setFormatter" class="function"><a href="#Handler.setFormatter">setFormatter</a></dd>
                <dd id="NullHandler.flush" class="function"><a href="#Handler.flush">flush</a></dd>
                <dd id="NullHandler.close" class="function"><a href="#Handler.close">close</a></dd>
                <dd id="NullHandler.handleError" class="function"><a href="#Handler.handleError">handleError</a></dd>

            </div>
            <div><dt><a href="#Filterer">Filterer</a></dt>
                                <dd id="NullHandler.filters" class="variable"><a href="#Filterer.filters">filters</a></dd>
                <dd id="NullHandler.addFilter" class="function"><a href="#Filterer.addFilter">addFilter</a></dd>
                <dd id="NullHandler.removeFilter" class="function"><a href="#Filterer.removeFilter">removeFilter</a></dd>
                <dd id="NullHandler.filter" class="function"><a href="#Filterer.filter">filter</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="StreamHandler">
                            <input id="StreamHandler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">StreamHandler</span><wbr>(<span class="base"><a href="#Handler">Handler</a></span>):

                <label class="view-source-button" for="StreamHandler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StreamHandler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StreamHandler-1118"><a href="#StreamHandler-1118"><span class="linenos">1118</span></a><span class="k">class</span> <span class="nc">StreamHandler</span><span class="p">(</span><span class="n">Handler</span><span class="p">):</span>
</span><span id="StreamHandler-1119"><a href="#StreamHandler-1119"><span class="linenos">1119</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler-1120"><a href="#StreamHandler-1120"><span class="linenos">1120</span></a><span class="sd">    A handler class which writes logging records, appropriately formatted,</span>
</span><span id="StreamHandler-1121"><a href="#StreamHandler-1121"><span class="linenos">1121</span></a><span class="sd">    to a stream. Note that this class does not close the stream, as</span>
</span><span id="StreamHandler-1122"><a href="#StreamHandler-1122"><span class="linenos">1122</span></a><span class="sd">    sys.stdout or sys.stderr may be used.</span>
</span><span id="StreamHandler-1123"><a href="#StreamHandler-1123"><span class="linenos">1123</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="StreamHandler-1124"><a href="#StreamHandler-1124"><span class="linenos">1124</span></a>
</span><span id="StreamHandler-1125"><a href="#StreamHandler-1125"><span class="linenos">1125</span></a>    <span class="n">terminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
</span><span id="StreamHandler-1126"><a href="#StreamHandler-1126"><span class="linenos">1126</span></a>
</span><span id="StreamHandler-1127"><a href="#StreamHandler-1127"><span class="linenos">1127</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="StreamHandler-1128"><a href="#StreamHandler-1128"><span class="linenos">1128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler-1129"><a href="#StreamHandler-1129"><span class="linenos">1129</span></a><span class="sd">        Initialize the handler.</span>
</span><span id="StreamHandler-1130"><a href="#StreamHandler-1130"><span class="linenos">1130</span></a>
</span><span id="StreamHandler-1131"><a href="#StreamHandler-1131"><span class="linenos">1131</span></a><span class="sd">        If stream is not specified, sys.stderr is used.</span>
</span><span id="StreamHandler-1132"><a href="#StreamHandler-1132"><span class="linenos">1132</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="StreamHandler-1133"><a href="#StreamHandler-1133"><span class="linenos">1133</span></a>        <span class="n">Handler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="StreamHandler-1134"><a href="#StreamHandler-1134"><span class="linenos">1134</span></a>        <span class="k">if</span> <span class="n">stream</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="StreamHandler-1135"><a href="#StreamHandler-1135"><span class="linenos">1135</span></a>            <span class="n">stream</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
</span><span id="StreamHandler-1136"><a href="#StreamHandler-1136"><span class="linenos">1136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">stream</span>
</span><span id="StreamHandler-1137"><a href="#StreamHandler-1137"><span class="linenos">1137</span></a>
</span><span id="StreamHandler-1138"><a href="#StreamHandler-1138"><span class="linenos">1138</span></a>    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="StreamHandler-1139"><a href="#StreamHandler-1139"><span class="linenos">1139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler-1140"><a href="#StreamHandler-1140"><span class="linenos">1140</span></a><span class="sd">        Flushes the stream.</span>
</span><span id="StreamHandler-1141"><a href="#StreamHandler-1141"><span class="linenos">1141</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="StreamHandler-1142"><a href="#StreamHandler-1142"><span class="linenos">1142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="StreamHandler-1143"><a href="#StreamHandler-1143"><span class="linenos">1143</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="StreamHandler-1144"><a href="#StreamHandler-1144"><span class="linenos">1144</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="s2">&quot;flush&quot;</span><span class="p">):</span>
</span><span id="StreamHandler-1145"><a href="#StreamHandler-1145"><span class="linenos">1145</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="StreamHandler-1146"><a href="#StreamHandler-1146"><span class="linenos">1146</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="StreamHandler-1147"><a href="#StreamHandler-1147"><span class="linenos">1147</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="StreamHandler-1148"><a href="#StreamHandler-1148"><span class="linenos">1148</span></a>
</span><span id="StreamHandler-1149"><a href="#StreamHandler-1149"><span class="linenos">1149</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="StreamHandler-1150"><a href="#StreamHandler-1150"><span class="linenos">1150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler-1151"><a href="#StreamHandler-1151"><span class="linenos">1151</span></a><span class="sd">        Emit a record.</span>
</span><span id="StreamHandler-1152"><a href="#StreamHandler-1152"><span class="linenos">1152</span></a>
</span><span id="StreamHandler-1153"><a href="#StreamHandler-1153"><span class="linenos">1153</span></a><span class="sd">        If a formatter is specified, it is used to format the record.</span>
</span><span id="StreamHandler-1154"><a href="#StreamHandler-1154"><span class="linenos">1154</span></a><span class="sd">        The record is then written to the stream with a trailing newline.  If</span>
</span><span id="StreamHandler-1155"><a href="#StreamHandler-1155"><span class="linenos">1155</span></a><span class="sd">        exception information is present, it is formatted using</span>
</span><span id="StreamHandler-1156"><a href="#StreamHandler-1156"><span class="linenos">1156</span></a><span class="sd">        traceback.print_exception and appended to the stream.  If the stream</span>
</span><span id="StreamHandler-1157"><a href="#StreamHandler-1157"><span class="linenos">1157</span></a><span class="sd">        has an &#39;encoding&#39; attribute, it is used to determine how to do the</span>
</span><span id="StreamHandler-1158"><a href="#StreamHandler-1158"><span class="linenos">1158</span></a><span class="sd">        output to the stream.</span>
</span><span id="StreamHandler-1159"><a href="#StreamHandler-1159"><span class="linenos">1159</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="StreamHandler-1160"><a href="#StreamHandler-1160"><span class="linenos">1160</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="StreamHandler-1161"><a href="#StreamHandler-1161"><span class="linenos">1161</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="StreamHandler-1162"><a href="#StreamHandler-1162"><span class="linenos">1162</span></a>            <span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="StreamHandler-1163"><a href="#StreamHandler-1163"><span class="linenos">1163</span></a>            <span class="c1"># issue 35046: merged two stream.writes into one.</span>
</span><span id="StreamHandler-1164"><a href="#StreamHandler-1164"><span class="linenos">1164</span></a>            <span class="n">stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">terminator</span><span class="p">)</span>
</span><span id="StreamHandler-1165"><a href="#StreamHandler-1165"><span class="linenos">1165</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="StreamHandler-1166"><a href="#StreamHandler-1166"><span class="linenos">1166</span></a>        <span class="k">except</span> <span class="ne">RecursionError</span><span class="p">:</span>  <span class="c1"># See issue 36272</span>
</span><span id="StreamHandler-1167"><a href="#StreamHandler-1167"><span class="linenos">1167</span></a>            <span class="k">raise</span>
</span><span id="StreamHandler-1168"><a href="#StreamHandler-1168"><span class="linenos">1168</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="StreamHandler-1169"><a href="#StreamHandler-1169"><span class="linenos">1169</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">handleError</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="StreamHandler-1170"><a href="#StreamHandler-1170"><span class="linenos">1170</span></a>
</span><span id="StreamHandler-1171"><a href="#StreamHandler-1171"><span class="linenos">1171</span></a>    <span class="k">def</span> <span class="nf">setStream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
</span><span id="StreamHandler-1172"><a href="#StreamHandler-1172"><span class="linenos">1172</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler-1173"><a href="#StreamHandler-1173"><span class="linenos">1173</span></a><span class="sd">        Sets the StreamHandler&#39;s stream to the specified value,</span>
</span><span id="StreamHandler-1174"><a href="#StreamHandler-1174"><span class="linenos">1174</span></a><span class="sd">        if it is different.</span>
</span><span id="StreamHandler-1175"><a href="#StreamHandler-1175"><span class="linenos">1175</span></a>
</span><span id="StreamHandler-1176"><a href="#StreamHandler-1176"><span class="linenos">1176</span></a><span class="sd">        Returns the old stream, if the stream was changed, or None</span>
</span><span id="StreamHandler-1177"><a href="#StreamHandler-1177"><span class="linenos">1177</span></a><span class="sd">        if it wasn&#39;t.</span>
</span><span id="StreamHandler-1178"><a href="#StreamHandler-1178"><span class="linenos">1178</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="StreamHandler-1179"><a href="#StreamHandler-1179"><span class="linenos">1179</span></a>        <span class="k">if</span> <span class="n">stream</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="StreamHandler-1180"><a href="#StreamHandler-1180"><span class="linenos">1180</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="StreamHandler-1181"><a href="#StreamHandler-1181"><span class="linenos">1181</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="StreamHandler-1182"><a href="#StreamHandler-1182"><span class="linenos">1182</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="StreamHandler-1183"><a href="#StreamHandler-1183"><span class="linenos">1183</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="StreamHandler-1184"><a href="#StreamHandler-1184"><span class="linenos">1184</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="StreamHandler-1185"><a href="#StreamHandler-1185"><span class="linenos">1185</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="StreamHandler-1186"><a href="#StreamHandler-1186"><span class="linenos">1186</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">stream</span>
</span><span id="StreamHandler-1187"><a href="#StreamHandler-1187"><span class="linenos">1187</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="StreamHandler-1188"><a href="#StreamHandler-1188"><span class="linenos">1188</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="StreamHandler-1189"><a href="#StreamHandler-1189"><span class="linenos">1189</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="StreamHandler-1190"><a href="#StreamHandler-1190"><span class="linenos">1190</span></a>
</span><span id="StreamHandler-1191"><a href="#StreamHandler-1191"><span class="linenos">1191</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="StreamHandler-1192"><a href="#StreamHandler-1192"><span class="linenos">1192</span></a>        <span class="n">level</span> <span class="o">=</span> <span class="n">getLevelName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
</span><span id="StreamHandler-1193"><a href="#StreamHandler-1193"><span class="linenos">1193</span></a>        <span class="n">name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="StreamHandler-1194"><a href="#StreamHandler-1194"><span class="linenos">1194</span></a>        <span class="c1">#  bpo-36015: name can be an int</span>
</span><span id="StreamHandler-1195"><a href="#StreamHandler-1195"><span class="linenos">1195</span></a>        <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="StreamHandler-1196"><a href="#StreamHandler-1196"><span class="linenos">1196</span></a>        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="StreamHandler-1197"><a href="#StreamHandler-1197"><span class="linenos">1197</span></a>            <span class="n">name</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span>
</span><span id="StreamHandler-1198"><a href="#StreamHandler-1198"><span class="linenos">1198</span></a>        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</span><span id="StreamHandler-1199"><a href="#StreamHandler-1199"><span class="linenos">1199</span></a>
</span><span id="StreamHandler-1200"><a href="#StreamHandler-1200"><span class="linenos">1200</span></a>    <span class="n">__class_getitem__</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">GenericAlias</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A handler class which writes logging records, appropriately formatted,
to a stream. Note that this class does not close the stream, as
sys.stdout or sys.stderr may be used.</p>
</div>


                            <div id="StreamHandler.__init__" class="classattr">
                                        <input id="StreamHandler.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">StreamHandler</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">stream</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="StreamHandler.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StreamHandler.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StreamHandler.__init__-1127"><a href="#StreamHandler.__init__-1127"><span class="linenos">1127</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="StreamHandler.__init__-1128"><a href="#StreamHandler.__init__-1128"><span class="linenos">1128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler.__init__-1129"><a href="#StreamHandler.__init__-1129"><span class="linenos">1129</span></a><span class="sd">        Initialize the handler.</span>
</span><span id="StreamHandler.__init__-1130"><a href="#StreamHandler.__init__-1130"><span class="linenos">1130</span></a>
</span><span id="StreamHandler.__init__-1131"><a href="#StreamHandler.__init__-1131"><span class="linenos">1131</span></a><span class="sd">        If stream is not specified, sys.stderr is used.</span>
</span><span id="StreamHandler.__init__-1132"><a href="#StreamHandler.__init__-1132"><span class="linenos">1132</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="StreamHandler.__init__-1133"><a href="#StreamHandler.__init__-1133"><span class="linenos">1133</span></a>        <span class="n">Handler</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="StreamHandler.__init__-1134"><a href="#StreamHandler.__init__-1134"><span class="linenos">1134</span></a>        <span class="k">if</span> <span class="n">stream</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="StreamHandler.__init__-1135"><a href="#StreamHandler.__init__-1135"><span class="linenos">1135</span></a>            <span class="n">stream</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
</span><span id="StreamHandler.__init__-1136"><a href="#StreamHandler.__init__-1136"><span class="linenos">1136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">stream</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the handler.</p>

<p>If stream is not specified, sys.stderr is used.</p>
</div>


                            </div>
                            <div id="StreamHandler.terminator" class="classattr">
                                <div class="attr variable">
            <span class="name">terminator</span>        =
<span class="default_value">&#39;\n&#39;</span>

        
    </div>
    <a class="headerlink" href="#StreamHandler.terminator"></a>
    
    

                            </div>
                            <div id="StreamHandler.stream" class="classattr">
                                <div class="attr variable">
            <span class="name">stream</span>

        
    </div>
    <a class="headerlink" href="#StreamHandler.stream"></a>
    
    

                            </div>
                            <div id="StreamHandler.flush" class="classattr">
                                        <input id="StreamHandler.flush-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">flush</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="StreamHandler.flush-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StreamHandler.flush"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StreamHandler.flush-1138"><a href="#StreamHandler.flush-1138"><span class="linenos">1138</span></a>    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="StreamHandler.flush-1139"><a href="#StreamHandler.flush-1139"><span class="linenos">1139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler.flush-1140"><a href="#StreamHandler.flush-1140"><span class="linenos">1140</span></a><span class="sd">        Flushes the stream.</span>
</span><span id="StreamHandler.flush-1141"><a href="#StreamHandler.flush-1141"><span class="linenos">1141</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="StreamHandler.flush-1142"><a href="#StreamHandler.flush-1142"><span class="linenos">1142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="StreamHandler.flush-1143"><a href="#StreamHandler.flush-1143"><span class="linenos">1143</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="StreamHandler.flush-1144"><a href="#StreamHandler.flush-1144"><span class="linenos">1144</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="s2">&quot;flush&quot;</span><span class="p">):</span>
</span><span id="StreamHandler.flush-1145"><a href="#StreamHandler.flush-1145"><span class="linenos">1145</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="StreamHandler.flush-1146"><a href="#StreamHandler.flush-1146"><span class="linenos">1146</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="StreamHandler.flush-1147"><a href="#StreamHandler.flush-1147"><span class="linenos">1147</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Flushes the stream.</p>
</div>


                            </div>
                            <div id="StreamHandler.emit" class="classattr">
                                        <input id="StreamHandler.emit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">emit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="StreamHandler.emit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StreamHandler.emit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StreamHandler.emit-1149"><a href="#StreamHandler.emit-1149"><span class="linenos">1149</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="StreamHandler.emit-1150"><a href="#StreamHandler.emit-1150"><span class="linenos">1150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler.emit-1151"><a href="#StreamHandler.emit-1151"><span class="linenos">1151</span></a><span class="sd">        Emit a record.</span>
</span><span id="StreamHandler.emit-1152"><a href="#StreamHandler.emit-1152"><span class="linenos">1152</span></a>
</span><span id="StreamHandler.emit-1153"><a href="#StreamHandler.emit-1153"><span class="linenos">1153</span></a><span class="sd">        If a formatter is specified, it is used to format the record.</span>
</span><span id="StreamHandler.emit-1154"><a href="#StreamHandler.emit-1154"><span class="linenos">1154</span></a><span class="sd">        The record is then written to the stream with a trailing newline.  If</span>
</span><span id="StreamHandler.emit-1155"><a href="#StreamHandler.emit-1155"><span class="linenos">1155</span></a><span class="sd">        exception information is present, it is formatted using</span>
</span><span id="StreamHandler.emit-1156"><a href="#StreamHandler.emit-1156"><span class="linenos">1156</span></a><span class="sd">        traceback.print_exception and appended to the stream.  If the stream</span>
</span><span id="StreamHandler.emit-1157"><a href="#StreamHandler.emit-1157"><span class="linenos">1157</span></a><span class="sd">        has an &#39;encoding&#39; attribute, it is used to determine how to do the</span>
</span><span id="StreamHandler.emit-1158"><a href="#StreamHandler.emit-1158"><span class="linenos">1158</span></a><span class="sd">        output to the stream.</span>
</span><span id="StreamHandler.emit-1159"><a href="#StreamHandler.emit-1159"><span class="linenos">1159</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="StreamHandler.emit-1160"><a href="#StreamHandler.emit-1160"><span class="linenos">1160</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="StreamHandler.emit-1161"><a href="#StreamHandler.emit-1161"><span class="linenos">1161</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span><span id="StreamHandler.emit-1162"><a href="#StreamHandler.emit-1162"><span class="linenos">1162</span></a>            <span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="StreamHandler.emit-1163"><a href="#StreamHandler.emit-1163"><span class="linenos">1163</span></a>            <span class="c1"># issue 35046: merged two stream.writes into one.</span>
</span><span id="StreamHandler.emit-1164"><a href="#StreamHandler.emit-1164"><span class="linenos">1164</span></a>            <span class="n">stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">terminator</span><span class="p">)</span>
</span><span id="StreamHandler.emit-1165"><a href="#StreamHandler.emit-1165"><span class="linenos">1165</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="StreamHandler.emit-1166"><a href="#StreamHandler.emit-1166"><span class="linenos">1166</span></a>        <span class="k">except</span> <span class="ne">RecursionError</span><span class="p">:</span>  <span class="c1"># See issue 36272</span>
</span><span id="StreamHandler.emit-1167"><a href="#StreamHandler.emit-1167"><span class="linenos">1167</span></a>            <span class="k">raise</span>
</span><span id="StreamHandler.emit-1168"><a href="#StreamHandler.emit-1168"><span class="linenos">1168</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="StreamHandler.emit-1169"><a href="#StreamHandler.emit-1169"><span class="linenos">1169</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">handleError</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Emit a record.</p>

<p>If a formatter is specified, it is used to format the record.
The record is then written to the stream with a trailing newline.  If
exception information is present, it is formatted using
traceback.print_exception and appended to the stream.  If the stream
has an 'encoding' attribute, it is used to determine how to do the
output to the stream.</p>
</div>


                            </div>
                            <div id="StreamHandler.setStream" class="classattr">
                                        <input id="StreamHandler.setStream-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setStream</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">stream</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="StreamHandler.setStream-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StreamHandler.setStream"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StreamHandler.setStream-1171"><a href="#StreamHandler.setStream-1171"><span class="linenos">1171</span></a>    <span class="k">def</span> <span class="nf">setStream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
</span><span id="StreamHandler.setStream-1172"><a href="#StreamHandler.setStream-1172"><span class="linenos">1172</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="StreamHandler.setStream-1173"><a href="#StreamHandler.setStream-1173"><span class="linenos">1173</span></a><span class="sd">        Sets the StreamHandler&#39;s stream to the specified value,</span>
</span><span id="StreamHandler.setStream-1174"><a href="#StreamHandler.setStream-1174"><span class="linenos">1174</span></a><span class="sd">        if it is different.</span>
</span><span id="StreamHandler.setStream-1175"><a href="#StreamHandler.setStream-1175"><span class="linenos">1175</span></a>
</span><span id="StreamHandler.setStream-1176"><a href="#StreamHandler.setStream-1176"><span class="linenos">1176</span></a><span class="sd">        Returns the old stream, if the stream was changed, or None</span>
</span><span id="StreamHandler.setStream-1177"><a href="#StreamHandler.setStream-1177"><span class="linenos">1177</span></a><span class="sd">        if it wasn&#39;t.</span>
</span><span id="StreamHandler.setStream-1178"><a href="#StreamHandler.setStream-1178"><span class="linenos">1178</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="StreamHandler.setStream-1179"><a href="#StreamHandler.setStream-1179"><span class="linenos">1179</span></a>        <span class="k">if</span> <span class="n">stream</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
</span><span id="StreamHandler.setStream-1180"><a href="#StreamHandler.setStream-1180"><span class="linenos">1180</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="StreamHandler.setStream-1181"><a href="#StreamHandler.setStream-1181"><span class="linenos">1181</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="StreamHandler.setStream-1182"><a href="#StreamHandler.setStream-1182"><span class="linenos">1182</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span>
</span><span id="StreamHandler.setStream-1183"><a href="#StreamHandler.setStream-1183"><span class="linenos">1183</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="StreamHandler.setStream-1184"><a href="#StreamHandler.setStream-1184"><span class="linenos">1184</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="StreamHandler.setStream-1185"><a href="#StreamHandler.setStream-1185"><span class="linenos">1185</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="StreamHandler.setStream-1186"><a href="#StreamHandler.setStream-1186"><span class="linenos">1186</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">stream</span>
</span><span id="StreamHandler.setStream-1187"><a href="#StreamHandler.setStream-1187"><span class="linenos">1187</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="StreamHandler.setStream-1188"><a href="#StreamHandler.setStream-1188"><span class="linenos">1188</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="StreamHandler.setStream-1189"><a href="#StreamHandler.setStream-1189"><span class="linenos">1189</span></a>        <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Sets the StreamHandler's stream to the specified value,
if it is different.</p>

<p>Returns the old stream, if the stream was changed, or None
if it wasn't.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Handler">Handler</a></dt>
                                <dd id="StreamHandler.level" class="variable"><a href="#Handler.level">level</a></dd>
                <dd id="StreamHandler.formatter" class="variable"><a href="#Handler.formatter">formatter</a></dd>
                <dd id="StreamHandler.get_name" class="function"><a href="#Handler.get_name">get_name</a></dd>
                <dd id="StreamHandler.set_name" class="function"><a href="#Handler.set_name">set_name</a></dd>
                <dd id="StreamHandler.name" class="variable"><a href="#Handler.name">name</a></dd>
                <dd id="StreamHandler.createLock" class="function"><a href="#Handler.createLock">createLock</a></dd>
                <dd id="StreamHandler.acquire" class="function"><a href="#Handler.acquire">acquire</a></dd>
                <dd id="StreamHandler.release" class="function"><a href="#Handler.release">release</a></dd>
                <dd id="StreamHandler.setLevel" class="function"><a href="#Handler.setLevel">setLevel</a></dd>
                <dd id="StreamHandler.format" class="function"><a href="#Handler.format">format</a></dd>
                <dd id="StreamHandler.handle" class="function"><a href="#Handler.handle">handle</a></dd>
                <dd id="StreamHandler.setFormatter" class="function"><a href="#Handler.setFormatter">setFormatter</a></dd>
                <dd id="StreamHandler.close" class="function"><a href="#Handler.close">close</a></dd>
                <dd id="StreamHandler.handleError" class="function"><a href="#Handler.handleError">handleError</a></dd>

            </div>
            <div><dt><a href="#Filterer">Filterer</a></dt>
                                <dd id="StreamHandler.filters" class="variable"><a href="#Filterer.filters">filters</a></dd>
                <dd id="StreamHandler.addFilter" class="function"><a href="#Filterer.addFilter">addFilter</a></dd>
                <dd id="StreamHandler.removeFilter" class="function"><a href="#Filterer.removeFilter">removeFilter</a></dd>
                <dd id="StreamHandler.filter" class="function"><a href="#Filterer.filter">filter</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="WARN">
                    <div class="attr variable">
            <span class="name">WARN</span>        =
<span class="default_value">30</span>

        
    </div>
    <a class="headerlink" href="#WARN"></a>
    
    

                </section>
                <section id="WARNING">
                    <div class="attr variable">
            <span class="name">WARNING</span>        =
<span class="default_value">30</span>

        
    </div>
    <a class="headerlink" href="#WARNING"></a>
    
    

                </section>
                <section id="addLevelName">
                            <input id="addLevelName-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">addLevelName</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">level</span>, </span><span class="param"><span class="n">levelName</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="addLevelName-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#addLevelName"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="addLevelName-157"><a href="#addLevelName-157"><span class="linenos">157</span></a><span class="k">def</span> <span class="nf">addLevelName</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">levelName</span><span class="p">):</span>
</span><span id="addLevelName-158"><a href="#addLevelName-158"><span class="linenos">158</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="addLevelName-159"><a href="#addLevelName-159"><span class="linenos">159</span></a><span class="sd">    Associate &#39;levelName&#39; with &#39;level&#39;.</span>
</span><span id="addLevelName-160"><a href="#addLevelName-160"><span class="linenos">160</span></a>
</span><span id="addLevelName-161"><a href="#addLevelName-161"><span class="linenos">161</span></a><span class="sd">    This is used when converting levels to text during message formatting.</span>
</span><span id="addLevelName-162"><a href="#addLevelName-162"><span class="linenos">162</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="addLevelName-163"><a href="#addLevelName-163"><span class="linenos">163</span></a>    <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="addLevelName-164"><a href="#addLevelName-164"><span class="linenos">164</span></a>    <span class="k">try</span><span class="p">:</span>    <span class="c1">#unlikely to cause an exception, but you never know...</span>
</span><span id="addLevelName-165"><a href="#addLevelName-165"><span class="linenos">165</span></a>        <span class="n">_levelToName</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">=</span> <span class="n">levelName</span>
</span><span id="addLevelName-166"><a href="#addLevelName-166"><span class="linenos">166</span></a>        <span class="n">_nameToLevel</span><span class="p">[</span><span class="n">levelName</span><span class="p">]</span> <span class="o">=</span> <span class="n">level</span>
</span><span id="addLevelName-167"><a href="#addLevelName-167"><span class="linenos">167</span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="addLevelName-168"><a href="#addLevelName-168"><span class="linenos">168</span></a>        <span class="n">_releaseLock</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Associate 'levelName' with 'level'.</p>

<p>This is used when converting levels to text during message formatting.</p>
</div>


                </section>
                <section id="basicConfig">
                            <input id="basicConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">basicConfig</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="basicConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#basicConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="basicConfig-2022"><a href="#basicConfig-2022"><span class="linenos">2022</span></a><span class="k">def</span> <span class="nf">basicConfig</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="basicConfig-2023"><a href="#basicConfig-2023"><span class="linenos">2023</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="basicConfig-2024"><a href="#basicConfig-2024"><span class="linenos">2024</span></a><span class="sd">    Do basic configuration for the logging system.</span>
</span><span id="basicConfig-2025"><a href="#basicConfig-2025"><span class="linenos">2025</span></a>
</span><span id="basicConfig-2026"><a href="#basicConfig-2026"><span class="linenos">2026</span></a><span class="sd">    This function does nothing if the root logger already has handlers</span>
</span><span id="basicConfig-2027"><a href="#basicConfig-2027"><span class="linenos">2027</span></a><span class="sd">    configured, unless the keyword argument *force* is set to ``True``.</span>
</span><span id="basicConfig-2028"><a href="#basicConfig-2028"><span class="linenos">2028</span></a><span class="sd">    It is a convenience method intended for use by simple scripts</span>
</span><span id="basicConfig-2029"><a href="#basicConfig-2029"><span class="linenos">2029</span></a><span class="sd">    to do one-shot configuration of the logging package.</span>
</span><span id="basicConfig-2030"><a href="#basicConfig-2030"><span class="linenos">2030</span></a>
</span><span id="basicConfig-2031"><a href="#basicConfig-2031"><span class="linenos">2031</span></a><span class="sd">    The default behaviour is to create a StreamHandler which writes to</span>
</span><span id="basicConfig-2032"><a href="#basicConfig-2032"><span class="linenos">2032</span></a><span class="sd">    sys.stderr, set a formatter using the BASIC_FORMAT format string, and</span>
</span><span id="basicConfig-2033"><a href="#basicConfig-2033"><span class="linenos">2033</span></a><span class="sd">    add the handler to the root logger.</span>
</span><span id="basicConfig-2034"><a href="#basicConfig-2034"><span class="linenos">2034</span></a>
</span><span id="basicConfig-2035"><a href="#basicConfig-2035"><span class="linenos">2035</span></a><span class="sd">    A number of optional keyword arguments may be specified, which can alter</span>
</span><span id="basicConfig-2036"><a href="#basicConfig-2036"><span class="linenos">2036</span></a><span class="sd">    the default behaviour.</span>
</span><span id="basicConfig-2037"><a href="#basicConfig-2037"><span class="linenos">2037</span></a>
</span><span id="basicConfig-2038"><a href="#basicConfig-2038"><span class="linenos">2038</span></a><span class="sd">    filename  Specifies that a FileHandler be created, using the specified</span>
</span><span id="basicConfig-2039"><a href="#basicConfig-2039"><span class="linenos">2039</span></a><span class="sd">              filename, rather than a StreamHandler.</span>
</span><span id="basicConfig-2040"><a href="#basicConfig-2040"><span class="linenos">2040</span></a><span class="sd">    filemode  Specifies the mode to open the file, if filename is specified</span>
</span><span id="basicConfig-2041"><a href="#basicConfig-2041"><span class="linenos">2041</span></a><span class="sd">              (if filemode is unspecified, it defaults to &#39;a&#39;).</span>
</span><span id="basicConfig-2042"><a href="#basicConfig-2042"><span class="linenos">2042</span></a><span class="sd">    format    Use the specified format string for the handler.</span>
</span><span id="basicConfig-2043"><a href="#basicConfig-2043"><span class="linenos">2043</span></a><span class="sd">    datefmt   Use the specified date/time format.</span>
</span><span id="basicConfig-2044"><a href="#basicConfig-2044"><span class="linenos">2044</span></a><span class="sd">    style     If a format string is specified, use this to specify the</span>
</span><span id="basicConfig-2045"><a href="#basicConfig-2045"><span class="linenos">2045</span></a><span class="sd">              type of format string (possible values &#39;%&#39;, &#39;{&#39;, &#39;$&#39;, for</span>
</span><span id="basicConfig-2046"><a href="#basicConfig-2046"><span class="linenos">2046</span></a><span class="sd">              %-formatting, :meth:`str.format` and :class:`string.Template`</span>
</span><span id="basicConfig-2047"><a href="#basicConfig-2047"><span class="linenos">2047</span></a><span class="sd">              - defaults to &#39;%&#39;).</span>
</span><span id="basicConfig-2048"><a href="#basicConfig-2048"><span class="linenos">2048</span></a><span class="sd">    level     Set the root logger level to the specified level.</span>
</span><span id="basicConfig-2049"><a href="#basicConfig-2049"><span class="linenos">2049</span></a><span class="sd">    stream    Use the specified stream to initialize the StreamHandler. Note</span>
</span><span id="basicConfig-2050"><a href="#basicConfig-2050"><span class="linenos">2050</span></a><span class="sd">              that this argument is incompatible with &#39;filename&#39; - if both</span>
</span><span id="basicConfig-2051"><a href="#basicConfig-2051"><span class="linenos">2051</span></a><span class="sd">              are present, &#39;stream&#39; is ignored.</span>
</span><span id="basicConfig-2052"><a href="#basicConfig-2052"><span class="linenos">2052</span></a><span class="sd">    handlers  If specified, this should be an iterable of already created</span>
</span><span id="basicConfig-2053"><a href="#basicConfig-2053"><span class="linenos">2053</span></a><span class="sd">              handlers, which will be added to the root logger. Any handler</span>
</span><span id="basicConfig-2054"><a href="#basicConfig-2054"><span class="linenos">2054</span></a><span class="sd">              in the list which does not have a formatter assigned will be</span>
</span><span id="basicConfig-2055"><a href="#basicConfig-2055"><span class="linenos">2055</span></a><span class="sd">              assigned the formatter created in this function.</span>
</span><span id="basicConfig-2056"><a href="#basicConfig-2056"><span class="linenos">2056</span></a><span class="sd">    force     If this keyword  is specified as true, any existing handlers</span>
</span><span id="basicConfig-2057"><a href="#basicConfig-2057"><span class="linenos">2057</span></a><span class="sd">              attached to the root logger are removed and closed, before</span>
</span><span id="basicConfig-2058"><a href="#basicConfig-2058"><span class="linenos">2058</span></a><span class="sd">              carrying out the configuration as specified by the other</span>
</span><span id="basicConfig-2059"><a href="#basicConfig-2059"><span class="linenos">2059</span></a><span class="sd">              arguments.</span>
</span><span id="basicConfig-2060"><a href="#basicConfig-2060"><span class="linenos">2060</span></a><span class="sd">    encoding  If specified together with a filename, this encoding is passed to</span>
</span><span id="basicConfig-2061"><a href="#basicConfig-2061"><span class="linenos">2061</span></a><span class="sd">              the created FileHandler, causing it to be used when the file is</span>
</span><span id="basicConfig-2062"><a href="#basicConfig-2062"><span class="linenos">2062</span></a><span class="sd">              opened.</span>
</span><span id="basicConfig-2063"><a href="#basicConfig-2063"><span class="linenos">2063</span></a><span class="sd">    errors    If specified together with a filename, this value is passed to the</span>
</span><span id="basicConfig-2064"><a href="#basicConfig-2064"><span class="linenos">2064</span></a><span class="sd">              created FileHandler, causing it to be used when the file is</span>
</span><span id="basicConfig-2065"><a href="#basicConfig-2065"><span class="linenos">2065</span></a><span class="sd">              opened in text mode. If not specified, the default value is</span>
</span><span id="basicConfig-2066"><a href="#basicConfig-2066"><span class="linenos">2066</span></a><span class="sd">              `backslashreplace`.</span>
</span><span id="basicConfig-2067"><a href="#basicConfig-2067"><span class="linenos">2067</span></a>
</span><span id="basicConfig-2068"><a href="#basicConfig-2068"><span class="linenos">2068</span></a><span class="sd">    Note that you could specify a stream created using open(filename, mode)</span>
</span><span id="basicConfig-2069"><a href="#basicConfig-2069"><span class="linenos">2069</span></a><span class="sd">    rather than passing the filename and mode in. However, it should be</span>
</span><span id="basicConfig-2070"><a href="#basicConfig-2070"><span class="linenos">2070</span></a><span class="sd">    remembered that StreamHandler does not close its stream (since it may be</span>
</span><span id="basicConfig-2071"><a href="#basicConfig-2071"><span class="linenos">2071</span></a><span class="sd">    using sys.stdout or sys.stderr), whereas FileHandler closes its stream</span>
</span><span id="basicConfig-2072"><a href="#basicConfig-2072"><span class="linenos">2072</span></a><span class="sd">    when the handler is closed.</span>
</span><span id="basicConfig-2073"><a href="#basicConfig-2073"><span class="linenos">2073</span></a>
</span><span id="basicConfig-2074"><a href="#basicConfig-2074"><span class="linenos">2074</span></a><span class="sd">    .. versionchanged:: 3.2</span>
</span><span id="basicConfig-2075"><a href="#basicConfig-2075"><span class="linenos">2075</span></a><span class="sd">       Added the ``style`` parameter.</span>
</span><span id="basicConfig-2076"><a href="#basicConfig-2076"><span class="linenos">2076</span></a>
</span><span id="basicConfig-2077"><a href="#basicConfig-2077"><span class="linenos">2077</span></a><span class="sd">    .. versionchanged:: 3.3</span>
</span><span id="basicConfig-2078"><a href="#basicConfig-2078"><span class="linenos">2078</span></a><span class="sd">       Added the ``handlers`` parameter. A ``ValueError`` is now thrown for</span>
</span><span id="basicConfig-2079"><a href="#basicConfig-2079"><span class="linenos">2079</span></a><span class="sd">       incompatible arguments (e.g. ``handlers`` specified together with</span>
</span><span id="basicConfig-2080"><a href="#basicConfig-2080"><span class="linenos">2080</span></a><span class="sd">       ``filename``/``filemode``, or ``filename``/``filemode`` specified</span>
</span><span id="basicConfig-2081"><a href="#basicConfig-2081"><span class="linenos">2081</span></a><span class="sd">       together with ``stream``, or ``handlers`` specified together with</span>
</span><span id="basicConfig-2082"><a href="#basicConfig-2082"><span class="linenos">2082</span></a><span class="sd">       ``stream``.</span>
</span><span id="basicConfig-2083"><a href="#basicConfig-2083"><span class="linenos">2083</span></a>
</span><span id="basicConfig-2084"><a href="#basicConfig-2084"><span class="linenos">2084</span></a><span class="sd">    .. versionchanged:: 3.8</span>
</span><span id="basicConfig-2085"><a href="#basicConfig-2085"><span class="linenos">2085</span></a><span class="sd">       Added the ``force`` parameter.</span>
</span><span id="basicConfig-2086"><a href="#basicConfig-2086"><span class="linenos">2086</span></a>
</span><span id="basicConfig-2087"><a href="#basicConfig-2087"><span class="linenos">2087</span></a><span class="sd">    .. versionchanged:: 3.9</span>
</span><span id="basicConfig-2088"><a href="#basicConfig-2088"><span class="linenos">2088</span></a><span class="sd">       Added the ``encoding`` and ``errors`` parameters.</span>
</span><span id="basicConfig-2089"><a href="#basicConfig-2089"><span class="linenos">2089</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="basicConfig-2090"><a href="#basicConfig-2090"><span class="linenos">2090</span></a>    <span class="c1"># Add thread safety in case someone mistakenly calls</span>
</span><span id="basicConfig-2091"><a href="#basicConfig-2091"><span class="linenos">2091</span></a>    <span class="c1"># basicConfig() from multiple threads</span>
</span><span id="basicConfig-2092"><a href="#basicConfig-2092"><span class="linenos">2092</span></a>    <span class="n">_acquireLock</span><span class="p">()</span>
</span><span id="basicConfig-2093"><a href="#basicConfig-2093"><span class="linenos">2093</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="basicConfig-2094"><a href="#basicConfig-2094"><span class="linenos">2094</span></a>        <span class="n">force</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;force&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="basicConfig-2095"><a href="#basicConfig-2095"><span class="linenos">2095</span></a>        <span class="n">encoding</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;encoding&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="basicConfig-2096"><a href="#basicConfig-2096"><span class="linenos">2096</span></a>        <span class="n">errors</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;errors&#39;</span><span class="p">,</span> <span class="s1">&#39;backslashreplace&#39;</span><span class="p">)</span>
</span><span id="basicConfig-2097"><a href="#basicConfig-2097"><span class="linenos">2097</span></a>        <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
</span><span id="basicConfig-2098"><a href="#basicConfig-2098"><span class="linenos">2098</span></a>            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">[:]:</span>
</span><span id="basicConfig-2099"><a href="#basicConfig-2099"><span class="linenos">2099</span></a>                <span class="n">root</span><span class="o">.</span><span class="n">removeHandler</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
</span><span id="basicConfig-2100"><a href="#basicConfig-2100"><span class="linenos">2100</span></a>                <span class="n">h</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="basicConfig-2101"><a href="#basicConfig-2101"><span class="linenos">2101</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="basicConfig-2102"><a href="#basicConfig-2102"><span class="linenos">2102</span></a>            <span class="n">handlers</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;handlers&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="basicConfig-2103"><a href="#basicConfig-2103"><span class="linenos">2103</span></a>            <span class="k">if</span> <span class="n">handlers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="basicConfig-2104"><a href="#basicConfig-2104"><span class="linenos">2104</span></a>                <span class="k">if</span> <span class="s2">&quot;stream&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="s2">&quot;filename&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="basicConfig-2105"><a href="#basicConfig-2105"><span class="linenos">2105</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;stream&#39; and &#39;filename&#39; should not be &quot;</span>
</span><span id="basicConfig-2106"><a href="#basicConfig-2106"><span class="linenos">2106</span></a>                                     <span class="s2">&quot;specified together&quot;</span><span class="p">)</span>
</span><span id="basicConfig-2107"><a href="#basicConfig-2107"><span class="linenos">2107</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="basicConfig-2108"><a href="#basicConfig-2108"><span class="linenos">2108</span></a>                <span class="k">if</span> <span class="s2">&quot;stream&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">or</span> <span class="s2">&quot;filename&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="basicConfig-2109"><a href="#basicConfig-2109"><span class="linenos">2109</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;stream&#39; or &#39;filename&#39; should not be &quot;</span>
</span><span id="basicConfig-2110"><a href="#basicConfig-2110"><span class="linenos">2110</span></a>                                     <span class="s2">&quot;specified together with &#39;handlers&#39;&quot;</span><span class="p">)</span>
</span><span id="basicConfig-2111"><a href="#basicConfig-2111"><span class="linenos">2111</span></a>            <span class="k">if</span> <span class="n">handlers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="basicConfig-2112"><a href="#basicConfig-2112"><span class="linenos">2112</span></a>                <span class="n">filename</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="basicConfig-2113"><a href="#basicConfig-2113"><span class="linenos">2113</span></a>                <span class="n">mode</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;filemode&quot;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
</span><span id="basicConfig-2114"><a href="#basicConfig-2114"><span class="linenos">2114</span></a>                <span class="k">if</span> <span class="n">filename</span><span class="p">:</span>
</span><span id="basicConfig-2115"><a href="#basicConfig-2115"><span class="linenos">2115</span></a>                    <span class="k">if</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
</span><span id="basicConfig-2116"><a href="#basicConfig-2116"><span class="linenos">2116</span></a>                        <span class="n">errors</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="basicConfig-2117"><a href="#basicConfig-2117"><span class="linenos">2117</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="basicConfig-2118"><a href="#basicConfig-2118"><span class="linenos">2118</span></a>                        <span class="n">encoding</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">text_encoding</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</span><span id="basicConfig-2119"><a href="#basicConfig-2119"><span class="linenos">2119</span></a>                    <span class="n">h</span> <span class="o">=</span> <span class="n">FileHandler</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span>
</span><span id="basicConfig-2120"><a href="#basicConfig-2120"><span class="linenos">2120</span></a>                                    <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">)</span>
</span><span id="basicConfig-2121"><a href="#basicConfig-2121"><span class="linenos">2121</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="basicConfig-2122"><a href="#basicConfig-2122"><span class="linenos">2122</span></a>                    <span class="n">stream</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;stream&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="basicConfig-2123"><a href="#basicConfig-2123"><span class="linenos">2123</span></a>                    <span class="n">h</span> <span class="o">=</span> <span class="n">StreamHandler</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
</span><span id="basicConfig-2124"><a href="#basicConfig-2124"><span class="linenos">2124</span></a>                <span class="n">handlers</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span><span class="p">]</span>
</span><span id="basicConfig-2125"><a href="#basicConfig-2125"><span class="linenos">2125</span></a>            <span class="n">dfs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;datefmt&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="basicConfig-2126"><a href="#basicConfig-2126"><span class="linenos">2126</span></a>            <span class="n">style</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s1">&#39;%&#39;</span><span class="p">)</span>
</span><span id="basicConfig-2127"><a href="#basicConfig-2127"><span class="linenos">2127</span></a>            <span class="k">if</span> <span class="n">style</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_STYLES</span><span class="p">:</span>
</span><span id="basicConfig-2128"><a href="#basicConfig-2128"><span class="linenos">2128</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Style must be one of: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="basicConfig-2129"><a href="#basicConfig-2129"><span class="linenos">2129</span></a>                                 <span class="n">_STYLES</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="basicConfig-2130"><a href="#basicConfig-2130"><span class="linenos">2130</span></a>            <span class="n">fs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;format&quot;</span><span class="p">,</span> <span class="n">_STYLES</span><span class="p">[</span><span class="n">style</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
</span><span id="basicConfig-2131"><a href="#basicConfig-2131"><span class="linenos">2131</span></a>            <span class="n">fmt</span> <span class="o">=</span> <span class="n">Formatter</span><span class="p">(</span><span class="n">fs</span><span class="p">,</span> <span class="n">dfs</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</span><span id="basicConfig-2132"><a href="#basicConfig-2132"><span class="linenos">2132</span></a>            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">handlers</span><span class="p">:</span>
</span><span id="basicConfig-2133"><a href="#basicConfig-2133"><span class="linenos">2133</span></a>                <span class="k">if</span> <span class="n">h</span><span class="o">.</span><span class="n">formatter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="basicConfig-2134"><a href="#basicConfig-2134"><span class="linenos">2134</span></a>                    <span class="n">h</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">fmt</span><span class="p">)</span>
</span><span id="basicConfig-2135"><a href="#basicConfig-2135"><span class="linenos">2135</span></a>                <span class="n">root</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
</span><span id="basicConfig-2136"><a href="#basicConfig-2136"><span class="linenos">2136</span></a>            <span class="n">level</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;level&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="basicConfig-2137"><a href="#basicConfig-2137"><span class="linenos">2137</span></a>            <span class="k">if</span> <span class="n">level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="basicConfig-2138"><a href="#basicConfig-2138"><span class="linenos">2138</span></a>                <span class="n">root</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="basicConfig-2139"><a href="#basicConfig-2139"><span class="linenos">2139</span></a>            <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="basicConfig-2140"><a href="#basicConfig-2140"><span class="linenos">2140</span></a>                <span class="n">keys</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="basicConfig-2141"><a href="#basicConfig-2141"><span class="linenos">2141</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unrecognised argument(s): </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">keys</span><span class="p">)</span>
</span><span id="basicConfig-2142"><a href="#basicConfig-2142"><span class="linenos">2142</span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="basicConfig-2143"><a href="#basicConfig-2143"><span class="linenos">2143</span></a>        <span class="n">_releaseLock</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Do basic configuration for the logging system.</p>

<p>This function does nothing if the root logger already has handlers
configured, unless the keyword argument <em>force</em> is set to <code>True</code>.
It is a convenience method intended for use by simple scripts
to do one-shot configuration of the logging package.</p>

<p>The default behaviour is to create a StreamHandler which writes to
sys.stderr, set a formatter using the BASIC_FORMAT format string, and
add the handler to the root logger.</p>

<p>A number of optional keyword arguments may be specified, which can alter
the default behaviour.</p>

<p>filename  Specifies that a FileHandler be created, using the specified
          filename, rather than a StreamHandler.
filemode  Specifies the mode to open the file, if filename is specified
          (if filemode is unspecified, it defaults to 'a').
format    Use the specified format string for the handler.
datefmt   Use the specified date/time format.
style     If a format string is specified, use this to specify the
          type of format string (possible values '%', '{', '$', for
          %-formatting, <code>str.format()</code> and <code>string.Template</code>
          - defaults to '%').
level     Set the root logger level to the specified level.
stream    Use the specified stream to initialize the StreamHandler. Note
          that this argument is incompatible with 'filename' - if both
          are present, 'stream' is ignored.
handlers  If specified, this should be an iterable of already created
          handlers, which will be added to the root logger. Any handler
          in the list which does not have a formatter assigned will be
          assigned the formatter created in this function.
force     If this keyword  is specified as true, any existing handlers
          attached to the root logger are removed and closed, before
          carrying out the configuration as specified by the other
          arguments.
encoding  If specified together with a filename, this encoding is passed to
          the created FileHandler, causing it to be used when the file is
          opened.
errors    If specified together with a filename, this value is passed to the
          created FileHandler, causing it to be used when the file is
          opened in text mode. If not specified, the default value is
          <code>backslashreplace</code>.</p>

<p>Note that you could specify a stream created using open(filename, mode)
rather than passing the filename and mode in. However, it should be
remembered that StreamHandler does not close its stream (since it may be
using sys.stdout or sys.stderr), whereas FileHandler closes its stream
when the handler is closed.</p>

<p><em>Changed in version 3.2:</em>
Added the <code>style</code> parameter.</p>

<p><em>Changed in version 3.3:</em>
Added the <code>handlers</code> parameter. A <code>ValueError</code> is now thrown for
incompatible arguments (e.g. <code>handlers</code> specified together with
<code>filename</code>/<code>filemode</code>, or <code>filename</code>/<code>filemode</code> specified
together with <code>stream</code>, or <code>handlers</code> specified together with
<code>stream</code>.</p>

<p><em>Changed in version 3.8:</em>
Added the <code>force</code> parameter.</p>

<p><em>Changed in version 3.9:</em>
Added the <code>encoding</code> and <code>errors</code> parameters.</p>
</div>


                </section>
                <section id="captureWarnings">
                            <input id="captureWarnings-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">captureWarnings</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">capture</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="captureWarnings-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#captureWarnings"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="captureWarnings-2332"><a href="#captureWarnings-2332"><span class="linenos">2332</span></a><span class="k">def</span> <span class="nf">captureWarnings</span><span class="p">(</span><span class="n">capture</span><span class="p">):</span>
</span><span id="captureWarnings-2333"><a href="#captureWarnings-2333"><span class="linenos">2333</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="captureWarnings-2334"><a href="#captureWarnings-2334"><span class="linenos">2334</span></a><span class="sd">    If capture is true, redirect all warnings to the logging package.</span>
</span><span id="captureWarnings-2335"><a href="#captureWarnings-2335"><span class="linenos">2335</span></a><span class="sd">    If capture is False, ensure that warnings are not redirected to logging</span>
</span><span id="captureWarnings-2336"><a href="#captureWarnings-2336"><span class="linenos">2336</span></a><span class="sd">    but to their original destinations.</span>
</span><span id="captureWarnings-2337"><a href="#captureWarnings-2337"><span class="linenos">2337</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="captureWarnings-2338"><a href="#captureWarnings-2338"><span class="linenos">2338</span></a>    <span class="k">global</span> <span class="n">_warnings_showwarning</span>
</span><span id="captureWarnings-2339"><a href="#captureWarnings-2339"><span class="linenos">2339</span></a>    <span class="k">if</span> <span class="n">capture</span><span class="p">:</span>
</span><span id="captureWarnings-2340"><a href="#captureWarnings-2340"><span class="linenos">2340</span></a>        <span class="k">if</span> <span class="n">_warnings_showwarning</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="captureWarnings-2341"><a href="#captureWarnings-2341"><span class="linenos">2341</span></a>            <span class="n">_warnings_showwarning</span> <span class="o">=</span> <span class="n">warnings</span><span class="o">.</span><span class="n">showwarning</span>
</span><span id="captureWarnings-2342"><a href="#captureWarnings-2342"><span class="linenos">2342</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">showwarning</span> <span class="o">=</span> <span class="n">_showwarning</span>
</span><span id="captureWarnings-2343"><a href="#captureWarnings-2343"><span class="linenos">2343</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="captureWarnings-2344"><a href="#captureWarnings-2344"><span class="linenos">2344</span></a>        <span class="k">if</span> <span class="n">_warnings_showwarning</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="captureWarnings-2345"><a href="#captureWarnings-2345"><span class="linenos">2345</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">showwarning</span> <span class="o">=</span> <span class="n">_warnings_showwarning</span>
</span><span id="captureWarnings-2346"><a href="#captureWarnings-2346"><span class="linenos">2346</span></a>            <span class="n">_warnings_showwarning</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>If capture is true, redirect all warnings to the logging package.
If capture is False, ensure that warnings are not redirected to logging
but to their original destinations.</p>
</div>


                </section>
                <section id="critical">
                            <input id="critical-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">critical</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="critical-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#critical"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="critical-2160"><a href="#critical-2160"><span class="linenos">2160</span></a><span class="k">def</span> <span class="nf">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="critical-2161"><a href="#critical-2161"><span class="linenos">2161</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="critical-2162"><a href="#critical-2162"><span class="linenos">2162</span></a><span class="sd">    Log a message with severity &#39;CRITICAL&#39; on the root logger. If the logger</span>
</span><span id="critical-2163"><a href="#critical-2163"><span class="linenos">2163</span></a><span class="sd">    has no handlers, call basicConfig() to add a console handler with a</span>
</span><span id="critical-2164"><a href="#critical-2164"><span class="linenos">2164</span></a><span class="sd">    pre-defined format.</span>
</span><span id="critical-2165"><a href="#critical-2165"><span class="linenos">2165</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="critical-2166"><a href="#critical-2166"><span class="linenos">2166</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="critical-2167"><a href="#critical-2167"><span class="linenos">2167</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="critical-2168"><a href="#critical-2168"><span class="linenos">2168</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log a message with severity 'CRITICAL' on the root logger. If the logger
has no handlers, call basicConfig() to add a console handler with a
pre-defined format.</p>
</div>


                </section>
                <section id="debug">
                            <input id="debug-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">debug</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="debug-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#debug"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="debug-2219"><a href="#debug-2219"><span class="linenos">2219</span></a><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="debug-2220"><a href="#debug-2220"><span class="linenos">2220</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="debug-2221"><a href="#debug-2221"><span class="linenos">2221</span></a><span class="sd">    Log a message with severity &#39;DEBUG&#39; on the root logger. If the logger has</span>
</span><span id="debug-2222"><a href="#debug-2222"><span class="linenos">2222</span></a><span class="sd">    no handlers, call basicConfig() to add a console handler with a pre-defined</span>
</span><span id="debug-2223"><a href="#debug-2223"><span class="linenos">2223</span></a><span class="sd">    format.</span>
</span><span id="debug-2224"><a href="#debug-2224"><span class="linenos">2224</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="debug-2225"><a href="#debug-2225"><span class="linenos">2225</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="debug-2226"><a href="#debug-2226"><span class="linenos">2226</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="debug-2227"><a href="#debug-2227"><span class="linenos">2227</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log a message with severity 'DEBUG' on the root logger. If the logger has
no handlers, call basicConfig() to add a console handler with a pre-defined
format.</p>
</div>


                </section>
                <section id="disable">
                            <input id="disable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">disable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">level</span><span class="o">=</span><span class="mi">50</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="disable-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#disable"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="disable-2239"><a href="#disable-2239"><span class="linenos">2239</span></a><span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">CRITICAL</span><span class="p">):</span>
</span><span id="disable-2240"><a href="#disable-2240"><span class="linenos">2240</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="disable-2241"><a href="#disable-2241"><span class="linenos">2241</span></a><span class="sd">    Disable all logging calls of severity &#39;level&#39; and below.</span>
</span><span id="disable-2242"><a href="#disable-2242"><span class="linenos">2242</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="disable-2243"><a href="#disable-2243"><span class="linenos">2243</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">disable</span> <span class="o">=</span> <span class="n">level</span>
</span><span id="disable-2244"><a href="#disable-2244"><span class="linenos">2244</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">_clear_cache</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Disable all logging calls of severity 'level' and below.</p>
</div>


                </section>
                <section id="error">
                            <input id="error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">error</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="error-2176"><a href="#error-2176"><span class="linenos">2176</span></a><span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="error-2177"><a href="#error-2177"><span class="linenos">2177</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="error-2178"><a href="#error-2178"><span class="linenos">2178</span></a><span class="sd">    Log a message with severity &#39;ERROR&#39; on the root logger. If the logger has</span>
</span><span id="error-2179"><a href="#error-2179"><span class="linenos">2179</span></a><span class="sd">    no handlers, call basicConfig() to add a console handler with a pre-defined</span>
</span><span id="error-2180"><a href="#error-2180"><span class="linenos">2180</span></a><span class="sd">    format.</span>
</span><span id="error-2181"><a href="#error-2181"><span class="linenos">2181</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="error-2182"><a href="#error-2182"><span class="linenos">2182</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="error-2183"><a href="#error-2183"><span class="linenos">2183</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="error-2184"><a href="#error-2184"><span class="linenos">2184</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log a message with severity 'ERROR' on the root logger. If the logger has
no handlers, call basicConfig() to add a console handler with a pre-defined
format.</p>
</div>


                </section>
                <section id="exception">
                            <input id="exception-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">exception</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="exception-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#exception"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="exception-2186"><a href="#exception-2186"><span class="linenos">2186</span></a><span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="exception-2187"><a href="#exception-2187"><span class="linenos">2187</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="exception-2188"><a href="#exception-2188"><span class="linenos">2188</span></a><span class="sd">    Log a message with severity &#39;ERROR&#39; on the root logger, with exception</span>
</span><span id="exception-2189"><a href="#exception-2189"><span class="linenos">2189</span></a><span class="sd">    information. If the logger has no handlers, basicConfig() is called to add</span>
</span><span id="exception-2190"><a href="#exception-2190"><span class="linenos">2190</span></a><span class="sd">    a console handler with a pre-defined format.</span>
</span><span id="exception-2191"><a href="#exception-2191"><span class="linenos">2191</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="exception-2192"><a href="#exception-2192"><span class="linenos">2192</span></a>    <span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">exc_info</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log a message with severity 'ERROR' on the root logger, with exception
information. If the logger has no handlers, basicConfig() is called to add
a console handler with a pre-defined format.</p>
</div>


                </section>
                <section id="fatal">
                            <input id="fatal-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fatal</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="fatal-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#fatal"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="fatal-2170"><a href="#fatal-2170"><span class="linenos">2170</span></a><span class="k">def</span> <span class="nf">fatal</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="fatal-2171"><a href="#fatal-2171"><span class="linenos">2171</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="fatal-2172"><a href="#fatal-2172"><span class="linenos">2172</span></a><span class="sd">    Don&#39;t use this function, use critical() instead.</span>
</span><span id="fatal-2173"><a href="#fatal-2173"><span class="linenos">2173</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="fatal-2174"><a href="#fatal-2174"><span class="linenos">2174</span></a>    <span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Don't use this function, use critical() instead.</p>
</div>


                </section>
                <section id="getLevelName">
                            <input id="getLevelName-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getLevelName</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">level</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="getLevelName-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#getLevelName"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="getLevelName-130"><a href="#getLevelName-130"><span class="linenos">130</span></a><span class="k">def</span> <span class="nf">getLevelName</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
</span><span id="getLevelName-131"><a href="#getLevelName-131"><span class="linenos">131</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="getLevelName-132"><a href="#getLevelName-132"><span class="linenos">132</span></a><span class="sd">    Return the textual or numeric representation of logging level &#39;level&#39;.</span>
</span><span id="getLevelName-133"><a href="#getLevelName-133"><span class="linenos">133</span></a>
</span><span id="getLevelName-134"><a href="#getLevelName-134"><span class="linenos">134</span></a><span class="sd">    If the level is one of the predefined levels (CRITICAL, ERROR, WARNING,</span>
</span><span id="getLevelName-135"><a href="#getLevelName-135"><span class="linenos">135</span></a><span class="sd">    INFO, DEBUG) then you get the corresponding string. If you have</span>
</span><span id="getLevelName-136"><a href="#getLevelName-136"><span class="linenos">136</span></a><span class="sd">    associated levels with names using addLevelName then the name you have</span>
</span><span id="getLevelName-137"><a href="#getLevelName-137"><span class="linenos">137</span></a><span class="sd">    associated with &#39;level&#39; is returned.</span>
</span><span id="getLevelName-138"><a href="#getLevelName-138"><span class="linenos">138</span></a>
</span><span id="getLevelName-139"><a href="#getLevelName-139"><span class="linenos">139</span></a><span class="sd">    If a numeric value corresponding to one of the defined levels is passed</span>
</span><span id="getLevelName-140"><a href="#getLevelName-140"><span class="linenos">140</span></a><span class="sd">    in, the corresponding string representation is returned.</span>
</span><span id="getLevelName-141"><a href="#getLevelName-141"><span class="linenos">141</span></a>
</span><span id="getLevelName-142"><a href="#getLevelName-142"><span class="linenos">142</span></a><span class="sd">    If a string representation of the level is passed in, the corresponding</span>
</span><span id="getLevelName-143"><a href="#getLevelName-143"><span class="linenos">143</span></a><span class="sd">    numeric value is returned.</span>
</span><span id="getLevelName-144"><a href="#getLevelName-144"><span class="linenos">144</span></a>
</span><span id="getLevelName-145"><a href="#getLevelName-145"><span class="linenos">145</span></a><span class="sd">    If no matching numeric or string value is passed in, the string</span>
</span><span id="getLevelName-146"><a href="#getLevelName-146"><span class="linenos">146</span></a><span class="sd">    &#39;Level %s&#39; % level is returned.</span>
</span><span id="getLevelName-147"><a href="#getLevelName-147"><span class="linenos">147</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="getLevelName-148"><a href="#getLevelName-148"><span class="linenos">148</span></a>    <span class="c1"># See Issues #22386, #27937 and #29220 for why it&#39;s this way</span>
</span><span id="getLevelName-149"><a href="#getLevelName-149"><span class="linenos">149</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">_levelToName</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="getLevelName-150"><a href="#getLevelName-150"><span class="linenos">150</span></a>    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="getLevelName-151"><a href="#getLevelName-151"><span class="linenos">151</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="getLevelName-152"><a href="#getLevelName-152"><span class="linenos">152</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">_nameToLevel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span><span id="getLevelName-153"><a href="#getLevelName-153"><span class="linenos">153</span></a>    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="getLevelName-154"><a href="#getLevelName-154"><span class="linenos">154</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="getLevelName-155"><a href="#getLevelName-155"><span class="linenos">155</span></a>    <span class="k">return</span> <span class="s2">&quot;Level </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">level</span>
</span></pre></div>


            <div class="docstring"><p>Return the textual or numeric representation of logging level 'level'.</p>

<p>If the level is one of the predefined levels (CRITICAL, ERROR, WARNING,
INFO, DEBUG) then you get the corresponding string. If you have
associated levels with names using addLevelName then the name you have
associated with 'level' is returned.</p>

<p>If a numeric value corresponding to one of the defined levels is passed
in, the corresponding string representation is returned.</p>

<p>If a string representation of the level is passed in, the corresponding
numeric value is returned.</p>

<p>If no matching numeric or string value is passed in, the string
'Level %s' % level is returned.</p>
</div>


                </section>
                <section id="getLogger">
                            <input id="getLogger-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getLogger</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="getLogger-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#getLogger"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="getLogger-2150"><a href="#getLogger-2150"><span class="linenos">2150</span></a><span class="k">def</span> <span class="nf">getLogger</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="getLogger-2151"><a href="#getLogger-2151"><span class="linenos">2151</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="getLogger-2152"><a href="#getLogger-2152"><span class="linenos">2152</span></a><span class="sd">    Return a logger with the specified name, creating it if necessary.</span>
</span><span id="getLogger-2153"><a href="#getLogger-2153"><span class="linenos">2153</span></a>
</span><span id="getLogger-2154"><a href="#getLogger-2154"><span class="linenos">2154</span></a><span class="sd">    If no name is specified, return the root logger.</span>
</span><span id="getLogger-2155"><a href="#getLogger-2155"><span class="linenos">2155</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="getLogger-2156"><a href="#getLogger-2156"><span class="linenos">2156</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">name</span> <span class="o">==</span> <span class="n">root</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
</span><span id="getLogger-2157"><a href="#getLogger-2157"><span class="linenos">2157</span></a>        <span class="k">return</span> <span class="n">root</span>
</span><span id="getLogger-2158"><a href="#getLogger-2158"><span class="linenos">2158</span></a>    <span class="k">return</span> <span class="n">Logger</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return a logger with the specified name, creating it if necessary.</p>

<p>If no name is specified, return the root logger.</p>
</div>


                </section>
                <section id="getLoggerClass">
                            <input id="getLoggerClass-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getLoggerClass</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="getLoggerClass-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#getLoggerClass"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="getLoggerClass-1348"><a href="#getLoggerClass-1348"><span class="linenos">1348</span></a><span class="k">def</span> <span class="nf">getLoggerClass</span><span class="p">():</span>
</span><span id="getLoggerClass-1349"><a href="#getLoggerClass-1349"><span class="linenos">1349</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="getLoggerClass-1350"><a href="#getLoggerClass-1350"><span class="linenos">1350</span></a><span class="sd">    Return the class to be used when instantiating a logger.</span>
</span><span id="getLoggerClass-1351"><a href="#getLoggerClass-1351"><span class="linenos">1351</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="getLoggerClass-1352"><a href="#getLoggerClass-1352"><span class="linenos">1352</span></a>    <span class="k">return</span> <span class="n">_loggerClass</span>
</span></pre></div>


            <div class="docstring"><p>Return the class to be used when instantiating a logger.</p>
</div>


                </section>
                <section id="info">
                            <input id="info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="info-2209"><a href="#info-2209"><span class="linenos">2209</span></a><span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="info-2210"><a href="#info-2210"><span class="linenos">2210</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="info-2211"><a href="#info-2211"><span class="linenos">2211</span></a><span class="sd">    Log a message with severity &#39;INFO&#39; on the root logger. If the logger has</span>
</span><span id="info-2212"><a href="#info-2212"><span class="linenos">2212</span></a><span class="sd">    no handlers, call basicConfig() to add a console handler with a pre-defined</span>
</span><span id="info-2213"><a href="#info-2213"><span class="linenos">2213</span></a><span class="sd">    format.</span>
</span><span id="info-2214"><a href="#info-2214"><span class="linenos">2214</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="info-2215"><a href="#info-2215"><span class="linenos">2215</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="info-2216"><a href="#info-2216"><span class="linenos">2216</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="info-2217"><a href="#info-2217"><span class="linenos">2217</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log a message with severity 'INFO' on the root logger. If the logger has
no handlers, call basicConfig() to add a console handler with a pre-defined
format.</p>
</div>


                </section>
                <section id="log">
                            <input id="log-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">log</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">level</span>, </span><span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="log-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#log"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="log-2229"><a href="#log-2229"><span class="linenos">2229</span></a><span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="log-2230"><a href="#log-2230"><span class="linenos">2230</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="log-2231"><a href="#log-2231"><span class="linenos">2231</span></a><span class="sd">    Log &#39;msg % args&#39; with the integer severity &#39;level&#39; on the root logger. If</span>
</span><span id="log-2232"><a href="#log-2232"><span class="linenos">2232</span></a><span class="sd">    the logger has no handlers, call basicConfig() to add a console handler</span>
</span><span id="log-2233"><a href="#log-2233"><span class="linenos">2233</span></a><span class="sd">    with a pre-defined format.</span>
</span><span id="log-2234"><a href="#log-2234"><span class="linenos">2234</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="log-2235"><a href="#log-2235"><span class="linenos">2235</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="log-2236"><a href="#log-2236"><span class="linenos">2236</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="log-2237"><a href="#log-2237"><span class="linenos">2237</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log 'msg % args' with the integer severity 'level' on the root logger. If
the logger has no handlers, call basicConfig() to add a console handler
with a pre-defined format.</p>
</div>


                </section>
                <section id="makeLogRecord">
                            <input id="makeLogRecord-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">makeLogRecord</span><span class="signature pdoc-code condensed">(<span class="param"><span class="nb">dict</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="makeLogRecord-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#makeLogRecord"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="makeLogRecord-418"><a href="#makeLogRecord-418"><span class="linenos">418</span></a><span class="k">def</span> <span class="nf">makeLogRecord</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
</span><span id="makeLogRecord-419"><a href="#makeLogRecord-419"><span class="linenos">419</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="makeLogRecord-420"><a href="#makeLogRecord-420"><span class="linenos">420</span></a><span class="sd">    Make a LogRecord whose attributes are defined by the specified dictionary,</span>
</span><span id="makeLogRecord-421"><a href="#makeLogRecord-421"><span class="linenos">421</span></a><span class="sd">    This function is useful for converting a logging event received over</span>
</span><span id="makeLogRecord-422"><a href="#makeLogRecord-422"><span class="linenos">422</span></a><span class="sd">    a socket connection (which is sent as a dictionary) into a LogRecord</span>
</span><span id="makeLogRecord-423"><a href="#makeLogRecord-423"><span class="linenos">423</span></a><span class="sd">    instance.</span>
</span><span id="makeLogRecord-424"><a href="#makeLogRecord-424"><span class="linenos">424</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="makeLogRecord-425"><a href="#makeLogRecord-425"><span class="linenos">425</span></a>    <span class="n">rv</span> <span class="o">=</span> <span class="n">_logRecordFactory</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="makeLogRecord-426"><a href="#makeLogRecord-426"><span class="linenos">426</span></a>    <span class="n">rv</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
</span><span id="makeLogRecord-427"><a href="#makeLogRecord-427"><span class="linenos">427</span></a>    <span class="k">return</span> <span class="n">rv</span>
</span></pre></div>


            <div class="docstring"><p>Make a LogRecord whose attributes are defined by the specified dictionary,
This function is useful for converting a logging event received over
a socket connection (which is sent as a dictionary) into a LogRecord
instance.</p>
</div>


                </section>
                <section id="setLoggerClass">
                            <input id="setLoggerClass-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setLoggerClass</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">klass</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="setLoggerClass-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#setLoggerClass"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="setLoggerClass-1335"><a href="#setLoggerClass-1335"><span class="linenos">1335</span></a><span class="k">def</span> <span class="nf">setLoggerClass</span><span class="p">(</span><span class="n">klass</span><span class="p">):</span>
</span><span id="setLoggerClass-1336"><a href="#setLoggerClass-1336"><span class="linenos">1336</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="setLoggerClass-1337"><a href="#setLoggerClass-1337"><span class="linenos">1337</span></a><span class="sd">    Set the class to be used when instantiating a logger. The class should</span>
</span><span id="setLoggerClass-1338"><a href="#setLoggerClass-1338"><span class="linenos">1338</span></a><span class="sd">    define __init__() such that only a name argument is required, and the</span>
</span><span id="setLoggerClass-1339"><a href="#setLoggerClass-1339"><span class="linenos">1339</span></a><span class="sd">    __init__() should call Logger.__init__()</span>
</span><span id="setLoggerClass-1340"><a href="#setLoggerClass-1340"><span class="linenos">1340</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="setLoggerClass-1341"><a href="#setLoggerClass-1341"><span class="linenos">1341</span></a>    <span class="k">if</span> <span class="n">klass</span> <span class="o">!=</span> <span class="n">Logger</span><span class="p">:</span>
</span><span id="setLoggerClass-1342"><a href="#setLoggerClass-1342"><span class="linenos">1342</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">Logger</span><span class="p">):</span>
</span><span id="setLoggerClass-1343"><a href="#setLoggerClass-1343"><span class="linenos">1343</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;logger not derived from logging.Logger: &quot;</span>
</span><span id="setLoggerClass-1344"><a href="#setLoggerClass-1344"><span class="linenos">1344</span></a>                            <span class="o">+</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="setLoggerClass-1345"><a href="#setLoggerClass-1345"><span class="linenos">1345</span></a>    <span class="k">global</span> <span class="n">_loggerClass</span>
</span><span id="setLoggerClass-1346"><a href="#setLoggerClass-1346"><span class="linenos">1346</span></a>    <span class="n">_loggerClass</span> <span class="o">=</span> <span class="n">klass</span>
</span></pre></div>


            <div class="docstring"><p>Set the class to be used when instantiating a logger. The class should
define __init__() such that only a name argument is required, and the
__init__() should call <a href="#Logger.__init__">Logger.__init__()</a></p>
</div>


                </section>
                <section id="shutdown">
                            <input id="shutdown-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">shutdown</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">handlerList</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d77881120</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;_StderrHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d76a50f40</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;_StderrHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d6d81ba60</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;NullHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d6d6fc770</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d6d6fc400</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;NullHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d6d7cc4f0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;NullHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d471da1b0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d46665350</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;NullHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d46585080</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d46585800</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d465cfa60</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d465cf740</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3d456887c0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;NullHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3ce4bf2250</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271b4c0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271b510</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271b600</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271b6f0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271b7e0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271b8d0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271b9c0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271bab0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271bba0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271bc90</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271bd80</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271be70</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc271bf60</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc2730090</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc27301d0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc2730310</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc2730450</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc2730590</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc27306d0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3cc27307c0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;LazyTraceHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3c8a609f80</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3c8a62c7c0</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3c89c20e00</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3c89a74770</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">weakref</span> <span class="n">at</span> <span class="mh">0x7f3c83485490</span><span class="p">;</span> <span class="n">to</span> <span class="s1">&#39;StreamHandler&#39;</span><span class="o">&gt;</span><span class="p">]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="shutdown-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#shutdown"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="shutdown-2246"><a href="#shutdown-2246"><span class="linenos">2246</span></a><span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="n">handlerList</span><span class="o">=</span><span class="n">_handlerList</span><span class="p">):</span>
</span><span id="shutdown-2247"><a href="#shutdown-2247"><span class="linenos">2247</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="shutdown-2248"><a href="#shutdown-2248"><span class="linenos">2248</span></a><span class="sd">    Perform any cleanup actions in the logging system (e.g. flushing</span>
</span><span id="shutdown-2249"><a href="#shutdown-2249"><span class="linenos">2249</span></a><span class="sd">    buffers).</span>
</span><span id="shutdown-2250"><a href="#shutdown-2250"><span class="linenos">2250</span></a>
</span><span id="shutdown-2251"><a href="#shutdown-2251"><span class="linenos">2251</span></a><span class="sd">    Should be called at application exit.</span>
</span><span id="shutdown-2252"><a href="#shutdown-2252"><span class="linenos">2252</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="shutdown-2253"><a href="#shutdown-2253"><span class="linenos">2253</span></a>    <span class="k">for</span> <span class="n">wr</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">handlerList</span><span class="p">[:]):</span>
</span><span id="shutdown-2254"><a href="#shutdown-2254"><span class="linenos">2254</span></a>        <span class="c1">#errors might occur, for example, if files are locked</span>
</span><span id="shutdown-2255"><a href="#shutdown-2255"><span class="linenos">2255</span></a>        <span class="c1">#we just ignore them if raiseExceptions is not set</span>
</span><span id="shutdown-2256"><a href="#shutdown-2256"><span class="linenos">2256</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="shutdown-2257"><a href="#shutdown-2257"><span class="linenos">2257</span></a>            <span class="n">h</span> <span class="o">=</span> <span class="n">wr</span><span class="p">()</span>
</span><span id="shutdown-2258"><a href="#shutdown-2258"><span class="linenos">2258</span></a>            <span class="k">if</span> <span class="n">h</span><span class="p">:</span>
</span><span id="shutdown-2259"><a href="#shutdown-2259"><span class="linenos">2259</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="shutdown-2260"><a href="#shutdown-2260"><span class="linenos">2260</span></a>                    <span class="n">h</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span><span id="shutdown-2261"><a href="#shutdown-2261"><span class="linenos">2261</span></a>                    <span class="c1"># MemoryHandlers might not want to be flushed on close,</span>
</span><span id="shutdown-2262"><a href="#shutdown-2262"><span class="linenos">2262</span></a>                    <span class="c1"># but circular imports prevent us scoping this to just</span>
</span><span id="shutdown-2263"><a href="#shutdown-2263"><span class="linenos">2263</span></a>                    <span class="c1"># those handlers.  hence the default to True.</span>
</span><span id="shutdown-2264"><a href="#shutdown-2264"><span class="linenos">2264</span></a>                    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="s1">&#39;flushOnClose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="shutdown-2265"><a href="#shutdown-2265"><span class="linenos">2265</span></a>                        <span class="n">h</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="shutdown-2266"><a href="#shutdown-2266"><span class="linenos">2266</span></a>                    <span class="n">h</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="shutdown-2267"><a href="#shutdown-2267"><span class="linenos">2267</span></a>                <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
</span><span id="shutdown-2268"><a href="#shutdown-2268"><span class="linenos">2268</span></a>                    <span class="c1"># Ignore errors which might be caused</span>
</span><span id="shutdown-2269"><a href="#shutdown-2269"><span class="linenos">2269</span></a>                    <span class="c1"># because handlers have been closed but</span>
</span><span id="shutdown-2270"><a href="#shutdown-2270"><span class="linenos">2270</span></a>                    <span class="c1"># references to them are still around at</span>
</span><span id="shutdown-2271"><a href="#shutdown-2271"><span class="linenos">2271</span></a>                    <span class="c1"># application exit.</span>
</span><span id="shutdown-2272"><a href="#shutdown-2272"><span class="linenos">2272</span></a>                    <span class="k">pass</span>
</span><span id="shutdown-2273"><a href="#shutdown-2273"><span class="linenos">2273</span></a>                <span class="k">finally</span><span class="p">:</span>
</span><span id="shutdown-2274"><a href="#shutdown-2274"><span class="linenos">2274</span></a>                    <span class="n">h</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span><span id="shutdown-2275"><a href="#shutdown-2275"><span class="linenos">2275</span></a>        <span class="k">except</span><span class="p">:</span> <span class="c1"># ignore everything, as we&#39;re shutting down</span>
</span><span id="shutdown-2276"><a href="#shutdown-2276"><span class="linenos">2276</span></a>            <span class="k">if</span> <span class="n">raiseExceptions</span><span class="p">:</span>
</span><span id="shutdown-2277"><a href="#shutdown-2277"><span class="linenos">2277</span></a>                <span class="k">raise</span>
</span><span id="shutdown-2278"><a href="#shutdown-2278"><span class="linenos">2278</span></a>            <span class="c1">#else, swallow</span>
</span></pre></div>


            <div class="docstring"><p>Perform any cleanup actions in the logging system (e.g. flushing
buffers).</p>

<p>Should be called at application exit.</p>
</div>


                </section>
                <section id="warn">
                            <input id="warn-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">warn</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="warn-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#warn"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="warn-2204"><a href="#warn-2204"><span class="linenos">2204</span></a><span class="k">def</span> <span class="nf">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="warn-2205"><a href="#warn-2205"><span class="linenos">2205</span></a>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The &#39;warn&#39; function is deprecated, &quot;</span>
</span><span id="warn-2206"><a href="#warn-2206"><span class="linenos">2206</span></a>        <span class="s2">&quot;use &#39;warning&#39; instead&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="warn-2207"><a href="#warn-2207"><span class="linenos">2207</span></a>    <span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                </section>
                <section id="warning">
                            <input id="warning-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">warning</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">msg</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="warning-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#warning"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="warning-2194"><a href="#warning-2194"><span class="linenos">2194</span></a><span class="k">def</span> <span class="nf">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="warning-2195"><a href="#warning-2195"><span class="linenos">2195</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="warning-2196"><a href="#warning-2196"><span class="linenos">2196</span></a><span class="sd">    Log a message with severity &#39;WARNING&#39; on the root logger. If the logger has</span>
</span><span id="warning-2197"><a href="#warning-2197"><span class="linenos">2197</span></a><span class="sd">    no handlers, call basicConfig() to add a console handler with a pre-defined</span>
</span><span id="warning-2198"><a href="#warning-2198"><span class="linenos">2198</span></a><span class="sd">    format.</span>
</span><span id="warning-2199"><a href="#warning-2199"><span class="linenos">2199</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="warning-2200"><a href="#warning-2200"><span class="linenos">2200</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="warning-2201"><a href="#warning-2201"><span class="linenos">2201</span></a>        <span class="n">basicConfig</span><span class="p">()</span>
</span><span id="warning-2202"><a href="#warning-2202"><span class="linenos">2202</span></a>    <span class="n">root</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Log a message with severity 'WARNING' on the root logger. If the logger has
no handlers, call basicConfig() to add a console handler with a pre-defined
format.</p>
</div>


                </section>
                <section id="getLogRecordFactory">
                            <input id="getLogRecordFactory-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getLogRecordFactory</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="getLogRecordFactory-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#getLogRecordFactory"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="getLogRecordFactory-411"><a href="#getLogRecordFactory-411"><span class="linenos">411</span></a><span class="k">def</span> <span class="nf">getLogRecordFactory</span><span class="p">():</span>
</span><span id="getLogRecordFactory-412"><a href="#getLogRecordFactory-412"><span class="linenos">412</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="getLogRecordFactory-413"><a href="#getLogRecordFactory-413"><span class="linenos">413</span></a><span class="sd">    Return the factory to be used when instantiating a log record.</span>
</span><span id="getLogRecordFactory-414"><a href="#getLogRecordFactory-414"><span class="linenos">414</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="getLogRecordFactory-415"><a href="#getLogRecordFactory-415"><span class="linenos">415</span></a>
</span><span id="getLogRecordFactory-416"><a href="#getLogRecordFactory-416"><span class="linenos">416</span></a>    <span class="k">return</span> <span class="n">_logRecordFactory</span>
</span></pre></div>


            <div class="docstring"><p>Return the factory to be used when instantiating a log record.</p>
</div>


                </section>
                <section id="setLogRecordFactory">
                            <input id="setLogRecordFactory-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setLogRecordFactory</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">factory</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="setLogRecordFactory-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#setLogRecordFactory"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="setLogRecordFactory-401"><a href="#setLogRecordFactory-401"><span class="linenos">401</span></a><span class="k">def</span> <span class="nf">setLogRecordFactory</span><span class="p">(</span><span class="n">factory</span><span class="p">):</span>
</span><span id="setLogRecordFactory-402"><a href="#setLogRecordFactory-402"><span class="linenos">402</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="setLogRecordFactory-403"><a href="#setLogRecordFactory-403"><span class="linenos">403</span></a><span class="sd">    Set the factory to be used when instantiating a log record.</span>
</span><span id="setLogRecordFactory-404"><a href="#setLogRecordFactory-404"><span class="linenos">404</span></a>
</span><span id="setLogRecordFactory-405"><a href="#setLogRecordFactory-405"><span class="linenos">405</span></a><span class="sd">    :param factory: A callable which will be called to instantiate</span>
</span><span id="setLogRecordFactory-406"><a href="#setLogRecordFactory-406"><span class="linenos">406</span></a><span class="sd">    a log record.</span>
</span><span id="setLogRecordFactory-407"><a href="#setLogRecordFactory-407"><span class="linenos">407</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="setLogRecordFactory-408"><a href="#setLogRecordFactory-408"><span class="linenos">408</span></a>    <span class="k">global</span> <span class="n">_logRecordFactory</span>
</span><span id="setLogRecordFactory-409"><a href="#setLogRecordFactory-409"><span class="linenos">409</span></a>    <span class="n">_logRecordFactory</span> <span class="o">=</span> <span class="n">factory</span>
</span></pre></div>


            <div class="docstring"><p>Set the factory to be used when instantiating a log record.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>factory</strong>:  A callable which will be called to instantiate
a log record.</li>
</ul>
</div>


                </section>
                <section id="lastResort">
                    <div class="attr variable">
            <span class="name">lastResort</span>        =
<span class="default_value">&lt;_StderrHandler &lt;stderr&gt; (WARNING)&gt;</span>

        
    </div>
    <a class="headerlink" href="#lastResort"></a>
    
    

                </section>
                <section id="raiseExceptions">
                    <div class="attr variable">
            <span class="name">raiseExceptions</span>        =
<span class="default_value">True</span>

        
    </div>
    <a class="headerlink" href="#raiseExceptions"></a>
    
    

                </section>
                <section id="getLevelNamesMapping">
                            <input id="getLevelNamesMapping-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getLevelNamesMapping</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="getLevelNamesMapping-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#getLevelNamesMapping"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="getLevelNamesMapping-127"><a href="#getLevelNamesMapping-127"><span class="linenos">127</span></a><span class="k">def</span> <span class="nf">getLevelNamesMapping</span><span class="p">():</span>
</span><span id="getLevelNamesMapping-128"><a href="#getLevelNamesMapping-128"><span class="linenos">128</span></a>    <span class="k">return</span> <span class="n">_nameToLevel</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span></pre></div>


    

                </section>
                <section id="getHandlerByName">
                            <input id="getHandlerByName-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getHandlerByName</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="getHandlerByName-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#getHandlerByName"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="getHandlerByName-904"><a href="#getHandlerByName-904"><span class="linenos">904</span></a><span class="k">def</span> <span class="nf">getHandlerByName</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
</span><span id="getHandlerByName-905"><a href="#getHandlerByName-905"><span class="linenos">905</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="getHandlerByName-906"><a href="#getHandlerByName-906"><span class="linenos">906</span></a><span class="sd">    Get a handler with the specified *name*, or None if there isn&#39;t one with</span>
</span><span id="getHandlerByName-907"><a href="#getHandlerByName-907"><span class="linenos">907</span></a><span class="sd">    that name.</span>
</span><span id="getHandlerByName-908"><a href="#getHandlerByName-908"><span class="linenos">908</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="getHandlerByName-909"><a href="#getHandlerByName-909"><span class="linenos">909</span></a>    <span class="k">return</span> <span class="n">_handlers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get a handler with the specified <em>name</em>, or None if there isn't one with
that name.</p>
</div>


                </section>
                <section id="getHandlerNames">
                            <input id="getHandlerNames-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getHandlerNames</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="getHandlerNames-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#getHandlerNames"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="getHandlerNames-912"><a href="#getHandlerNames-912"><span class="linenos">912</span></a><span class="k">def</span> <span class="nf">getHandlerNames</span><span class="p">():</span>
</span><span id="getHandlerNames-913"><a href="#getHandlerNames-913"><span class="linenos">913</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="getHandlerNames-914"><a href="#getHandlerNames-914"><span class="linenos">914</span></a><span class="sd">    Return all known handler names as an immutable set.</span>
</span><span id="getHandlerNames-915"><a href="#getHandlerNames-915"><span class="linenos">915</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="getHandlerNames-916"><a href="#getHandlerNames-916"><span class="linenos">916</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">_handlers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="getHandlerNames-917"><a href="#getHandlerNames-917"><span class="linenos">917</span></a>    <span class="k">return</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return all known handler names as an immutable set.</p>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>